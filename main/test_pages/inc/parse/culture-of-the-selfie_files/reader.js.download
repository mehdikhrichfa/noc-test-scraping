!function(e){var t,r=e.babelHelpers={};r.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r.jsx=(t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,r,n,i){var o=e&&e.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&o)for(var s in o)void 0===r[s]&&(r[s]=o[s]);else r||(r=o||{});if(1===a)r.children=i;else if(a>1){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+3];r.children=u}return{$$typeof:t,type:e,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}),r.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},r.asyncGenerator=function(){function e(e){this.value=e}function t(t){var r,n;function i(r,n){try{var a=t[r](n),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){i("next",e)},function(e){i("throw",e)}):o(a.done?"return":"normal",a.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?i(r.key,r.arg):n=null}this._invoke=function(e,t){return new Promise(function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null};n?n=n.next=s:(r=n=s,i(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),r.asyncGeneratorDelegate=function(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise(function(t){t(e[r](i))}),{done:!1,value:t(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return i("return",e)}),r},r.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}},r.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r.defineEnumerableProperties=function(e,t){for(var r in t){var n=t[r];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r,n)}return e},r.defaults=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e},r.defineProperty=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},r.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.get=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},r.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},r.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},r.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},r.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},r.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},r.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},r.objectWithoutProperties=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},r.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},r.selfGlobal=void 0===e?self:e,r.set=function e(t,r,n,i){var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,r,n,i)}else if("value"in o&&o.writable)o.value=n;else{var s=o.set;void 0!==s&&s.call(i,n)}return n},r.slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var r,n=[],i=e[Symbol.iterator]();!(r=i.next()).done&&(n.push(r.value),!t||n.length!==t););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},r.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},r.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},r.temporalRef=function(e,t,r){if(e===r)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},r.temporalUndefined={},r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},r.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}}("undefined"==typeof global?self:global),(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,t,r){"use strict";r.d(t,"e",function(){return i}),r.d(t,"k",function(){return o}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"d",function(){return u}),r.d(t,"f",function(){return c}),r.d(t,"g",function(){return l}),r.d(t,"h",function(){return d}),r.d(t,"j",function(){return p}),r.d(t,"c",function(){return h}),r.d(t,"i",function(){return f});var n=ENV||window.ENV,i=n.ISSUU_ENV_NAME,o=n.SCHEME,a=n.API_DNS,s=n.EMBED_DNS,u=n.IMAGE_DNS,c=n.MAIN_DNS,l=(n.STATIC_DNS,n.PHOTO_DNS),d=n.PINGBACK_DNS,p=n.READER3_DNS,h=n.GOOGLE_ANALYTICS_ID,f=n.QUANTCAST_ID},function(e,t,r){"use strict";r.r(t),r.d(t,"createReader",function(){return P});r(769),r(567),r(566);var n=r(291);r.d(t,"paywallExports",function(){return n.a});var i=r(22);r.d(t,"readerArgs",function(){return i});var o=r(0),a=r.n(o),s=r(69),u=r(34),c=r(451),l=r(176);r.d(t,"Failed",function(){return l.a});var d=r(368),p=r(364),h=r(363),f=r(362),m=r(15),g=r(111),v=r(361),_=r(360),b=r(359),y=r(358),T=r(8),E=r(357),w=r(356),C=r(355),x=r(354),S=r(353),O=r(352),R=r(351),I=r(350);if(window.chrome){var A=document.createElement("div");A.style.position="absolute",A.style.left="0px",A.style.top="0px",A.innerHTML=I.a,document.body&&document.body.appendChild(A)}function P(e){!function e(t,r){var n=Object.keys(r),i=Array.isArray(n),o=0;for(n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var s=a,u=r[s];"object"!==(void 0===u?"undefined":babelHelpers.typeof(u))||Object(O.a)(u)?null!==t[s]&&void 0!==t[s]||(t[s]=u):t[s]=e(t[s]||{},u)}return t}(e,{document:{initialPageNumber:1},features:{allowUIToOverlayCover:!0,backgroundColor:"#353535",canUseCredentials:!1,fullscreenBackgroundColor:"#353535",enableFind:!0},preloadedState:{},trackerConfig:{streamData:{}}});var t=e.metrics,r=e.network,n=e.trackerConfig,i=e.gaTracker,o=e.quantcastTracker,l=e.features,I=e.readMorePlugin,A=e.connector;if(!A)throw new Error("Missing data to initialize reader (username && name) | (connector)");var P=R.a.isWebGLSupported();t.monitor("READER3_WEBGL",{webgl:P?1:0,no_webgl:P?0:1}),function(e){e.monitor("READER3_POLYFILLS",{"whatwg-fetch":window.fetch.polyfill?1:0})}(t);var k=e.document?e.document.embedId:void 0,N=new v.a(t),L=Object(S.a)(A,m.b),D=[p.a,h.a,Object(_.a)(t,m.b),Object(b.a)(N,m.b),Object(y.a)(t,m.b,n.startTrackingOnLoad),Object(g.b)(t),L.middleware,f.a];if(o){var M=new E.a(o);D.push(Object(w.a)(M,m.b))}if(i){var H=new C.a(i);D.push(Object(x.a)(H,m.b))}var F=new T.b(t,n.sessionId),U=(e.document?e.document.initialPageNumber:1)||1,B=d.a(r,n.sessionId,n.embedTrackingQuery,k,U,l,F,I,P),j=s.c,z=Object(s.d)(B,e.preloadedState,j(s.a.apply(void 0,D))),G=a.a.createElement(u.a,{store:z},a.a.createElement(c.a,{documentConnector:A,loadStatsTracker:N,featureTracker:F,metrics:t})),W=L.api(z);return window.ISSUU_READER_STORE=z,window.ISSUU_READER_OBJECT=G,window.ISSUU_READER_EXTERNAL_API=W,{reader:G,api:W}}},,function(e,t,r){"use strict";r.d(t,"i",function(){return o}),r.d(t,"g",function(){return a}),r.d(t,"h",function(){return s}),r.d(t,"c",function(){return u}),r.d(t,"a",function(){return c}),r.d(t,"d",function(){return l}),r.d(t,"f",function(){return d}),r.d(t,"e",function(){return p}),r.d(t,"b",function(){return g});var n=r(56),i=r(61),o="tooltip-operation",a="link-operation",s="shadow-operation",u="depth-map-operation",c="bending-page-operation",l="fill-bending-page-operation",d="highlight-operation",p="highlight-flash-operation",h=[];function f(e){return Array.isArray(e)?e:null!==e&&void 0!==e?[e]:h}var m={_pool:[],created:0,get:function(e,t,r,n){if(this._pool.length){var i=this._pool.pop();return i.x=e,i.y=t,i.width=r,i.height=n,i}return this.created++,{x:e,y:t,width:r,height:n}},release:function(e){this._pool.push(e)},unreleasedCount:function(){return this.created-this._pool.length}},g=function(){function e(t,r){babelHelpers.classCallCheck(this,e),this.props=t,this.parent=r}return e.prototype.getChildTree=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[]},e.prototype.requestRedraw=function(){this.root._pendingRedraw=!0},e.prototype.getChildrenToTraverse=function(){return this.children},e.prototype.getVisibleChildren=function(){var t=m.get(0,0,this.width,this.height),r=[];return e.traverse(this,function(e,n,o,a){return 0===a||(Object(i.a)(t,n)&&e.isVisible&&r.push(e),!1)},this.getViewportCTM()),m.release(t),r},e.prototype.getVisibleDescendants=function(){var t=m.get(0,0,this.width,this.height),r=[];return e.traverse(this,function(e,n,o,a){return 0===a||(Object(i.a)(t,n)&&e.isVisible&&r.push(e),!0)},this.getViewportCTM()),m.release(t),r},e.prototype.overlaps=function(e){var t=this.bbox,r=Object(i.a)(e,t);return m.release(t),r},e.prototype.shouldComponentUpdate=function(e){if(this.props===e)return!1;var t=Object.keys(this.props),r=Object.keys(e);if(t.length!==r.length)return!0;for(var i=0;i<t.length;i++){var o=t[i];if(this.props[o]instanceof n.a&&e[o]instanceof n.a&&!this.props[o].isEqualWith(e[o]))return!0;if(this.props[o]!==e[o])return!0}return!1},e.prototype.getViewportCTM=function(){var e=this.transform;return this.parent&&(e=this.parent.getViewportCTM().multiply(e)),e},e.prototype.forceUpdate=function(){e.updateProps(this,this.props,!0)},e.updateProps=function(t,r,n){var i={type:Object.getPrototypeOf(t).constructor,props:r};e.buildTree(i,t,t,null,n)},e.buildTree=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!t&&r)return r;var s=t.type,u=t.props;if(r){if(s.prototype!==Object.getPrototypeOf(r))throw new Error("Unsupported update. Trying to replace "+Object.getPrototypeOf(r).constructor.name+" with "+s.prototype.constructor.name);var c=Object.assign({},r.props,u),l=o||r.shouldComponentUpdate(c);l&&r.componentWillUpdate&&r.componentWillUpdate(c);var d=r.props;if(r.props=c,l){var p=f(r.getChildTree(!0)),h=r&&r.children||[];p.forEach(function(t,r){e.buildTree(t,h[r],n,null,o,a+1)}),r.componentDidUpdate&&r.componentDidUpdate(d),r.requestRedraw()}return r}var m=new s(u,i);m.owner=n;var g=m.getChildTree();return m.children=f(g).map(function(t){return e.buildTree(t,r,m,m,o,a+1)}),m.componentDidMount&&m.componentDidMount(),m},e.createElement=function(e,t){return{type:e,props:t||{}}},e.traverse=function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new n.a,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=o.transformRect(m.get(0,0,t.width,t.height));if(r(t,s,o,a)){var u=t.getChildrenToTraverse();if(u&&u.length){var c=u.slice(0).sort(function(e,t){return e.zOrder-t.zOrder}),l=Array.isArray(c),d=0;for(c=l?c:c[Symbol.iterator]();;){var p;if(l){if(d>=c.length)break;p=c[d++]}else{if((d=c.next()).done)break;p=d.value}var h=p,f=o.matrix[0],g=o.matrix[1],v=o.matrix[2],_=o.matrix[3],b=o.matrix[4],y=o.matrix[5];o.mMultiply(h.transform);var T=o.transformRect(m.get(0,0,h.width,h.height));Object(i.a)(s,T)&&e.traverse(h,r,o,a+1),o.mSet(f,g,v,_,b,y),m.release(T)}}m.release(s)}else m.release(s)},e.drawWebgl=function(t,r,n){var i=r.gl;if(i){var h={width:i.drawingBufferWidth,height:i.drawingBufferHeight},f=[];e.drawTree(t,n,null,function(e,t){e.appendWebglOps&&e.appendWebglOps(f,t,h)}),i.clearColor(0,0,0,0),i.clearStencil(0),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT),f.forEach(function(e){var t,n,i,h,f,m,g,v;switch(e.type){case o:(t=r.linkTooltip).draw.apply(t,e.args);break;case a:(n=r.link).draw.apply(n,e.args);break;case s:(i=r.shadowDraw).draw.apply(i,[r.shadow.depthMapTexture].concat(e.args));break;case c:(h=r.bendingPage).draw.apply(h,e.args);break;case l:(f=r.bendingPage).fill.apply(f,e.args);break;case u:(m=r.shadow).computeDepthMap.apply(m,e.args);break;case d:(g=r.highlights).draw.apply(g,e.args);break;case p:(v=r.highlights).drawSelected.apply(v,e.args);break;default:throw new Error("Unknown 3d operation: "+e.type)}})}},e.draw2d=function(t,r,n){r.clearRect(n.x,n.y,n.width,n.height),e.drawTree(t,n,null,function(e,t){e.draw&&e.draw(r,t)})},e.drawTree=function(t,r,o,a){if(t._pendingRedraw&&(t._pendingRedraw=!1),t.isVisible){var s=o?new Float32Array(o.matrix):null;o?o.mMultiply(t.transform):o=(new n.a).mMultiply(t.getViewportCTM());var u=o.transformRect(m.get(0,0,t.width,t.height));if(Object(i.a)(r,u)){t.beforeDraw&&t.beforeDraw(u),a(t,u);var c=t.getChildrenToTraverse();c&&c.length&&c.slice(0).sort(function(e,t){return e.zOrder-t.zOrder}).forEach(function(t){return e.drawTree(t,r,o,a)}),t.afterDraw&&t.afterDraw(u)}m.release(u),s&&o.mSetMatrix(s)}},e.connect=function(t,r){return function(n){function i(e,o){babelHelpers.classCallCheck(this,i);var a=e.store||o.root&&o.root.__store__;if(!a)throw new Error("Cannot connect "+t.toString()+": Cannot get store!");var s=a.getState(),u=babelHelpers.possibleConstructorReturn(this,n.call(this,babelHelpers.extends({},e,{dispatch:a.dispatch},r(s)),o));return u._unsubscribe=function(){},u}return babelHelpers.inherits(i,n),i.prototype.componentDidMount=function(){var n=this,i=this.root.__store__;if(!i)throw new Error("Root component has no store, cannot connect");this._unsubscribe=i.subscribe(function(){var t=i.getState(),o=Object.assign({dispatch:i.dispatch},n.props,r(t));e.updateProps(n,o)});var o=t.prototype.componentDidMount;o&&o.call(this)},i.prototype.componentWillUnmount=function(){this._unsubscribe();var e=t.prototype.componentWillUnmount;e&&e.call(this)},babelHelpers.createClass(i,[{key:"displayName",get:function(){return"Connected"+t.name}}]),i}(t)},e.unmountTree=function(t){var r=t.children,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var a=o;e.unmountTree(a)}t.componentWillUnmount&&t.componentWillUnmount()},babelHelpers.createClass(e,[{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"inAnimation",get:function(){return!!this.parent&&this.parent.inAnimation}},{key:"hasPendingRedraw",get:function(){return this.root._pendingRedraw}},{key:"transform",get:function(){return this._transform||(this._transform=this.props.transform||new n.a),this._transform}},{key:"viewportBBox",get:function(){return this.getViewportCTM().transformRect(m.get(0,0,this.width,this.height))}},{key:"bbox",get:function(){return this.transform.transformRect(m.get(0,0,this.width,this.height))}},{key:"width",get:function(){return this.props.width||0}},{key:"height",get:function(){return this.props.height||0}},{key:"zOrder",get:function(){return 0}},{key:"isVisible",get:function(){return!0}},{key:"displayName",get:function(){return Object.getPrototypeOf(this).constructor.name}}]),e}();g.RectPool=m,g.lastTick=0},,function(e,t,r){"use strict";r.d(t,"G",function(){return v}),r.d(t,"q",function(){return _}),r.d(t,"w",function(){return b}),r.d(t,"D",function(){return y}),r.d(t,"v",function(){return T}),r.d(t,"t",function(){return E}),r.d(t,"h",function(){return w}),r.d(t,"H",function(){return C}),r.d(t,"k",function(){return x}),r.d(t,"j",function(){return S}),r.d(t,"A",function(){return O}),r.d(t,"y",function(){return R}),r.d(t,"m",function(){return I}),r.d(t,"s",function(){return A}),r.d(t,"d",function(){return P}),r.d(t,"c",function(){return k}),r.d(t,"a",function(){return N}),r.d(t,"C",function(){return L}),r.d(t,"B",function(){return D}),r.d(t,"p",function(){return M}),r.d(t,"F",function(){return H}),r.d(t,"f",function(){return F}),r.d(t,"g",function(){return U}),r.d(t,"u",function(){return B}),r.d(t,"r",function(){return j}),r.d(t,"o",function(){return z}),r.d(t,"n",function(){return G}),r.d(t,"b",function(){return W}),r.d(t,"e",function(){return V}),r.d(t,"E",function(){return Y}),r.d(t,"x",function(){return Z}),r.d(t,"z",function(){return K}),r.d(t,"l",function(){return q}),r.d(t,"i",function(){return Q});var n=r(7),i=r(35),o=r(246),a=r(190),s=r(23),u=r(19),c=r(38),l=r(16),d=r(108),p=r(17),h=r(22),f=r(11),m=r(26);function g(e){return Object(n.createSelector)(function(e){return e.features.controls},function(t){for(var r=0;r<t.length;r++)if(t[r].type===e)return t[r]})}var v=g(h.ZOOM_TYPE),_=g(h.ISSUU_BRANDING_TYPE),b=g(h.NAVIGATION_LINK_TYPE),y=g(h.SHARE_DIALOG_TYPE),T=g(h.NAVIGATION_ARROWS_TYPE),E=g(h.LINKS_TYPE),w=function(e){return e.features.canUseCredentials},C=Object(n.createSelector)(function(e){return e.reader.zoomLevel},function(e){return 100/(m.b-m.c)*(e-m.c)}),x=function(e){return e.reader.positionInPercent},S=function(e){return e.reader.currentPageNumbers},O=Object(n.createSelector)(function(e){return e.features.readModeRules},p.d,function(e){return e.size.width},function(e){return e.size.height},function(e,t,r,n){return Object(a.a)(r,n,t,e)}),R=Object(n.createSelector)(O,function(e){return Object(c.b)(e)},function(e){return Object(c.e)(e)},function(e,t,r){return e===f.DOUBLE_PAGE_SPREAD?r:t.map(function(e){return{pages:[e]}})}),I=Object(n.createSelector)(S,O,function(e,t){return Object(i.a)(t,e[0])}),A=Object(n.createSelector)(O,function(e){return Object(l.d)(e)},function(e,t){var r=t.pageCount;return Object(i.a)(e,r)}),P=Object(n.createSelector)(I,A,function(e,t){return e===t}),k=Object(n.createSelector)(I,function(e){return 0===e}),N=function(e){var t=e.features.showControlsUntilFirstInteraction,r=e.reader,n=r.interactedWithReader,i=r.hoveringOverControls,o=r.interactingWithControls,a=r.isIdle,s=e.headerControls,u=s.visibleDropdown,c=s.readMoreDropdownVisible,l=e.find.isVisible;return!!(i||o||null!==u||c||t&&!n||l)||!a},L=Object(n.createSelector)(function(e){return e.size.width},function(e){return e.size.height},function(e,t){var r=Object(s.a)();return Math.floor(e/r)+"x"+Math.floor(t/r)}),D=Object(n.createSelector)(function(e){return e.size.width},function(e){return e.size.height},function(e,t){var r=Object(s.a)();return e<=200*r||t<=150*r?d.c:e<=400*r||t<=300*r?d.b:d.a}),M=Object(n.createSelector)(D,p.d,function(e,t){return(e===d.c||e===d.b)&&!t}),H=Object(n.createSelector)(D,_,function(e,t){return!(e===d.c||!t)}),F=Object(n.createSelector)(p.d,function(e){return Object(u.h)(e)},function(e){return e.features.backgroundColor},function(e){return e.features.fullscreenBackgroundColor},function(e,t,r,n){return e?n&&t?n:"#353535":r||"#353535"}),U=Object(n.createSelector)(p.d,function(e){return Object(u.i)(e)},function(e){return e.features.backgroundImage},function(e,t,r){if(r&&t&&(e||!r.hideWhenNotInFullscreen))return r}),B=Object(n.createSelector)(p.d,function(e){return Object(u.j)(e)},function(e){return e.features.logo},function(e,t,r){if(r&&t&&(e||!r.hideWhenNotInFullscreen))return r}),j=function(e){return e.config.embedTrackingQuery},z=Object(n.createSelector)(function(e){return e.config.origins.main},function(e){return Object(l.d)(e)},S,function(e,t,r){return""+e+t.path+"/"+r[0]}),G=Object(n.createSelector)(function(e){return Object(l.d)(e)},S,function(e,t){var r="https://issuu.com"+e.path,n=t[0];return n>1?r+"/"+n:r}),W=function(e){var t=e.headerControls,r=t.visibleDropdown,n=t.readMoreDropdownVisible;return null!==r||n},V=Object(n.createSelector)(function(e){return e.headerControls.readMoreDropdownVisible},function(e){return e.readmore.exitedFullscreen},function(e){return e.readMorePlugin},function(e){return Object(u.o)(e)},function(e){return Object(u.m)(e)},function(e,t,r,n,i){var o=r&&r.shouldRenderExitFullscreenOverlay(n,i);return!!(e||t&&o)}),Y=Object(n.createSelector)(p.e,M,function(e,t){return!!(e&&e.overlayOnSmallReaders&&t)}),X=Object(n.createSelector)(function(e){return e.reader.targetSpreadIndex},I,function(e,t){return e>-1?e:t}),Z=Object(n.createSelector)(X,R,function(e,t){return Object(o.a)(e,t)}),K=Object(n.createSelector)(X,R,function(e,t){return Object(o.b)(e,t)}),q=Object(n.createSelector)(S,function(e){return Object(c.b)(e)},function(e,t){return Object(i.c)({pages:e.map(function(e){return t[e-1]})})}),Q=Object(n.createSelector)(E,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e&&!e.allowExplicitVideo})},,function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a});var n={BUTTON_ARROW_BACKWARD:["HO_CHANGE_PAGE","HO_INPUT_BUTTON"],BUTTON_ARROW_FORWARD:["HO_CHANGE_PAGE","HO_INPUT_BUTTON"],BUTTON_CTA_OVERLAY:["HO_INPUT_BUTTON","HO_ENTER_FULLSCREEN"],BUTTON_FULLSCREEN:["HO_INPUT_BUTTON","HO_ENTER_FULLSCREEN"],BUTTON_ENGAGE_LARGEVIEW:["HO_INPUT_BUTTON"],BUTTON_DISENGAGE_LARGEVIEW:["HO_INPUT_BUTTON"],BUTTON_ZOOMIN:["HO_CHANGE_ZOOM","HO_INPUT_BUTTON"],BUTTON_ZOOMOUT:["HO_CHANGE_ZOOM","HO_INPUT_BUTTON"],BUTTON_LOGO:["HO_INPUT_BUTTON"],BUTTON_DOWNLOAD:["HO_INPUT_BUTTON"],GESTURE_DRAG_PAGES:["HO_CHANGE_PAGE","HO_INPUT_GESTURE"],GESTURE_PINCH_ZOOM:["HO_CHANGE_ZOOM","HO_INPUT_GESTURE"],DOUBLE_TAP_ZOOM:["HO_CHANGE_ZOOM","HO_INPUT_GESTURE"],KEYBOARD_BACKWARD:["HO_CHANGE_PAGE","HO_INPUT_KEYBOARD"],KEYBOARD_FORWARD:["HO_CHANGE_PAGE","HO_INPUT_KEYBOARD"],SLIDER_PAGES:["HO_CHANGE_PAGE","HO_INPUT_SLIDER"],SLIDER_ZOOM:["HO_CHANGE_ZOOM","HO_INPUT_SLIDER"],BUTTON_SHARE:["HO_INPUT_BUTTON"],SHARE_EMAIL:["HO_SHARE_SOCIAL"],SHARE_FACEBOOK:["HO_SHARE_SOCIAL"],SHARE_TWITTER:["HO_SHARE_SOCIAL"],SHARE_PINTEREST:["HO_SHARE_SOCIAL"],BUTTON_MORE:["HO_MORE_CONTENT","HO_INPUT_BUTTON"],FULLSCREEN_MORE:["HO_MORE_CONTENT"],PUBLICATION_LINK:[],PUBLICATION_VIDEO_LINK:[],PUBLICATION_INLINE_VIDEO_LINK:[],DOWNLOAD_FROM_ISSUU_LINK:[],NAVIGATION_LINK:[],BUTTON_OPEN_FIND:["HO_INPUT_BUTTON","HO_OPEN_FIND",{opportunity:"HO_FIND"}],KEYBOARD_OPEN_FIND:["HO_INPUT_KEYBOARD","HO_OPEN_FIND",{opportunity:"HO_FIND"}],FIND_QUERY:[{usage:"HO_FIND"}],FIND_NEXT:[],FIND_PREV:[],FIND_CLOSE:[],FIND_CLOSE_BLUR:[]},i=Object.keys(n).reduce(function(e,t){return e[t]=t,e},{});function o(e,t){return n[e].reduce(function(e,r){return"string"==typeof r?e.push(r):r.hasOwnProperty(t)&&e.push(r[t]),e},[e])}var a=function(){function e(t,r){babelHelpers.classCallCheck(this,e),this._opportunitySent={},this._usageSent={},this.monitorTracker=t,this.userId=r}return e.prototype.opportunity=function(e){var t=this;this._opportunitySent.hasOwnProperty(e)||o(e,"opportunity").forEach(function(e){if(!t._opportunitySent.hasOwnProperty(e)){var r="reader3-features."+e;t.monitorTracker.monitor(r,{opportunity:1,userId:t.userId}),t._opportunitySent[e]=!0}})},e.prototype.usage=function(e){var t=this;o(e,"usage").forEach(function(e){var r="reader3-features."+e,n=t._usageSent.hasOwnProperty(e)?0:1;t.monitorTracker.monitor(r,{usageRepeat:1,usageFirst:n,userId:t.userId}),t._usageSent[e]=!0})},e}()},function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return u}),r.d(t,"q",function(){return m}),r.d(t,"g",function(){return g}),r.d(t,"p",function(){return v}),r.d(t,"o",function(){return _}),r.d(t,"i",function(){return b}),r.d(t,"h",function(){return y}),r.d(t,"d",function(){return T}),r.d(t,"n",function(){return E}),r.d(t,"m",function(){return w}),r.d(t,"l",function(){return C}),r.d(t,"k",function(){return x}),r.d(t,"f",function(){return S}),r.d(t,"e",function(){return O}),r.d(t,"j",function(){return R});var n=r(6),i="SET_TARGET_SPREAD_INDEX",o="SET_INTERACTING_WITH_CONTROLS",a="SET_INTERACTED_WITH_READER",s="SET_HOVERING_OVER_CONTROLS",u="READER_ZOOM_LEVEL_CHANCED",c="LARGE_VIEW_HIDE",l="LARGE_VIEW_SHOW_ENGAGED",d="LARGE_VIEW_SHOW_DISENGAGED",p="LARGE_VIEW_BUTTON_PROMOTED",h="LARGE_VIEW_BUTTON_NOT_PROMOTED",f="LARGE_VIEW_BUTTON_CLICKED",m={SET_TARGET_SPREAD_INDEX:i,SET_INTERACTING_WITH_CONTROLS:o,SET_INTERACTED_WITH_READER:a,SET_HOVERING_OVER_CONTROLS:s,READER_ZOOM_LEVEL_CHANCED:u,LARGE_VIEW_HIDE:c,LARGE_VIEW_SHOW_ENGAGED:l,LARGE_VIEW_SHOW_DISENGAGED:d,LARGE_VIEW_BUTTON_PROMOTED:p,LARGE_VIEW_BUTTON_NOT_PROMOTED:h,LARGE_VIEW_BUTTON_CLICKED:f};function g(){return{type:c}}function v(){return{type:l}}function _(){return{type:d}}function b(){return{type:p}}function y(){return{type:h}}function T(){return{type:f}}function E(e){return{type:o,val:e}}function w(){return{type:a}}function C(e){return{type:s,val:e}}function x(e){return function(t,r){var o=r(),a=Object(n.s)(o),s=Math.max(0,Math.min(e,a));t(function(e){return{type:i,index:e}}(s));var u=r().canvasApi;u&&u.goToSpread(s)}}function S(){return function(e,t){var r=t(),i=Object(n.z)(r);return-1===i&&(i=0),e(x(i))}}function O(){return function(e,t){var r=t(),i=Object(n.x)(r);return-1===i&&(i=Object(n.s)(r)),e(x(i))}}function R(e,t){return{type:u,isPinching:t,zoomLevel:e}}},,function(e,t,r){"use strict";r.r(t),r.d(t,"DOUBLE_PAGE_SPREAD",function(){return n}),r.d(t,"SINGLE_PAGE_SPREAD",function(){return i}),r.d(t,"RESPONSIVE",function(){return o});var n="DOUBLE_PAGE_SPREAD",i="SINGLE_PAGE_SPREAD",o={HANDHELD_IN_PORTRAIT:"HANDHELD_IN_PORTRAIT",HANDHELD_IN_PORTRAIT_FULLSCREEN:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN",PHONE_ISH_IN_PORTRAIT:"PHONE_ISH_IN_PORTRAIT"}},function(e,t,r){"use strict";r.d(t,"g",function(){return l}),r.d(t,"a",function(){return d}),r.d(t,"j",function(){return p}),r.d(t,"h",function(){return h}),r.d(t,"i",function(){return f}),r.d(t,"f",function(){return m}),r.d(t,"e",function(){return v}),r.d(t,"c",function(){return _}),r.d(t,"d",function(){return b}),r.d(t,"l",function(){return y}),r.d(t,"b",function(){return T}),r.d(t,"k",function(){return E});var n=r(6),i=r(26),o=r(46),a=r(17),s=void 0;function u(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,r){var o=r();o.reader.isIdle&&t({type:"SET_IS_IDLE",isIdle:!1}),s&&clearTimeout(s),s=null,e&&(s=setTimeout(function(){t({type:"SET_IS_IDLE",isIdle:!0})},function(e){var t=e.reader.zoomLevel;return Object(a.d)(e)||n.E(e)||1!==t?i.d:31536e6}(o)))}}function c(){return function(e,t){t().reader.isIdle||e({type:"SET_IS_IDLE",isIdle:!0}),s&&(clearTimeout(s),s=null)}}function l(e){return function(t,r){var i=[o.j,o.i,o.k].includes(e),a=[o.h,o.a].includes(e),s=n.m(r()),l=n.s(r());t(a&&s>1||i&&s+1<l?c():u())}}function d(){return function(e,t){e(u())}}function p(){return function(e,t){e(u())}}function h(){return function(e,t){e(u())}}function f(){return function(e,t){e(c())}}function m(){return function(e,t){e(u())}}var g=NaN;function v(){return function(e,t){isNaN(g)&&(g=t().reader.zoomLevel),e(1!==g?c():u())}}function _(){return function(e,t){var r=t().reader.zoomLevel;e(1!==g&&1!==r?c():u(!1))}}function b(){return function(e,t){var r=t().reader.zoomLevel;e(1!==g&&1!==r?c():u()),g=NaN}}function y(){return function(e,t){e(u())}}function T(){return function(e,t){e(u())}}function E(){return function(e,t){e(u())}}},,,function(e,t,r){"use strict";r.d(t,"d",function(){return u}),r.d(t,"a",function(){return c}),r.d(t,"b",function(){return l});var n=r(100),i=r.n(n),o=r(283);r.d(t,"c",function(){return o.a});var a=r(1),s=[];function u(e){i.a.setExtraContext(e)}var c=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.install=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sessionId,r=void 0===t?null:t,n=e.extraContext,o=void 0===n?{}:n,c=e.tagsContext,l=void 0===c?{}:c;i.a.config("https://4ff726251e854b6187703bf21547f686@sentry.issuu.com/18",{ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Sharaf","onSnapchatPage","cordova","cookiesdirective","window.mraid","Javascript error: ReferenceError: Can't find variable: dataKeys on line 0","Javascript error: ReferenceError: Can't find variable: dataKeys on line 1","Javascript error: ReferenceError: Can't find variable: dataKeys on line 13","Javascript error: Script error. on line 0","Javascript error: Script error on line 0","Modernizr is not defined","$ is not a function","$ is not defined","__gCrWeb",/^resource:\/\//i,/\(--client-only--\)/i,"shopex"],collectWindowErrors:!0,maxMessageLength:1e3,maxBreadcrumbs:30,autoBreadcrumbs:{xhr:!0,console:!1,dom:!1,location:!1},environment:a.e,release:"1.0.1577",shouldSendCallback:function(e){var t=Date.now();return s.push(t),!(s.length>5)||t-s.shift()>6e4},dataCallback:function(e){if(e.exception&&e.exception.values){var t=e.exception.values[0];t&&"TypeError"===t.type&&t.value.includes("Symbol(Symbol.toStringTag)")&&(e.fingerprint=["TypeError: Symbol(Symbol.toStringTag)"])}return e.request.url.match(/embed.html#iargs/)&&e.extra&&e.extra.hostUrl&&"unknown"!==e.extra.hostUrl&&(e.request.url=e.extra.hostUrl+"#"+e.request.url.split("#")[1]),e}}),i.a.setUserContext({id:r}),u({hostUrl:window.document.location.toString(),hostReferrer:window.document.referrer.toString()}),o&&Object.keys(o).length&&u(o),l&&Object.keys(l).length&&i.a.setTagsContext(l),i.a.install()},e}();function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.extra=Object.assign({},t.extra,e.sentry_extra),i.a.captureException(e,t)}},function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return s}),r.d(t,"d",function(){return u}),r.d(t,"c",function(){return c});var n=r(7),i=r(1),o="@reader3/document/DOCUMENTLOADED",a={documentName:"",username:"",userDisplayName:"",publicationId:"",revisionId:"",title:"",downloadable:!1,isPaywallPreview:!1,isAdsafe:!1};function s(e){return{type:o,doc:e}}var u=Object(n.createSelector)(function(e){return e.metadata},function(e){return e.pages.pages},function(e){return e.config.origins},function(e,t,r){return{documentId:e.revisionId+"-"+e.publicationId,documentName:e.documentName,publicationId:e.publicationId,revisionId:e.revisionId,title:e.title,path:"/"+e.username+"/docs/"+e.documentName,coverUri:t[0]?""+i.k+t[0].imageUri:"",pageCount:t.length,userDisplayName:e.userDisplayName,username:e.username,userProfileImageUri:r.photo+"/"+e.username+"/photo_large.jpg",userProfileUri:r.main+"/"+e.username}});function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case o:var r=t.doc;return{documentName:r.documentName.toLowerCase(),username:r.username.toLowerCase(),userDisplayName:r.userDisplayName,publicationId:r.publicationId,revisionId:r.revisionId,title:r.title,downloadable:r.downloadable,isPaywallPreview:r.isPaywalled,protectedContentUrlId:r.protectedContentUrlId,isAdsafe:!(!r.contentRating||!r.contentRating.isAdsafe)};default:return e}}},function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"g",function(){return l}),r.d(t,"c",function(){return d}),r.d(t,"e",function(){return p}),r.d(t,"d",function(){return h}),r.d(t,"f",function(){return f});var n=r(7),i=r(72),o=r(115),a=r(189),s=r(22),u="ENTER_FULLSCREEN",c="EXIT_FULLSCREEN",l={ENTER_FULLSCREEN:u,EXIT_FULLSCREEN:c};function d(){var e={enabled:!1,supported:i.e()};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments[1];switch(r.type){case u:return Object.assign({},t,{enabled:r.fullscreenMethod===o.a});case c:return Object.assign({},t,{enabled:!1});default:return t}}}var p=Object(n.createSelector)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===s.FULLSCREEN_TYPE)return e[t]}),h=Object(n.createSelector)(p,function(e){return e.fullscreen.enabled},function(e,t){return Object(a.a)(e,t)});function f(e){return function(t,r){var n=r(),a=p(n),l=h(n);a&&a.kind!==s.FULLSCREEN_KIND.FALLBACK&&t(l?function(e,t){t().fullscreen.enabled&&i.c().then(function(){e({type:c,fullscreenMethod:o.a})})}:function(e){return function(t,r){var n=r(),a=n.fullscreen.enabled,s="";if(n.reader.isReady){var l=n.config.embedId;s=e+"?ff=true",l&&(s+="&e="+l)}var d=document.getElementById("ird3-main");i.e()?!a&&d&&i.b(d).then(function(){t({type:u,fullscreenMethod:o.a})}).then(i.g).then(function(){t({type:c,fullscreenMethod:o.a})}):(window.open(s,"_blank"),t({type:u,fullscreenMethod:o.b}))}}(e))}}},function(e,t,r){"use strict";var n=r(278);r.d(t,"b",function(){return n.a}),r.d(t,"c",function(){return n.b});var i=r(277);r.d(t,"d",function(){return i.a});var o=r(276);r.d(t,"a",function(){return o.a})},function(e,t,r){"use strict";r.d(t,"c",function(){return u}),r.d(t,"a",function(){return c}),r.d(t,"b",function(){return l}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return p}),r.d(t,"f",function(){return h}),r.d(t,"g",function(){return f}),r.d(t,"h",function(){return g}),r.d(t,"n",function(){return v}),r.d(t,"i",function(){return _}),r.d(t,"j",function(){return b}),r.d(t,"o",function(){return y}),r.d(t,"m",function(){return T}),r.d(t,"l",function(){return E}),r.d(t,"k",function(){return w}),r.d(t,"r",function(){return x}),r.d(t,"q",function(){return O}),r.d(t,"p",function(){return R});var n=r(7),i="@licenses/status/NOT_LOADED",o="@licenses/status/LOADED",a="@licenses/status/FAILED",s="@licenses/status/DISABLED",u="customization_set_bg_color",c="customization_disable_share",l="customization_remove_link_below",d="customization_set_bg_image",p="customization_set_logo",h="customization_show_my_other_publications",f="norelated";function m(e){return Object(n.createSelector)(function(e){return e.licenses},function(t){var r=t.status,n=t.list;return r===s||r===a||r===o&&n.includes(e)})}var g=m(u),v=m(c),_=(m(l),m(d)),b=m(p),y=m(h),T=m(f),E=m("hide_ads_in_reader"),w=Object(n.createSelector)(function(e){return e.licenses},function(e){var t=e.status,r=e.list;return t===o&&r.includes("download")}),C="@reader3/licenses/LICENSES_LOAD_SUCCESS";function x(e){return{list:e,type:C}}var S="@reader3/licenses/LICENSES_LOAD_FAILED";function O(){return{type:S}}function R(){var e={status:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?s:i,list:[]};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments[1];if(!r)return t;if(t.status===s)return t;switch(r.type){case C:return babelHelpers.extends({},t,{status:o,list:r.list});case S:return babelHelpers.extends({},t,{status:a});default:return t}}}},,,function(e,t,r){"use strict";r.r(t),r.d(t,"FULLSCREEN_TYPE",function(){return n}),r.d(t,"FULLSCREEN_KIND",function(){return i}),r.d(t,"FULLSCREEN_BUTTON",function(){return o}),r.d(t,"ISSUU_BRANDING_TYPE",function(){return a}),r.d(t,"LINKS_TYPE",function(){return s}),r.d(t,"SHARE_DIALOG_TYPE",function(){return u}),r.d(t,"NAVIGATION_LINK_TYPE",function(){return c}),r.d(t,"ZOOM_TYPE",function(){return l}),r.d(t,"FULLSCREEN_AD_PLACEMENT_TYPE",function(){return d}),r.d(t,"DOWNLOAD_TYPE",function(){return p}),r.d(t,"DOWNLOAD_PROTECTED_TYPE",function(){return h}),r.d(t,"NAVIGATION_ARROWS_TYPE",function(){return f}),r.d(t,"BACKGROUND_IMAGE_STYLE",function(){return m}),r.d(t,"READ_MODE",function(){return g});var n="FEATURE_FULLSCREEN",i={NORMAL:"NORMAL",FALLBACK:"FALLBACK"},o={ALWAYS:"ALWAYS",HIDE:"HIDE_WHEN_NOT_SUPPORTED"},a="FEATURE_ISSUU_BRANDING",s="FEATURE_LINKS",u="FEATURE_SHARE_DIALOG",c="FEATURE_NAVIGATION_LINK",l="FEATURE_ZOOM",d="FEATURE_FULLSCREEN_AD_PLACEMENT",p="FEATURE_DOWNLOAD",h="FEATURE_DOWNLOAD_PROTECTED",f="FEATURE_NAVIGATION_ARROWS",m={STRETCH:"STRETCH",TOP_LEFT:"TOP_LEFT"},g=r(11)},function(e,t,r){"use strict";function n(){return window.devicePixelRatio||1}r.d(t,"a",function(){return n})},,function(e,t,r){"use strict";r.r(t),r.d(t,"ReadMorePlugin",function(){return u});var n=r(339),i=r(334),o=r(0),a=r.n(o);function s(){return window.innerWidth<470&&window.innerWidth>window.innerHeight}var u=function(){function e(t){var r=t.metrics,n=t.embedTrackingQuery,i=void 0===n?"":n,o=t.show,a=void 0===o?e.RELATED:o,s=t.alwaysOverlay,u=void 0!==s&&s,c=t.hideWhenNotInFullscreen,l=void 0!==c&&c,d=t.openInNewTab,p=void 0===d||d;babelHelpers.classCallCheck(this,e),this.showMore=!1,this.showAd=!1,this.embedTrackingQuery="",this.metrics=r,this.show=a,this.embedTrackingQuery=i,this.alwaysOverlay=u,this.hideWhenNotInFullscreen=l,this.openInNewTab=p,this.showOwnDocuments=this.show===e.OWN_DOCUMENTS}return e.prototype.load=function(e,t,r,n,o){var a=this;return this.showMore=this.shouldShowMore(n,o),this.showOwnDocuments=this.shouldShowOwnDocuments(n),this.showAd=!o,this.publicationId=t,this.username=r,this.showMore?Object(i.a)(e,t,r,this.showOwnDocuments).then(function(e){return a.streamState=e,!0}):Promise.resolve(!1)},e.prototype.loadComplete=function(){return void 0!==this.streamState},e.prototype.shouldShowOwnDocuments=function(t){return this.show===e.OWN_DOCUMENTS&&t},e.prototype.shouldShowRelated=function(t,r){return this.show===e.RELATED||this.show===e.RELATED_FOR_FREE_PUBLISHERS&&!r||this.show===e.OWN_DOCUMENTS&&!t&&!r},e.prototype.shouldShowMore=function(e,t){return this.shouldShowRelated(e,t)||this.shouldShowOwnDocuments(e)},e.prototype.shouldAlwaysBeOverlay=function(){return this.alwaysOverlay},e.prototype.hasStreamData=function(){return this.loadComplete()&&this.streamState.buttonStream&&this.streamState.buttonStream.length>0},e.prototype.shouldRenderButton=function(e,t,r){return!(this.hideWhenNotInFullscreen&&!r)&&(this.hasStreamData()&&this.shouldShowMore(e,t))},e.prototype.shouldRenderExitFullscreenOverlay=function(e,t){return!this.hideWhenNotInFullscreen&&this.hasStreamData()&&this.shouldShowMore(e,t)},e.prototype.getButtonUnreadCount=function(){var e=void 0;return(e=void 0!==this.unreadCount?this.unreadCount:this.streamState&&this.streamState.buttonStream?this.streamState.buttonStream.length:void 0)&&s()&&(e=Math.min(e,3)),e},e.prototype.clearButtonUnreadCount=function(){this.unreadCount=0},e.prototype.render=function(e,t,r,i,o){return a.a.createElement(n.a,{config:e,debug:t,exitedFullscreen:r,embedTrackingQuery:this.embedTrackingQuery,isVisible:i,openInNewTab:this.openInNewTab,publicationId:this.publicationId,shouldHackStreamCount:s(),showAd:this.showAd,showAsOverlay:o,showMore:this.showMore,showOwnDocuments:this.showOwnDocuments,streamState:this.streamState,metrics:this.metrics,username:this.username})},e}();u.OWN_DOCUMENTS="READ_MORE_PlUGIN_OWN_DOCUMENTS",u.RELATED_FOR_FREE_PUBLISHERS="READ_MORE_PlUGIN_RELATED_FOR_FREE_PUBLISHERS",u.RELATED="READ_MORE_PlUGIN_RELATED"},function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return s}),r.d(t,"h",function(){return u}),r.d(t,"i",function(){return c}),r.d(t,"g",function(){return l}),r.d(t,"k",function(){return d}),r.d(t,"j",function(){return p}),r.d(t,"d",function(){return h});var n=1,i=5,o=500,a=250,s=20,u=20,c=45,l=20,d=20,p=45,h=3e3},,function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return o}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return s}),r.d(t,"h",function(){return u}),r.d(t,"g",function(){return c}),r.d(t,"f",function(){return l});var n="SWIPE_LEFT",i="SWIPE_RIGHT",o="SWIPE_UP",a="SWIPE_DOWN",s="SWIPE_OTHER",u="ZOOM_OUT",c="ZOOM_IN",l="UNDEFINED"},,function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"m",function(){return i}),r.d(t,"k",function(){return o}),r.d(t,"n",function(){return a}),r.d(t,"l",function(){return s}),r.d(t,"b",function(){return u}),r.d(t,"a",function(){return c}),r.d(t,"j",function(){return l}),r.d(t,"i",function(){return d}),r.d(t,"d",function(){return p}),r.d(t,"f",function(){return h}),r.d(t,"h",function(){return f}),r.d(t,"e",function(){return m}),r.d(t,"g",function(){return g});var n="DOCUMENT_LOAD_MESSAGE",i="USER_INTERACTED_MESSAGE",o="PAGE_CHANGE_MESSAGE",a="ZOOM_MESSAGE",s="RESIZE_MESSAGE",u="DOCUMENT_DOWNLOAD_MESSAGE",c="CLIPPING_ACTION_MESSAGE",l="MORE_CONTENT_DOCUMENT_SHOW_MESSAGE",d="MORE_CONTENT_DOCUMENT_CLICK_MESSAGE",p="MONITOR_BATCHED_MESSAGE",h="MONITOR_MESSAGE",f="MONITOR_TRAFFIC_SOURCE",m="MONITOR_DROPPED_FRAMES",g="MONITOR_TIME_TO_COVER"},function(e,t,r){"use strict";r.d(t,"g",function(){return u}),r.d(t,"a",function(){return c}),r.d(t,"t",function(){return l}),r.d(t,"e",function(){return d}),r.d(t,"d",function(){return p}),r.d(t,"u",function(){return h}),r.d(t,"b",function(){return f}),r.d(t,"f",function(){return m}),r.d(t,"m",function(){return g}),r.d(t,"n",function(){return v}),r.d(t,"r",function(){return _}),r.d(t,"p",function(){return b}),r.d(t,"i",function(){return y}),r.d(t,"o",function(){return E}),r.d(t,"q",function(){return w}),r.d(t,"h",function(){return C}),r.d(t,"j",function(){return x}),r.d(t,"s",function(){return S}),r.d(t,"l",function(){return O}),r.d(t,"k",function(){return R}),r.d(t,"c",function(){return I});var n=r(7),i=r(105),o=r(1),a={isVisible:!1,results:null,textInfoUrl:null,version:null,currentResultIdx:null,inputFieldValue:"",latestQuery:"",textInfo:"INITIAL",loadTextInfo:i.b};function s(){return function(e,t){switch(t().find.textInfo){case"INITIAL":case"FAILED":return e(function(e,t){var r=t().find,n=r.textInfoUrl,i=r.loadTextInfo;if(!n)throw new Error("attempting to find with textInfoUrl unset!");return e({type:"FIND_SET_TEXT_INFO_REQUESTED"}),i(""+o.k+n).then(function(t){return e({type:"FIND_SET_TEXT_INFO",textInfo:t})}).catch(function(){return e({type:"FIND_SET_TEXT_INFO_FAILED"})})});default:return Promise.resolve()}}}function u(){return function(e,t){return e({type:"FIND_OPEN_DIALOG"}),e(s()),Promise.resolve()}}function c(){return{type:"FIND_CLOSE_DIALOG"}}function l(e){return function(t,r){return Promise.resolve(t({type:"FIND_SET_CURRENT_RESULT",idx:e}))}}function d(e){if(e.target instanceof HTMLInputElement)return{type:"FIND_SET_INPUT_VALUE",value:e.target.value};throw new Error("type mismatch. Excpected input element!")}function p(e){return function(t,r){return function(n,i){return n({type:"FIND_SET_LATEST_QUERY",value:t}),n(s()).then(function(){var o=i().find.textInfo;if(t&&o instanceof Object){var a=e(t,o),s=a.findIndex(function(e){return e.pageNo>=r});return n({type:"FIND_SET_RESULTS",results:a,currentResultIdx:s<0?a.length-1:s})}return n({type:"FIND_SET_RESULTS",results:null,currentResultIdx:null})})}}}function h(e,t){return{type:"FIND_SET_TEXT_INFO_URL",url:e,version:t}}function f(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments[1];switch(r.type){case"FIND_OPEN_DIALOG":return Object.assign({},t,{isVisible:!0});case"FIND_CLOSE_DIALOG":return Object.assign({},t,{isVisible:!1});case"FIND_SET_TEXT_INFO_URL":return Object.assign({},t,{textInfoUrl:r.url,version:r.version});case"FIND_SET_TEXT_INFO_REQUESTED":return Object.assign({},t,{textInfo:"REQUESTED"});case"FIND_SET_TEXT_INFO_FAILED":return Object.assign({},t,{textInfo:"FAILED"});case"FIND_SET_TEXT_INFO":return Object.assign({},t,{textInfo:r.textInfo});case"FIND_SET_RESULTS":return Object.assign({},t,{results:r.results,currentResultIdx:r.currentResultIdx});case"FIND_SET_CURRENT_RESULT":return Object.assign({},t,{currentResultIdx:r.idx});case"FIND_SET_INPUT_VALUE":return Object.assign({},t,{inputFieldValue:r.value});case"FIND_SET_LATEST_QUERY":return Object.assign({},t,{latestQuery:r.value});case e:if(t.results){var n=r.currentPageNumber,i=t.results.findIndex(function(e){return e.pageNo>=n});return Object.assign({},t,{currentResultIdx:i<0?t.currentResultIdx:i})}return t;default:return t}}}var m=function(e){return e.find.isVisible},g=function(e){return e.find.latestQuery};function v(e){return!g(e)||"REQUESTED"!==e.find.textInfo&&"INITIAL"!==e.find.textInfo?"FAILED"===e.find.textInfo?"FAILED":"READY":"LOADING"}var _=Object(n.createSelector)(function(e){return e.find.results},function(e){return e||[]}),b=function(e){return Array.isArray(e.find.results)?e.find.results.length:null},y=function(e){return"number"==typeof e.find.currentResultIdx?e.find.currentResultIdx+1:0},T=Object(n.createSelector)(y,function(e){return e-1}),E=Object(n.createSelector)(_,T,function(e,t){return e.length?(t+1)%e.length:t}),w=Object(n.createSelector)(_,T,function(e,t){return e.length?(t+e.length-1)%e.length:t}),C=Object(n.createSelector)(_,T,function(e,t){return e[t]}),x=function(e){return e.find.inputFieldValue},S=(Object(n.createSelector)(_,E,function(e,t){return e[t]}),Object(n.createSelector)(_,w,function(e,t){return e[t]}),Object(n.createSelector)(function(e){return e.find.textInfo},function(e){return e instanceof Object?e.pages.map(function(e){return{width:e.width,height:e.height,pageNumber:e.pageNumber}}):[]}));function O(e){var t=e.find;return t.latestQuery!==t.inputFieldValue}var R=function(e){return!!e.find.textInfoUrl};function I(e,t,r,i){return Object(n.createSelector)(e,t,r,_,function(e,t,r,n){if(!e||!r)return[];var o=n.reduce(function(e,t){return e.add(i(r,t.pageNo))},new Set);return Array.from(o).map(function(e){return e*(1/t)})})}},,,,function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return a});var n=r(11);function i(e,t){return e===n.DOUBLE_PAGE_SPREAD?1===t?0:Math.floor(t/2):t-1}function o(e){return e.pages.findIndex(function(e){return e.isPagePaywalled})>=0}function a(e){var t=[],r=e.length;if(r>0){t.push({pages:[e[0]]});for(var n=1;n<r-1;n+=2)t.push({pages:[e[n],e[n+1]]});r%2==0&&t.push({pages:[e[r-1]]})}return t}},function(e,t,r){"use strict";var n=r(64);r.d(t,"e",function(){return n.c}),r.d(t,"f",function(){return n.d});var i=r(280);r.d(t,"d",function(){return i.a});var o=r(279);r.d(t,"c",function(){return o.a});var a=r(207);r.d(t,"b",function(){return a.b}),r.d(t,"a",function(){return a.a})},,function(e,t,r){"use strict";r.d(t,"b",function(){return l}),r.d(t,"e",function(){return d}),r.d(t,"a",function(){return p}),r.d(t,"d",function(){return h}),r.d(t,"c",function(){return f});var n=r(7),i=r(1),o=r(39),a=r(16),s=r(35),u=Object(n.createSelector)(function(e){return e.pages.pages},function(e){return e.map(function(e,t){var r=e.imageUri,n=e.layersInfo;return"object"===(void 0===n?"undefined":babelHelpers.typeof(n))&&n.uri&&(n=babelHelpers.extends({},n,{uri:""+i.k+n.uri})),r=""+i.k+r,babelHelpers.extends({},e,{layersInfo:n,imageUri:r})})}),c=Object(n.createSelector)(u,function(e){return e.links.pages},function(e,t){return e.map(function(e,r){var n=t[r];return n?n.links:[]})}),l=Object(n.createSelector)(u,c,a.d,function(e){return o.d.selectTextInfoPageModels(e)},function(e){return o.d.selectResults(e)},function(e){return o.d.selectCurrentResult(e)},function(e,t,r,n,i,o){return e.map(function(e,a){return babelHelpers.extends({},e,{links:t[a],pageNumber:a+1,documentId:r.documentId,textInfoPage:n.find(function(e){return e.pageNumber===a+1}),findResults:i.reduce(function(e,t){return t.pageNo===a+1&&e.push(t.result),e},[]),selectedFindResult:o&&o.pageNo===a+1?o.result:null})})}),d=Object(n.createSelector)(l,function(e){return Object(s.b)(e)}),p=function(e){return e.metadata.isPaywallPreview},h=function(e){return e.metadata.protectedContentUrlId},f=Object(n.createSelector)(function(e){return e.metadata},function(e){return e.pages.pages},function(e,t){return e.isPaywallPreview?t.reduce(function(e,t,r){return t.isPagePaywalled&&e.push(r+1),e},[]):[]})},function(e,t,r){"use strict";r.d(t,"c",function(){return m}),r.d(t,"a",function(){return d}),r.d(t,"b",function(){return p}),r.d(t,"d",function(){return f});var n=r(7),i=r(475),o=r(65),a=r(35),s=r(104),u=r(16),c=r(50),l=Object(i.a)({Spinner:s.a,isMobile:o.a.isMobile(),jumpToPageNumber:function(e,t){e.canvasApi.jumpToPage(t)},pageNumberToSpreadIndex:a.a,resetZoom:function(e){e.canvasApi.zoomCurrentView(1)},selectCurrentPageNumber:function(e){return e.reader.currentPageNumber},selectPageCount:function(e){return Object(u.d)(e).pageCount},selectReadMode:Object(n.createSelector)(function(e){var t=e.canvasApi;return t&&t.getReadMode()},function(e){return e}),selectSpreadCount:Object(n.createSelector)(function(e){var t=e.canvasApi;return t&&t.getReadMode()},function(e){return Object(u.d)(e)},function(e,t){var r=t.pageCount;return e&&r?Object(a.a)(e,r):0})}),d=l.actions,p=l.components,h=l.createReducer,f=l.selectors;function m(){return h(c.a)}},,function(e,t,r){"use strict";r.r(t),r.d(t,"getLoggedInUsername",function(){return a}),r.d(t,"Metrics",function(){return s});var n=r(30),i=r(349),o=r(341);function a(){try{return window.document.cookie.match(/\bsite.model.username=([^;]+);/)[1]}catch(e){return null}}var s=function(){function e(t,r){var n,s,u,c,l,d,p,h,f,m,g,v,_;babelHelpers.classCallCheck(this,e),this._isTrackerReady=!1,this._interactedWithReader=!1,this._previousPages=[],this._previousZoom=1,this.metricsEvent=(s=(n=t).location,u=n.referrer,c=n.monitorEventsOnly,l=n.readerEndPoint,d=n.pingbackOrigin,p=n.source,h=Object(o.a)(),f=h.deviceType,m=h.browserName,g="reader3-v1.0.1577_"+l+"-v1.0.1577",v={pingbackOrigin:d,monitorEventsOnly:c,width:window.innerWidth,height:window.innerHeight,username:a(),location:s,referrer:u,source:p,origin:g,language:"en",deviceType:f,browserName:m,readerEndPoint:l},_=new i.a(v),function(e){_.onEvent(e)}),this.streamData=t.streamData||{},this.isEmbed=t.isEmbed,this.adpageId=t.adpageId,this.embedId=r}return e.prototype.monitor=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign({type:e},t);this.metricsEvent({type:r?n.f:n.d,data:i})},e.prototype.onDocumentLoaded=function(e,t){var r=e.publicationId,i=e.revisionId,o=e.documentName,a=e.username;this._previousPages=t,this._isTrackerReady=!0,this.metricsEvent({type:n.c,data:{isEmbed:this.isEmbed,isFullscreen:!1,revisionId:i,publicationId:r,publicationName:o,ownerUsername:a,pages:t,pageNumber:t[0],embedId:this.embedId,adpageId:this.adpageId,streamOrigin:this.streamData.origin,streamRanking:this.streamData.ranking}}),this.metricsEvent({type:n.h})},e.prototype.onActivity=function(e){this._isTrackerReady&&e&&!this._interactedWithReader&&(this._interactedWithReader=!0,this.metricsEvent({type:n.m}))},e.prototype.onPageChanged=function(e){this._isTrackerReady&&0!==e.length&&this._previousPages.join()!==e.join()&&(this._previousPages=e,this.metricsEvent({type:n.k,data:{pages:e,pageNumber:e[0]}}))},e.prototype.onZoom=function(e){this._isTrackerReady&&this._previousZoom!==e&&(this._previousZoom=e,this.metricsEvent({type:n.n}))},e.prototype.onResize=function(e,t){this._isTrackerReady&&this.metricsEvent({type:n.l,data:{displaySize:e,isFullscreen:t}})},e.prototype.onDownload=function(e){var t=e.revisionId,r=e.publicationId,i=e.documentName,o=e.username;this.metricsEvent({type:n.b,data:{anonymous:!0,revisionId:t,publicationId:r,publicationName:i,ownerUsername:o}})},e.prototype.onClippingActionGotoPage=function(e){var t=e.id,r=e.page.pageNumber,i=e.gotoPageNumber;this._isTrackerReady&&this.metricsEvent({type:n.a,data:{clippingId:t,action:"gotoPage",onPage:r,page:i,creator:"publisher"}})},e.prototype.onClippingActionOpenUrl=function(e){var t=e.id,r=e.page.pageNumber,i=e.url;this._isTrackerReady&&this.metricsEvent({type:n.a,data:{clippingId:t,action:"openUrl",onPage:r,creator:"publisher",url:i}})},e.prototype.onTimeToCover=function(e){this.metricsEvent({type:n.g,data:e})},e.prototype.onFrameDrop=function(e){this.metricsEvent({type:n.e,data:{dropped:Math.round(e.droppedFrames),dropped_per_sec:Math.round(Math.min(e.droppedFrames/e.duration*1e3,e.droppedFrames)),duration_in_ms:Math.round(e.duration),webgl:e.webgl}})},e.prototype.onMoreContentDocumentClick=function(e){this.metricsEvent({type:n.i,data:e})},e.prototype.onMoreContentDocumentShow=function(e){this.metricsEvent({type:n.j,data:e})},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return g}),r.d(t,"c",function(){return v}),r.d(t,"b",function(){return _}),r.d(t,"d",function(){return b});var n=r(22),i=r(11),o=r(15),a=r(39),s=r(51),u=r(16),c=r(52),l=r(38),d=r(19),p=r(98),h=r(35),f=r(190),m=r(189),g="@reader3/init/DOCUMENTLOADING",v="@reader3/init/DOCUMENTLOAD_SUCCESS",_="@reader3/init/DOCUMENTLOAD_FAILURE";function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(b,y){var T;return b((T=Date.now(),{type:g,timeStamp:T})),e.whenDocumentBaseFetched().then(function(t){var r=e.whenDocumentExtraFetched().then(function(e){return b(Object(u.b)(Object.assign({},t,e)))}),n=e.whenLicensesFetched().then(function(e){return b(Object(d.r)(e))}).catch(function(e){return b(Object(d.q)())});return e.whenDocumentLinksFetched().then(function(e){return b(Object(c.e)(e))}),e.whenDocumentTextFetched().then(function(e){var t=e.textInfoPath,r=e.textInfoVersion;return b(a.a.setTextInfoUrl(t,r))}),Promise.all([r,n])}).then(function(){var e=t(),r=e[0],n=e[1];return b(Object(p.c)(r,n))}).then(function(){var e=y(),t=e.size,r=t.width,o=t.height,a=e.reader.initialPageNumber,s=e.features,c=e.fullscreen,d=Math.max(1,Math.min(Object(u.d)(e).pageCount,a)),p=s.controls.find(function(e){return e.type===n.FULLSCREEN_TYPE}),g=Object(m.a)(p,c.enabled),_=Object(f.a)(r,o,g,s.readModeRules),T=Object(h.a)(_,d),E=(_===i.DOUBLE_PAGE_SPREAD?Object(l.e)(e)[T].pages:[Object(l.b)(e)[T]]).map(function(e){return e.pageNumber});return b(function(e,t,r,n){return{timeStamp:e,pageNumber:t,targetSpreadIndex:r,currentPageNumbers:n,type:v}}(Date.now(),d,T,E))}).then(function(){return b(Object(s.g)(r))}).catch(function(e){var t,r;Object(o.b)(e,{tags:{errorOrigin:"document-load-fetchDocument"}}),b((t=e,r=Date.now(),{type:_,error:t,timeStamp:r}))})}}},,,,function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"g",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"j",function(){return a}),r.d(t,"d",function(){return s}),r.d(t,"h",function(){return u}),r.d(t,"i",function(){return c}),r.d(t,"k",function(){return l}),r.d(t,"a",function(){return d}),r.d(t,"f",function(){return p}),r.d(t,"e",function(){return h});var n=27,i=36,o=35,a=32,s=70,u=37,c=39,l=38,d=40,p=191,h=114},,,,function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var n="READER_POSITION_CHANGED";function i(e,t,r,i,o,a,s,u,c){return{type:n,currentSpreadIndex:t,currentPageNumber:r,currentPageNumbers:i,positionInPercent:o,visiblePageNumbers:e,positionInPercentHasChanged:a,currentPagesHasChanged:s,visiblePagesHasChanged:u,isDragging:c}}},function(e,t,r){"use strict";r.d(t,"c",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return l}),r.d(t,"a",function(){return d}),r.d(t,"h",function(){return p}),r.d(t,"i",function(){return h}),r.d(t,"e",function(){return f}),r.d(t,"g",function(){return m}),r.d(t,"f",function(){return v});var n=r(19),i=r(17),o=r(60),a=r(115),s=r(16),u="READ_MORE_LOAD_SUCCESS",c="READ_MORE_LOAD_FAILURE",l="SHOW_MORE_DROPDOWN",d="CLOSE_MORE_DROPDOWN";function p(){return{type:u}}function h(){return{type:l}}function f(){return{type:d}}function m(e){return function(t,r){if(e){var i=r(),o=Object(s.d)(i);e.load(i.config.origins.api,o.publicationId,o.username,Object(n.o)(i),Object(n.m)(i)).then(function(e){e&&t(p())}).catch(function(){t({type:c})})}}}var g={loaded:!1,exitedFullscreen:!1,forceOverlay:!1};function v(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1];switch(t.type){case u:return Object.assign({},e,{loaded:!0});case l:return Object.assign({},e,{forceOverlay:!1});case d:return Object.assign({},e,{exitedFullscreen:!1});case i.g.ENTER_FULLSCREEN:return t.fullscreenMethod===a.a?e:Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case i.g.EXIT_FULLSCREEN:return Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case o.a:return Object.assign({},g);default:return e}}}},function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"c",function(){return u}),r.d(t,"a",function(){return c}),r.d(t,"e",function(){return p}),r.d(t,"d",function(){return h}),r.d(t,"f",function(){return f});var n=r(9),i=r(132),o=r(35),a=r(6),s={OPEN_URL:"openUrl",GOTO_PAGE:"gotoPage"},u={SHOPPING:"shopping",VIDEO:"video",EMAIL:"email",URL:"url"},c="LINK_CLICKED",l="@reader3/document/LINKSLOADED",d={loaded:!1,pages:[]};function p(e){return{type:l,clippings:e}}function h(e){return function(t,r){if(t({type:c,linkModel:e}),"gotoPage"===e.type)t((p=e.gotoPageNumber,function(e,t){var r=Object(o.a)(Object(a.A)(t()),p);e(Object(n.k)(r))}));else{if("openUrl"!==e.type)throw new Error("Unsupported link type ("+e.type+")");if("video"===e.urlType)t((u=(s=e).url,l=s.videoId,d=s.videoService,Object(i.d)(d,l,u)));else if("email"===e.urlType)window.open(e.url,"_top");else{if("shopping"!==e.urlType&&"url"!==e.urlType)throw new Error("Unsupported urlType ("+e.urlType+")");window.open(e.url,"_blank")}}var s,u,l,d,p}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case l:for(var r=t.clippings,n=void 0===r?{}:r,i=Object.keys(n).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)&&isFinite(e)}),o=Math.max.apply(Math,[0].concat(i)),a=[],s=function(e){a[e]={links:(n[e+1]||[]).map(function(t){return babelHelpers.extends({},t,{page:{pageNumber:e+1}})})}},u=0;u<o;u++)s(u);return{loaded:!0,pages:a};default:return e}}},function(e,t,r){"use strict";r.d(t,"d",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return s});var n=r(52);function i(e){return e.type===n.b.OPEN_URL&&e.urlType===n.c.VIDEO}function o(e){return e.type===n.b.OPEN_URL&&e.urlType===n.c.VIDEO&&!!e.inlineData}function a(e){return!!e.inlineData&&e.inlineData.isExplicit}function s(e){return e.type===n.b.OPEN_URL&&e.urlType===n.c.SHOPPING}},function(e,t,r){"use strict";r.d(t,"c",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return l}),r.d(t,"a",function(){return d}),r.d(t,"e",function(){return h});var n=r(175),i=r(38),o=r(16),a=r(12),s=r(8),u="DOWNLOAD_READY",c="DOWNLOAD_LOADING",l="DOWNLOAD_SUCCESS",d="DOWNLOAD_FAILURE";function p(e,t){e({type:t}),window.setTimeout(function(){e({type:u})},2e3)}function h(){return function(e,t){var r=t();return r.download.status===u?(e(Object(a.a)()),r.featureTracker.usage(s.a.BUTTON_DOWNLOAD),Object(n.a)(r)?e(function(e,t){var r=t(),n=Object(i.d)(r);if(n){var o=r.config.origins.api+"/call/reader/api/purchased-download/"+n;return window.open(o,"_top"),p(e,l)}return p(e,d)}):e(function(e,t){var r=t(),n=r.config.origins.api+"/query?action=issuu.document.download&documentId="+Object(o.d)(r).documentId+"&format=json";e({type:c}),fetch(n).then(function(e){return e.json()}).then(function(t){window.open(t.rsp._content.redirect.url,"_top"),p(e,l)}).catch(function(){p(e,d)})})):e(Object(a.a)())}}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),i=r.n(n),o=r(45),a=r.n(o),s=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!(a()(this.props,e)&&a()(this.state,t))},t.prototype.render=function(){var e={};return this.props.isHidden&&(e.display="none"),i.a.createElement("button",{className:this.props.className,onClick:this.props.onClick,disabled:this.props.isDisabled,id:this.props.id,dangerouslySetInnerHTML:{__html:this.props.content},style:e,type:"button"},this.props.children)},t}(n.Component);s.displayName="Button"},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(10),i=n.c.create(),o=n.c.create();function a(e){return e}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;babelHelpers.classCallCheck(this,e),this.matrix=t||n.a.create()}return e.prototype.inverse=function(){var t=n.a.create();return n.a.invert(t,this.matrix),new e(t)},e.prototype.isIdentityMatrix=function(){return 1===this.matrix[0]&&0===this.matrix[1]&&0===this.matrix[2]&&1===this.matrix[3]&&0===this.matrix[4]&&0===this.matrix[5]},e.prototype.isEqualWith=function(e){for(var t=0;t<this.matrix.length;t++)if(this.matrix[t]!==e.matrix[t])return!1;return!0},e.prototype.multiply=function(t){var r=n.a.create();return n.a.multiply(r,this.matrix,t.matrix),new e(r)},e.prototype.mReset=function(){return n.a.identity(this.matrix),this},e.prototype.mMultiply=function(e){return n.a.multiply(this.matrix,this.matrix,e.matrix),this},e.prototype.mTranslate=function(e,t){var r=n.a.create();return n.a.translate(r,this.matrix,n.c.fromValues(e,t)),this.matrix=r,this},e.prototype.mScale=function(e){var t=n.a.create();return n.a.scale(t,this.matrix,n.c.fromValues(e,e)),this.matrix=t,this},e.prototype.mSet=function(e,t,r,n,i,o){return this.matrix[0]=e,this.matrix[1]=t,this.matrix[2]=r,this.matrix[3]=n,this.matrix[4]=i,this.matrix[5]=o,this},e.prototype.mSetMatrix=function(e){return this.mSet(e[0],e[1],e[2],e[3],e[4],e[5])},e.prototype.transformPoint=function(e,t){var r=n.c.create();return n.c.transformMat2d(r,n.c.fromValues(e,t),this.matrix),Array.from(r).map(a)},e.prototype.transformRect=function(e){n.c.transformMat2d(i,n.c.set(i,e.x,e.y),this.matrix),n.c.transformMat2d(o,n.c.set(o,e.x+e.width,e.y+e.height),this.matrix);var t=Math.min(i[0],o[0]),r=Math.max(i[0],o[0]),s=Math.min(i[1],o[1]),u=Math.max(i[1],o[1]);return e.x=a(t),e.y=a(s),e.width=a(r-t),e.height=a(u-s),e},e.prototype.transformCanvasCtx=function(e){e.transform(this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5])},e}()},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"d",function(){return a});var n="@reader3-paywall-widget/PAYWALL_PUBLICATION_LOADING",i="@reader3-paywall-widget/PAYWALL_PUBLICATION_LOADED",o="@reader3-paywall-widget/PAYWALL_PUBLICATION_LOADING_ERROR",a={NOTLOADED:"NOTLOADED",LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"}},,,function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});var n="ENABLE_TRACKING",i="EMBED_PREVIEW"},function(e,t,r){"use strict";function n(e,t){var r=e.x,n=e.x+e.width,i=t.x,o=t.x+t.width,a=e.y,s=e.y+e.height,u=t.y,c=t.y+t.height,l=Math.max(0,Math.min(n,o)-Math.max(r,i))*Math.max(0,Math.min(s,c)-Math.max(a,u));return l>0?l/(t.width*t.height):0}function i(e,t,r){return e>=r.x&&e<r.x+r.width&&t>=r.y&&t<r.y+r.height}function o(e,t,r,n){return r/e<=n/t?r/e:n/t}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return o})},,,function(e,t,r){"use strict";r.d(t,"d",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"a",function(){return a});var n="FetchNetworkError",i=function(e){function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this));return o.stack=(new Error).stack,o.message=r,o.name=n,o.code=i,i>0&&(o.sentry_extra={HTTPStatusCode:i}),0!==i&&403!==i||(o.message+=" (--client-only--)"),o}return babelHelpers.inherits(t,e),t}(Error),o="BackendModelError",a=function(e){function t(r,n){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this));return i.stack=(new Error).stack,i.name=o,i.code=n,i.message=-1===n?r:r+" (documentStatus: "+n+") (--client-only--)",i}return babelHelpers.inherits(t,e),t}(Error)},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=function(){return Math.min(window.screen.width,window.screen.height)},i=function(){return!!window.FEATURE_TEST_IS_TOUCH||"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},o=function(){return i()&&n()<480},a={isTouch:i,isMobile:o,isTablet:function(){return i()&&!o()&&n()<=1024},isPhantom:function(){return"callPhantom"in window},isIOS:function(){return!!navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)}}},function(e,t,r){"use strict";r.d(t,"b",function(){return u}),r.d(t,"c",function(){return c}),r.d(t,"e",function(){return l}),r.d(t,"a",function(){return d}),r.d(t,"d",function(){return h});var n=r(192),i=r.n(n),o=r(242),a=r(409),s=r(53),u=0,c=1,l=2,d=3;function p(e,t,r){var n=Math.round(e[0]*r.width),i=Math.round(t[0]*r.width),o=Math.round(e[3]*r.height),a=Math.round(t[3]*r.height);return n-i==0&&o-a==0}var h=function(){function e(t){var r=t.apiOrigin,n=t.useWebGL,i=t.ctx,s=t.hintMaxWidth,u=t.hintMaxHeight,c=t.pageModels,l=t.loadStatsTracker,d=t.renderManager,p=t.checkExplicit;babelHelpers.classCallCheck(this,e),this.checkExplicit=!0,n&&i&&(this.drawWebGL=new o.b(i)),this.draw2D=new o.a(s,u),this.loadStatsTracker=l,this.checkExplicit=p,d?(this.loadingManager=d.loadingManager,this.loadingManager.pageModels=c,this._reuseData(d)):(this.loadingManager=new a.a(r,c,l),this.resources=new Array(c.length))}return e.prototype._getResource=function(e){return this.resources[e-1]||(this.resources[e-1]={hires:void 0,preview:void 0,videoThumbs:[]}),this.resources[e-1]},e.prototype.generateSurfacesUncached=function(e,t,r,n){var i=this.loadingManager.getPageLayers(n);if(!i)return null;var o=this.loadingManager.getPageModel(n);e[0]*=o.width/i.width,e[3]*=o.height/i.height;var a={generator:this.draw2D.draw(null,i,e,t,r,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:t,height_px:r};return this._traditionalRendering(a,this.loadStatsTracker.uncachedFontRenderingTracker()),a.stateWebGL||a.state2D},e.prototype.generateSurfaces=function(e,t,r,n,i,o,a,s){var u=this.loadingManager.getPageLayers(o);if(!u)return{done:!1,ops:[]};var c=this.loadingManager.getPageModel(o);return e[0]*=c.width/u.width,e[3]*=c.height/u.height,a?this.generateAnimatingSurfaces(e,t,n,i,o,u,s):this.generateStaticSurfaces(e,t,r,n,i,o,u,s)},e.prototype.generateStaticSurfaces=function(e,t,r,n,i,o,a,s){var u=this._getResource(o),c=[],l=u.preview,d=u.hires,h=r.width,f=r.height;if(l||(l=this._generatePreview(n,i,a),u.preview=l),!d||d.width_px!==h||d.height_px!==f||!function(e,t,r){return e[4]===t[4]&&e[5]===t[5]&&p(e,t,r)}(e,d.matrix,a)){d&&this._releaseWebGLTexture(d);var m=d?d.state2D:null;(d={generator:this.draw2D.draw(m,a,e,h,f,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:h,height_px:f}).generator.next(),u.hires=d}this._traditionalRendering(d,this.loadStatsTracker.hiresFontRenderingTracker()),this._incrementalRendering(l,!1,s);var g=this._getSurface(l),v=this._generateHiresSurface(d);if(v)c.push(v);else{var _=this._generatePreviewSurface(l,t.width,t.height);_&&c.push(_)}return{done:!(!v||!g),ops:c}},e.prototype.generateAnimatingSurfaces=function(e,t,r,n,i,o,a){var s=this._getResource(i),u=[],c=[],l=s.preview,d=s.hires,h=t.width,f=t.height;l||(l=this._generatePreview(r,n,o),s.preview=l),this._incrementalRendering(l,!0,a);var m=this._generatePreviewSurface(l,h,f);if(m&&(u.push(m),c.push(l)),d&&p(d.matrix,e,o)){var g=this._generateHiresSurface(d);g&&(u.push(g),c.push(d))}var v=function(e,t){return e.map(function(e,r){var n=t[r],i=!!e.src_px&&(e.src_px.x<0||e.src_px.width<=0||e.src_px.x+e.src_px.width>n.width_px),o=!!e.src_px&&(e.src_px.y<0||e.src_px.height<=0||e.src_px.y+e.src_px.height>n.height_px),a=e.dest_px.width<=0,s=e.dest_px.height<=0;return i||o||a||s}).filter(function(e){return!!e})}(u,c);return v.length&&this.loadStatsTracker.onOpsValidationError(v.length),{done:!!m,ops:u}},e.prototype._reuseData=function(e){this.resources=e.resources,this.drawWebGL||e.resources.forEach(function(t){t&&(t.hires&&e._releaseWebGLTexture(t.hires),t.preview&&e._releaseWebGLTexture(t.preview),t.videoThumbs.forEach(function(t){e._releaseWebGLTexture(t)}))})},e.prototype.isPageReady=function(e){return this.loadingManager.isPageReady(e)},e.prototype.generateVideoThumbSurfaces=function(e,t,r){var n=this,i=this._getResource(e),o=this.loadingManager.getPageModel(e),a=t.width/o.width,u=t.height/o.height,c={ops:[],done:!0};return o.links.forEach(function(e){if(Object(s.b)(e)&&(!n.checkExplicit||!Object(s.a)(e))){var t=e,o=n.loadingManager.getVideoThumb(t);if(!o)return void(c.done=!1);var p=i.videoThumbs.find(function(t){return t.id===e.id});p||(p={width_px:o.width,id:e.id,height_px:o.height,state2D:null,stateWebGL:null},i.videoThumbs.push(p));var h=n._generateVideoThumbSurface(p,o,r);if(!h)return void(c.done=!1);var f=p.width_px/(e.width*a),m=p.height_px/(e.height*u);if("youtube"===t.videoService){var g=Math.min(f,m),v=g*e.width*a,_=g*e.height*u;c.ops.push({surface:h,type:l,src_px:{x:(p.width_px-v)/2,y:(p.height_px-_)/2,width:v,height:_},dest_px:{x:e.x*a,y:e.y*u,width:e.width*a,height:e.height*u}})}else if("vimeo"===t.videoService){var b=Math.max(f,m),y=p.width_px/b,T=p.height_px/b;c.ops.push({type:d,dest_px:{x:e.x*a,y:e.y*u,width:e.width*a,height:e.height*u}},{surface:h,type:l,src_px:{x:0,y:0,width:p.width_px,height:p.height_px},dest_px:{x:e.x*a+(e.width*a-y)/2,y:e.y*u+(e.height*u-T)/2,width:y,height:T}})}}}),c},e.prototype._generateVideoThumbSurface=function(e,t,r){var n=e.width_px,o=e.height_px,a=e.state2D;if(!a){if(r+10-i()()<0)return null;a=this.draw2D.drawImage(null,t,n,o),e.state2D=a}var s=this.draw2D.getSurface(a),u=this.drawWebGL;if(u){var c=e.stateWebGL;return c||(c=u.draw(null,s,n,o),e.stateWebGL=c),u.getSurface(c)}return s},e.prototype._getSurface=function(e){return this.drawWebGL&&e.stateWebGL?this.drawWebGL.getSurface(e.stateWebGL):!this.drawWebGL&&e.state2D?this.draw2D.getSurface(e.state2D):null},e.prototype._traditionalRendering=function(e,t){if(e){if(!e.state2D){t.start();for(var r=e.generator.next(50);!r.done;)r=e.generator.next(50);e.state2D=r.value,t.end()}if(this.drawWebGL&&!e.stateWebGL&&e.state2D){var n=this.drawWebGL,i=this.draw2D.getSurface(e.state2D),o=i.width,a=i.height;e.stateWebGL=n.draw(e.stateWebGL,i,o,a)}}},e.prototype._incrementalRendering=function(e,t,r){if(e){var n=e.skipCount<3,o=r+(t&&n?10:50)-i()();if(o<0&&n)e.skipCount++;else if(e.skipCount=0,e.state2D){if(this.drawWebGL&&!e.stateWebGL){var a=this.drawWebGL,s=this.draw2D.getSurface(e.state2D),u=s.width,c=s.height;e.stateWebGL=a.draw(e.stateWebGL,s,u,c)}}else{var l=e.generator.next(o);l.done&&(e.state2D=l.value)}}},e.prototype._generateHiresSurface=function(e){if(!e)return null;var t=e.width_px,r=e.height_px,n=this._getSurface(e);return t>0&&r>0&&n?{surface:n,type:u,src_px:{x:0,y:0,width:t,height:r},dest_px:{x:-e.matrix[4],y:-e.matrix[5],width:t,height:r}}:null},e.prototype._generatePreviewSurface=function(e,t,r){if(!e)return null;var n=this._getSurface(e);return n?{surface:n,type:c,src_px:{x:0,y:0,width:e.width_px,height:e.height_px},dest_px:{x:0,y:0,width:t,height:r}}:null},e.prototype._generatePreview=function(e,t,r){var n=[e/r.width,0,0,t/r.height,0,0],i={generator:this.draw2D.draw(null,r,n,e,t,!1),state2D:null,stateWebGL:null,skipCount:0,matrix:n,width_px:e,height_px:t};return i.generator.next(),i},e.prototype.setActivePages=function(e){var t=this,r=this.loadingManager.setActivePages(e);this.resources.forEach(function(e,n){e&&!r.includes(n+1)&&t._releaseResource(e)})},e.prototype._releaseWebGLTexture=function(e){this.drawWebGL&&e.stateWebGL&&(this.drawWebGL.release(e.stateWebGL),e.stateWebGL=null)},e.prototype._releaseResource=function(e){var t=this,r=e.hires,n=e.preview;r&&(r.state2D&&this.draw2D.release(r.state2D),this._releaseWebGLTexture(r)),n&&(n.state2D&&this.draw2D.release(n.state2D),this._releaseWebGLTexture(n)),e.hires=void 0,e.preview=void 0,e.videoThumbs.forEach(function(e){e.state2D&&t.draw2D.release(e.state2D),t._releaseWebGLTexture(e)}),e.videoThumbs.length=0},e.prototype.release=function(){var e=this;this.resources.forEach(function(t){t&&e._releaseResource(t)}),this.resources=[]},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=void 0;function i(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)&&!e.isContextLost()){var i=r===e.FRAGMENT_SHADER?"fragment":"vertex",o=e.getShaderInfoLog(n)||"",a=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot compile "+i+" shader: "+o+"\n["+a+"]")}return n}function o(e,t){for(var r=new Set,n=0;n<e;n++){var i=t(n);i&&r.add(i.name)}return r}function a(e,t,r){var a=i(e,t,e.VERTEX_SHADER),s=i(e,r,e.FRAGMENT_SHADER),u=e.createProgram();e.attachShader(u,a),e.attachShader(u,s),function(e,t){if(e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS)&&!e.isContextLost()){var r=e.getProgramInfoLog(t)||"",n=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot link shaderprogram: "+r+"\n["+n+"]")}}(e,u);var c=o(e.getProgramParameter(u,e.ACTIVE_UNIFORMS),function(t){return e.getActiveUniform(u,t)}),l=o(e.getProgramParameter(u,e.ACTIVE_ATTRIBUTES),function(t){return e.getActiveAttrib(u,t)}),d={id:u,bind:function(){if(n!==d){n&&n.unbind(),n=d,e.useProgram(d.id);var t=l,r=Array.isArray(t),i=0;for(t=r?t:t[Symbol.iterator]();;){var o;if(r){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var a=o;e.enableVertexAttribArray(d[a])}}},unbind:function(){var t=l,r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}var o=i;e.disableVertexAttribArray(d[o])}},destroy:function(){n&&n===d&&(n.unbind(),n=null),e.detachShader(u,a),e.deleteShader(a),e.detachShader(u,s),e.deleteShader(s),e.deleteProgram(u)}},p=l,h=Array.isArray(p),f=0;for(p=h?p:p[Symbol.iterator]();;){var m;if(h){if(f>=p.length)break;m=p[f++]}else{if((f=p.next()).done)break;m=f.value}var g=m;d[g]=e.getAttribLocation(u,g)}var v=c,_=Array.isArray(v),b=0;for(v=_?v:v[Symbol.iterator]();;){var y;if(_){if(b>=v.length)break;y=v[b++]}else{if((b=v.next()).done)break;y=b.value}var T=y;d[T]=e.getUniformLocation(u,T)}return d}},function(e,t,r){"use strict";var n=r(273);r.d(t,"f",function(){return n.a});var i=r(272);r.d(t,"e",function(){return i.a});var o=r(54);r.d(t,"c",function(){return o.c}),r.d(t,"b",function(){return o.b}),r.d(t,"d",function(){return o.d}),r.d(t,"a",function(){return o.a});var a=r(175);r.d(t,"g",function(){return a.b})},,function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"c",function(){return a});var n=0,i=1;function o(e,t,r){var n=Math.max(e.x,0),i=Math.min(e.x+e.width,t),o=Math.max(e.y,0),a=Math.min(e.y+e.height,r);return{x:Math.min(n,t),y:Math.min(o,r),width:Math.max(0,i-n),height:Math.max(0,a-o)}}function a(e,t){var r=Math.floor(e.width),i=t===n?Math.floor(e.x+e.width+.001)-r:Math.floor(e.x),o=Math.floor(e.height);return{x:i,y:Math.floor(e.y),width:r,height:o}}},function(e,t,r){"use strict";r.d(t,"d",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return d}),r.d(t,"g",function(){return p}),r.d(t,"f",function(){return h}),r.d(t,"a",function(){return f}),r.d(t,"e",function(){return m});var n=r(7),i="WEBGL_ERROR",o="ENABLE_WEBGL",a="DISABLE_WEBGL",s="SET_MAX_DRAWING_BUFFER_WIDTH",u="SET_MAX_DRAWING_BUFFER_HEIGHT";function c(){return{type:i}}function l(){return{type:o}}function d(){return{type:a}}function p(e){return{type:s,width:e}}function h(e){return{type:u,height:e}}function f(e){var t={supportsWebGL:e,maxDrawingBufferWidth:6e3,maxDrawingBufferHeight:6e3,forceTo2D:!0};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments[1];switch(r.type){case i:return Object.assign({},e,{supportsWebGL:!1});case o:return Object.assign({},e,{forceTo2D:!1});case a:return Object.assign({},e,{forceTo2D:!0});case s:return Object.assign({},e,{maxDrawingBufferWidth:r.width});case u:return Object.assign({},e,{maxDrawingBufferHeight:r.height});default:return e}}}var m=Object(n.createSelector)(function(e){return e.canvasContext},function(e){return e.size},function(e,t){return!(!e.supportsWebGL||e.forceTo2D)&&(e.maxDrawingBufferWidth>=t.width&&e.maxDrawingBufferHeight>=t.height)})},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"f",function(){return s}),r.d(t,"e",function(){return u}),r.d(t,"d",function(){return c}),r.d(t,"g",function(){return l}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return p});var n={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","msfullscreenerror"]};function i(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on"+e]=t:document.addEventListener(e,t)}function o(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on"+e]=null:document.removeEventListener(e,t)}function a(e){var t=n.change.filter(function(e){return"on"+e in document})[0];document.addEventListener(t,e)}function s(e){var t=n.change.filter(function(e){return"on"+e in document})[0];document.removeEventListener(t,e)}function u(){if(e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*Android.*AppleWebKit.*Chrome/(\\d+).*$","i").exec(e),r=!1,t&&t.length>0&&(r=parseInt(t[1],10)<=33),r)return!1;var e,t,r,i=n.enabled.find(function(e){return e in document});return!!document[i]}function c(){var e=n.element.find(function(e){return e in document});if(e)return document[e];throw new Error("Fullscreen not supported")}function l(){return new Promise(function(e,t){try{var r=n.change.filter(function(e){return"on"+e in document})[0];if(r){i(r,function t(){c()||(o(r,t),e(!0))})}else t("native fullscreen api not supported")}catch(e){t(e)}})}function d(e){return new Promise(function(t,r){try{var a=n.request.filter(function(t){return t in e})[0],s=n.change.filter(function(e){return"on"+e in document})[0];if(a&&s){i(s,function e(){o(s,e),t(!0)}),e[a]()}else r("native fullscreen api not supported")}catch(e){r(e)}})}function p(){return new Promise(function(e,t){try{var r=n.exit.filter(function(e){return e in document})[0],a=n.change.filter(function(e){return"on"+e in document})[0];if(r)if(c()){i(a,function t(){o(a,t),e(!0)}),document[r]()}else e(!0);else t("native fullscreen api not supported")}catch(e){t(e)}})}},,,,,function(e,t,r){"use strict";function n(e){return Math.max(Math.min(e,1),0)}function i(e,t,r){return(t-e)*n(r)+e}function o(e,t,r){var i=n(r);return(t-e)*(1-Math.pow(2,-10*i))+e}function a(e,t,r){var i=n(r);return(t-e)*Math.pow(2,10*(i-1))+e}function s(e,t,r){var i=n(r);return(t-e)*i*i+e}function u(e,t,r){var i=n(r);return(t-e)*i*(2-i)+e}r.d(t,"e",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"d",function(){return u})},,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(440),i=r(437),o=r(436),a=r(435),s=r(434),u={BROWSER:"BROWSER",READER:"READER",NONE:"NONE"},c=function(){function e(t,r){var c=this;babelHelpers.classCallCheck(this,e),this._interceptedBy=u.NONE,this._lastPointerEventTimeStamp=0,this._lastTouchEventTimeStamp=0,this.targetElement=t;var l=!!Object.keys(r).find(function(e){return/gesture|tap/i.test(e)});this.options={shouldInvokeSetPointerCapture:function(){return l},shouldInvokePreventDefault:function(){return c._interceptedBy===u.READER},hasBrowserIntercepted:function(){return c._interceptedBy===u.BROWSER},updateInterceptionWithTouchEvent:function(e){e.cancelable||(c._interceptedBy=u.BROWSER)},resetInterception:function(){c._interceptedBy=u.NONE,c.options.activeHandler=null},updateLastPointerEventTimeStamp:function(e){c._lastPointerEventTimeStamp=e.timeStamp},updateLastTouchEventTimeStamp:function(e){c._lastTouchEventTimeStamp=e.timeStamp},isSimulatedMouseEvents:function(e){return c._lastPointerEventTimeStamp>=e.timeStamp||c._lastTouchEventTimeStamp>=e.timeStamp},activeHandler:null},this._handlers=[new i.a(t,r,this.options),new o.a(t,r,this.options),new a.a(t,r,this.options),new n.a(t,r,this.options),new s.a(t,r,this.options)],this.enableBrowserHandlingOfVerticalPanningGestures()}return e.prototype.destroy=function(){this._handlers.forEach(function(e){e.destroy()})},e.prototype.reset=function(){this._interceptedBy=u.NONE,this._handlers.forEach(function(e){e.reset()}),this.options.activeHandler=null},e.prototype.requestToIntercept=function(){this._interceptedBy===u.NONE&&(this._interceptedBy=u.READER)},e.prototype.enableBrowserHandlingOfVerticalPanningGestures=function(){this.targetElement.style.touchAction="pan-y"},e.prototype.disableBrowserHandlingOfAllPanningGestures=function(){this.targetElement.style.touchAction="none"},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"e",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return h});var n="show_video_overlay",i="hide_video_overlay",o="video_info_load_success",a="video_info_load_error",s={EXPLICIT:"explicit",SAFE:"safe",UNKNOWN:"unknown",ERROR:"error"};function u(e,t,r){return{type:n,service:e,videoId:t,videoUrl:r}}function c(){return{type:i}}function l(e,t,r){return function(n,i){var u=i().config.origins.api;fetch(u+"/call/reader/api/video-link/"+e+"/"+t).then(function(e){return e.json()}).then(function(i){var a=i.explicit?s.EXPLICIT:s.SAFE;n(function(e,t,r){return{type:o,service:e,videoId:t,videoInfo:r}}(e,t,a)),r.monitor("reader3-"+e+"-api-success")}).catch(function(i){n(function(e,t){return{type:a,service:e,videoId:t,videoInfo:s.ERROR}}(e,t)),r.monitor("reader3-"+e+"-api-failed")})}}function d(e,t){return e.service===t.service&&e.videoId===t.videoId}var p={showOverlay:!1,service:null,videoId:null,videoUrl:null,videoInfo:s.UNKNOWN};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case n:return babelHelpers.extends({},e,{showOverlay:!0,service:t.service,videoId:t.videoId,videoUrl:t.videoUrl,videoInfo:d(e,t)?e.videoInfo:s.UNKNOWN});case i:return babelHelpers.extends({},e,{showOverlay:!1});case o:case a:return d(e,t)?babelHelpers.extends({},e,{videoInfo:t.videoInfo}):e;default:return e}}},function(e,t,r){"use strict";function n(e){return!!(window.WebGLRenderingContext&&e instanceof window.WebGLRenderingContext)||!(!e||!e.hasOwnProperty("drawingBufferWidth"))}function i(e,t){var r={failIfMajorPerformanceCaveat:!0,stencil:!!t};try{var n=e.getContext("webgl",r);if(n)return n}catch(e){}try{var i=e.getContext("experimental-webgl",r);if(i)return i}catch(e){}return null}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i})},,,function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"g",function(){return o}),r.d(t,"h",function(){return a}),r.d(t,"j",function(){return s}),r.d(t,"d",function(){return u}),r.d(t,"f",function(){return c}),r.d(t,"e",function(){return l}),r.d(t,"i",function(){return d}),r.d(t,"c",function(){return p});var n=2,i=4,o=5,a=6,s=7,u=8,c=9,l=10,d=11,p=12},,,,,,,,,,function(e,t,r){"use strict";r.d(t,"b",function(){return g}),r.d(t,"d",function(){return v}),r.d(t,"c",function(){return _}),r.d(t,"a",function(){return b});var n=r(7),i=r(22),o=r(17),a=r(6),s=r(11),u=r(65),c=r(370),l=r(99),d=Object(l.d)(),p=function(){try{return/.*hideAdsInReader=1/.test(location.search)}catch(e){return!1}}(),h=function(){try{var e=/.*adRefreshTimeout=(\d*)/.exec(parent.location.search);if(e&&e[1])return parseInt(e[1],10)}catch(e){}return-1}(),f=Object(n.createSelector)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===i.FULLSCREEN_AD_PLACEMENT_TYPE)return e[t]}),m=Object(n.createSelector)(f,o.d,function(e){return e.pages.pages},c.a,function(e,t,r,n){return!!r.length&&!!e&&t&&(e.useQueryParameter&&!p||!e.useQueryParameter&&n)}),g=function(){return h<0?45:h},v=Object(n.createSelector)(function(e){return e.size.width},function(){return window.innerWidth<380}),_=Object(n.createSelector)(m,a.A,function(e){return e.pages.pages},function(e){return e.size.width},function(e){return e.size.height},function(e,t,r,n,i){if(!e)return[0,0];var o=window.innerWidth,a=window.innerHeight,c=u.a.isMobile();if(!c&&r.length){var l=r[0].width/r[0].height;if(t===s.DOUBLE_PAGE_SPREAD&&(l*=2),!((l*a-o)/o>0)&&o>1200&&a>620&&!d)return[160,600];if(!c&&a>600&&o>780)return[728,90]}return a>250&&o>320?[320,50]:[0,0]});function b(e){return 0===e[0]&&0===e[1]}},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"d",function(){return a}),r.d(t,"c",function(){return s}),r.d(t,"b",function(){return u});var n="@Reader3/size/INIT_SIZE",i="RESIZE",o={width:0,height:0};function a(e,t){return{type:i,width:e,height:t}}function s(e,t){return{type:n,width:e,height:t}}function u(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case n:case i:return babelHelpers.extends({},e,{width:t.width,height:t.height});default:return e}}}},function(e,t,r){"use strict";var n=r(282);r.d(t,"b",function(){return n.a});var i=r(281);r.d(t,"c",function(){return i.a});var o=r(208);r.d(t,"a",function(){return o.a}),r.d(t,"d",function(){return o.b})},,,,function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(64),i=4;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.withCredentials,o=void 0!==r&&r,a=t.timeout;t.readerSessionHeader;return new Promise(function(t,r){var s=new XMLHttpRequest;s.open("GET",e,!0),s.withCredentials=o,a&&(s.timeout=a),s.onreadystatechange=function(){if(s.readyState===i)if(200===s.status)try{t(JSON.parse(s.responseText))}catch(e){r(new n.b("Could not deserialize loaded JSON: "+e))}else r(new n.b("XHR could not load JSON",s.status))},s.send()})}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(0),i=r.n(n),o=r(45),a=r.n(o),s=r(191),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e){return!a()(this.props,e)},t.prototype.render=function(){var e=this.props.size*this.props.zoomLevel,r={width:e,height:e},n=["spinner"];return this.props.type===t.SPINNER_TYPE_ALTERNATE&&n.push("spinner--alternate"),i.a.createElement("div",{className:n.join(" "),style:r,dangerouslySetInnerHTML:{__html:s.a}})},t}(n.Component);u.displayName="Spinner",u.SPINNER_SIZE_DEFAULT=24,u.SPINNER_SIZE_TINY=14,u.SPINNER_SIZE_SMALL=19,u.SPINNER_TYPE_DEFAULT="SPINNER_TYPE_DEFAULT",u.SPINNER_TYPE_ALTERNATE="SPINNER_TYPE_ALTERNATE",u.defaultProps={type:u.SPINNER_TYPE_DEFAULT,size:u.SPINNER_SIZE_DEFAULT,zoomLevel:1}},,function(e,t,r){"use strict";r.d(t,"b",function(){return c}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return d}),r.d(t,"d",function(){return p});var n=r(7),i=r(6),o=r(17),a=r(19),s=r(108),u=r(23),c=Object(n.createSelector)(function(e){return e.readMorePlugin},function(e){return e.readmore.loaded},function(e){return Object(i.B)(e)},function(e,t,r){return!(!e||!t||r===s.c)});function l(e){return e.readMorePlugin&&e.readMorePlugin.getButtonUnreadCount()||0}var d=Object(n.createSelector)(c,function(e){return e.readMorePlugin},function(e){return Object(i.E)(e)},function(e){return Object(o.d)(e)},function(e){return Object(a.o)(e)},function(e){return Object(a.m)(e)},function(e,t,r,n,i,o){return!(!e||r)&&t.shouldRenderButton(i,o,n)}),p=(Object(n.createSelector)(c,function(e){return e.readMorePlugin},function(e){return Object(a.o)(e)},function(e){return Object(a.m)(e)},function(e,t,r,n){return e&&t.shouldRenderExitFullscreenOverlay(r,n)}),Object(n.createSelector)(c,function(e){return e.readMorePlugin},function(e){return e.readmore.forceOverlay},function(e){return e.size.width},function(e){return e.size.height},function(e,t,r,n,i){if(e){var o=n<i,a=!o,s=Object(u.a)();return r||t.shouldAlwaysBeOverlay()||o&&n<=414*s||a&&n<=736*s}return!1}))},function(e,t,r){"use strict";r.d(t,"a",function(){return d}),r.d(t,"b",function(){return p});var n=r(0),i=r.n(n),o=r(24),a=r.n(o),s=r(131),u=r(449),c=r(448),l=r(55),d={ERROR:"error",WARNING:"warning",INFO:"info"},p=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype._getIcon=function(){switch(this.props.boxType){case d.ERROR:return i.a.createElement(u.a,{className:"msgbox-Icon msgbox-error-icon"});case d.WARNING:return i.a.createElement(c.a,{className:"msgbox-Icon msgbox-warning-icon"});case d.INFO:return i.a.createElement("span",{className:"msgbox-Icon msgbox-info-icon"},"i");default:throw new Error("Wrong Message Box type!")}},t.prototype.render=function(){var e=a()("msgbox-Root",{"msgbox-Root-error":this.props.boxType===d.ERROR,"msgbox-Root-warning":this.props.boxType===d.WARNING,"msgbox-Root-info":this.props.boxType===d.INFO,"msgbox-Root__noheader":!this.props.header,"msgbox-Root__noclosebutton":!this.props.onClose},this.props.className);return i.a.createElement("div",{className:e},this._getIcon(),this.props.header&&i.a.createElement("p",{className:"msgbox-Header"},this.props.header),i.a.createElement("p",{className:"msgbox-Text"},this.props.text),i.a.createElement("div",{className:"msgbox-Actions"},this.props.linkText&&i.a.createElement("a",{className:"msgbox-Link",href:this.props.linkUrl,target:"_blank"},this.props.linkText),i.a.createElement("button",{className:"msgbox-Button",onClick:this.props.onSubmit},this.props.buttonText)),this.props.onClose&&i.a.createElement(l.a,{className:"svg-btn msgbox-close-button",content:s.a,onClick:this.props.onClose}))},t}(n.Component)},function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o});var n="reader-sizes@TINY",i="reader-sizes@SMALL",o="reader-sizes@NORMAL"},,,function(e,t,r){"use strict";var n=r(204);r.d(t,"c",function(){return n.a}),r.d(t,"d",function(){return n.b});var i=r(260);r.d(t,"b",function(){return i.a});var o=r(259);r.d(t,"a",function(){return o.a})},function(e,t,r){"use strict";var n=r(275);r.d(t,"a",function(){return n.a});var i=r(206);r.d(t,"c",function(){return i.b}),r.d(t,"b",function(){return i.a})},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"d",function(){return a});var n="youtube_api_ready",i="set_active_video_link";function o(){return{type:n}}function a(e){return{type:i,videoLink:e}}},function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o});var n="HIDDEN",i="ENGAGED",o="DISENGAGED"},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var n="FULLSCREEN@FULLSCREEN_API",i="FULLSCREEN@TAB"},,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return d});var n=r(7),i=r(53),o=r(6),a=r(38),s=Object(n.createSelector)(o.t,o.p,function(e,t){return!(!e||!e.allowOnSmallReaders&&t)});function u(e,t){var r=[];return e.forEach(function(e){e.links.forEach(function(n){if(Object(i.b)(n)){var o=n;o.videoService===t&&r.push({link:o,pageWidth:e.width,pageHeight:e.height})}})}),r}var c=function(e){return e.links.loaded},l=Object(n.createSelector)(a.b,function(e){return u(e,"youtube")}),d=Object(n.createSelector)(a.b,function(e){return u(e,"vimeo")})},function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"a",function(){return a});var n="SET_CANVAS_API";function i(e){return{type:n,api:e}}function o(){return i({getVisibleComponents:function(){return[]},getRenderedViews:function(e){return[]},getReadMode:function(){},getPageComponent:function(e){},goToPage:function(e){},goToSpread:function(e){},jumpToPage:function(e){},jumpToSpread:function(e){},setSnapping:function(e){},jumpToPositionByPercent:function(e){},zoomCurrentView:function(e){},getPosition:function(){},setPosition:function(e){}})}function a(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case n:return Object.assign({},e,t.api);default:return e}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n    <svg width="60%" height="60%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g fill="#FFFFFF">\n                <path d="M16.4456672,18.0003762 L10.3219784,24.1243529 C9.89267388,24.5536776 9.89267388,25.249654 10.3219784,25.6787588 C10.5365207,25.8933112 10.8178877,26.0008073 11.0990349,26.0008073 C11.3804019,26.0008073 11.6617688,25.8933112 11.8763112,25.6787588 L18,19.5547821 L24.1236888,25.6787588 C24.3382312,25.8933112 24.6195981,26.0008073 24.9009651,26.0008073 C25.1821123,26.0008073 25.4634793,25.8933112 25.6780216,25.6787588 C26.1073261,25.249654 26.1073261,24.5536776 25.6780216,24.1243529 L19.5543328,18.0003762 L25.6780216,11.8763994 C26.1073261,11.4472946 26.1073261,10.7510983 25.6780216,10.3219935 C25.2487172,9.89266883 24.5529933,9.89266883 24.1236888,10.3219935 L18,16.4459703 L11.8763112,10.3219935 C11.4470067,9.89266883 10.7512828,9.89266883 10.3219784,10.3219935 C9.89267388,10.7510983 9.89267388,11.4472946 10.3219784,11.8763994 L16.4456672,18.0003762 Z"></path>\n            </g>\n        </g>\n    </svg>\n'},function(e,t,r){"use strict";r.d(t,"c",function(){return s}),r.d(t,"a",function(){return u});var n=r(34),i=r(450),o=r(6),a=r(83);r.d(t,"d",function(){return a.e}),r.d(t,"b",function(){return a.d});var s=function(e){return e.videoOverlay.showOverlay},u=Object(n.b)(function(e){return{service:e.videoOverlay.service||"",videoId:e.videoOverlay.videoId||"",videoInfo:e.videoOverlay.videoInfo,videoUrl:e.videoOverlay.videoUrl||"",checkIfVideoExplicit:Object(o.i)(e)}},void 0,void 0,{pure:!0})(i.a)},function(e,t,r){"use strict";var n=r(269);r.d(t,"a",function(){return n.a});var i=r(268);r.d(t,"b",function(){return i.a});var o=r(205);r.d(t,"c",function(){return o.a}),r.d(t,"d",function(){return o.b})},function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return u});var n=r(42),i="loading-status@LOADING",o="loading-status@FAILED",a="loading-status@SUCCESS",s={INITIALIZED:"loading-status@INITIALIZED",LOADING:i,FAILED:o,SUCCESS:a};function u(){var e={status:s.INITIALIZED};return function(){return function(e,t){switch(t.type){case n.a:return{status:i,loadStartTime:t.timeStamp};case n.c:if(e.status!==i)throw new Error("Can not return SUCCESS without LOADING");return{status:a,loadStartTime:e.loadStartTime,loadSuccessTime:t.timeStamp};case n.b:if(e.status!==i)throw new Error("Can not return FAILED without LOADING");return{status:o,loadStartTime:e.loadStartTime,loadFailureTime:t.timeStamp,error:t.error};default:return e}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},function(e,t,r){"use strict";function n(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}function i(){var e=n();return!!e&&!!document[e]}function o(){return!!n()}function a(e){var t=n();if(t){var r=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(r,e)}}r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return a})},,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e,t){return function(r){return function(n){return function(i){var o=r.getState(),a=n(i),s=r.getState();try{e.hasOwnProperty(i.type)&&e[i.type](o,s,i)}catch(e){t(e)}return a}}}}},function(e,t,r){"use strict";var n=r(263);r.d(t,"b",function(){return n.a});var i=r(262);r.d(t,"a",function(){return i.a});var o=r(261);r.d(t,"c",function(){return o.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(182),i=r(28),o=r(56),a=r(4),s=r(244),u=r(70),c=r(9),l=r(12),d=r(61),p=r(11),h=r(8),f=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n._arrivedAtTick=0,n.spreadSnapFunction=function(e,t,r){var i=void 0;if(r>1){var o=n.width/r,a=n.height/r,s=void 0;s=n.borders.right-n.borders.left<o?n.borders.left-(o-(n.borders.right-n.borders.left))/2:Math.max(Math.min(t,n.borders.right-o),n.borders.left);i={top:n.borders.bottom-n.borders.top<a?n.borders.top-(a-(n.borders.bottom-n.borders.top))/2:Math.max(Math.min(e,n.borders.bottom-a),n.borders.top),left:s,zoom:r}}else i={top:0,left:0,zoom:1};return i},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentWillUpdate=function(e){(!this.props.isCurrentSpread&&e.isCurrentSpread||this.props.isCurrentSpread&&0===this._arrivedAtTick)&&(this._arrivedAtTick=this.isAllPagesLoaded()&&e.isSnapped?a.b.lastTick:0),e.isCurrentSpread||(this._arrivedAtTick=0)},t.prototype.componentDidMount=function(){this.props.isCurrentSpread&&(t.scroller.resize(t.scroller.top,t.scroller.left,t.scroller.zoom,this.width,this.height,this.width,this.height),t.scroller.setSnap(!0,this.spreadSnapFunction,!1))},t.prototype.componentDidUpdate=function(e){if(this.props.width!==e.width||this.props.height!==e.height){var r=this.getCenter(),n=t.scroller.zoom,i=r.x*this.width,o=r.y*this.height,a=i-this.width/t.scroller.zoom/2,s=o-this.height/t.scroller.zoom/2;t.scroller.resize(s,a,n,this.width,this.height,this.width,this.height)}this.props.isCurrentSpread&&!e.isCurrentSpread&&t.scroller.setSnap(!0,this.spreadSnapFunction,!1)},t.prototype.onGestureStart=function(e,r,n,i){return t.scroller.touchStart(e,r,i),t._zoomBeforeStart=t.scroller.zoom,t.scroller.zoom>1},t.prototype.onGestureChange=function(e,r,n,o,a,s){return(1===t.scroller.zoom&&s===i.g||t.scroller.zoom>1)&&(t.scroller.touchMove(e,r,o,a),this.requestRedraw(),!0)},t.prototype.onGestureEnd=function(e){return t.scroller.touchEnd(e,a.b.lastTick),t.scroller.isMoving&&this.requestRedraw(),t.scroller.zoom!==t._zoomBeforeStart&&this.props.featureTracker.usage(h.a.GESTURE_PINCH_ZOOM),t.scroller.zoom>1},t.prototype.onDoubleTap=function(e,r){var n=this;this.props.dispatch(l.e());var i=a.b.lastTick;if(t.scroller.zoom>1)t.scroller.scrollTo(0,0,1,i).then(function(){n.props.dispatch(l.d())});else{this.props.featureTracker.usage(h.a.DOUBLE_TAP_ZOOM);var o=this.getViewportCTM().inverse().transformPoint(e,r),s=o[1]-t.scroller.height/4,u=o[0]-t.scroller.width/4;t.scroller.scrollTo(s,u,2,i).then(function(){n.props.dispatch(l.d())})}return this.requestRedraw(),!0},t.prototype.setZoom=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.scroller.top+t.scroller.height/t.scroller.zoom/2,i=t.scroller.left+t.scroller.width/t.scroller.zoom/2,o=n-t.scroller.height/e/2,s=i-t.scroller.width/e/2;r?t.scroller.scrollTo(o,s,e,a.b.lastTick):t.scroller.jumpTo(o,s,e),this.requestRedraw()},t.prototype.getZoom=function(){return t.scroller.zoom},t.prototype.getCenter=function(){var e=t.scroller.left+t.scroller.width/t.scroller.zoom/2,r=t.scroller.top+t.scroller.height/t.scroller.zoom/2;return{x:e/t.scroller.width,y:r/t.scroller.height}},t.prototype.setCenter=function(e){var r=e.y-this.height/t.scroller.zoom/2,n=e.x-this.width/t.scroller.zoom/2,i=t.scroller.zoom,o=t.scroller.snapFunction(r,n,i);t.scroller.top=o.top,t.scroller.left=o.left},t.prototype.isAllPagesLoaded=function(){var e=this.props.pageModels,t=Array.isArray(e),r=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if((r=e.next()).done)break;n=r.value}var i=n;if(!this.props.renderManager.isPageReady(i.pageNumber))return!1}return!0},t.prototype.getChildTree=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this.props.pageModels,t=this.props.width,r=this.props.height,n=e.map(function(e){return e.width}).reduce(function(e,t){return e+t},0),i=Math.max.apply(Math,e.map(function(e){return e.height})),c=Object(d.c)(1===e.length&&this.props.readMode===p.DOUBLE_PAGE_SPREAD?e[0].width:n,i,t,r),l=r/c,h=(t/c-n)/2,f=(l-i)/2;this.borders={top:f*c,right:t-h*c,bottom:r-f*c,left:h*c};var m=h,g=(l-e[0].height)/2,v=(new o.a).mScale(c).mTranslate(m,g),_=a.b.createElement(s.a,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[0],mayRenderLinks:this.props.mayRenderLinks,model:e[0],pageType:u.a,showLinkToolTip:this.props.showLinkToolTip,transform:v,renderManager:this.props.renderManager});if(2===e.length){m=h+e[0].width,g=(l-e[1].height)/2;var b=(new o.a).mScale(c).mTranslate(m,g);return[_,a.b.createElement(s.a,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[1],mayRenderLinks:this.props.mayRenderLinks,model:e[1],pageType:u.b,showLinkToolTip:this.props.showLinkToolTip,transform:b,renderManager:this.props.renderManager})]}return _},t.prototype.afterDraw=function(e){var r=t.scroller.isAnimating||t.scroller.isDragging||t.scroller.isMoving;t.scroller.update(a.b.lastTick),(t.scroller.isAnimating||t.scroller.isDragging||t.scroller.isMoving||r)&&this.requestRedraw(),this.props.isCurrentSpread&&!this._arrivedAtTick&&this.isAllPagesLoaded()&&this.forceUpdate(),t._lastZoom!==t.scroller.zoom&&(t._lastZoom=t.scroller.zoom,this.props.dispatch(c.j(t.scroller.zoom,t.scroller.isDragging)))},babelHelpers.createClass(t,[{key:"zOrder",get:function(){return this.props.isCurrentSpread?1:0}},{key:"displayName",get:function(){return"Spread"}},{key:"transform",get:function(){return t._transform.mSetMatrix(this.props.transform.matrix).mScale(t.scroller.zoom).mTranslate(-t.scroller.left,-t.scroller.top),t._transform}},{key:"inAnimation",get:function(){return!!t.scroller.isMoving||this.parent.inAnimation}},{key:"unzoomedBBox",get:function(){return this.props.transform.transformRect(a.b.RectPool.get(0,0,this.width,this.height))}}]),t}(a.b);f._transform=new o.a,f.scroller=new n.a(0,0,1,1,1,1,1),f._lastZoom=1,f._zoomBeforeStart=1},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n="SHARE"},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(439),i=r(438),o=r(28),a=function(){function e(t,r,n){babelHelpers.classCallCheck(this,e),this.initialGesture=o.f,this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this._targetElementOffset=null,this.targetElement=t,this.callbacks=r,this.options=n}return e.prototype.destroy=function(){},e.prototype.reset=function(){this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this.initialGesture=o.f,this._targetElementOffset=null},e.prototype.isDeactivated=function(){return this.options.activeHandler&&this.options.activeHandler!==this},e.prototype._isAnyButtonPressed=function(e){return!(!e.buttons&&!this.getPointerCount())},e.prototype._isGeneratedByMouseDevice=function(e){return!e.pointerType||"mouse"===e.pointerType},e.prototype.getScalingFactor=function(){return this.callbacks.getScalingFactor?this.callbacks.getScalingFactor():1},e.prototype.fireGestureStart=function(){var e=this.callbacks.onGestureStart;e&&e(this._getTouches(),this._getLastEventTimestamp())},e.prototype.fireGestureChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,t=this._getLastEventTimestamp();if(t-this._lastGestureMoveTimestamp>10){var r=isNaN(e)?this._getCurrentPinchDistance()/this._initialPinchDistance:e;if(!isNaN(r)){var n=this.callbacks.onGestureChange;n&&n(this._getTouches(),t,r,this.initialGesture),this._lastGestureMoveTimestamp=t}}},e.prototype.fireGestureEnd=function(){var e=this.callbacks.onGestureEnd;e&&e(this._getLastEventTimestamp())},e.prototype.fireMouseMove=function(e){if(this._isGeneratedByMouseDevice(e)&&!this._isAnyButtonPressed(e)){var t=e.pageX,r=e.pageY,n=this._getOffsetPosition(t,r),i=this.getScalingFactor(),o=this.callbacks.onMouseMove;o&&o(n.x*i,n.y*i,e.timeStamp)}},e.prototype.fireMouseEnter=function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseEnter;t&&t(e.timeStamp)}},e.prototype.fireMouseLeave=function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseLeave;t&&t(e.timeStamp)}},e.prototype.saveTargetElementOffset=function(){this._targetElementOffset=Object(n.a)(this.targetElement)},e.prototype.saveInitialPinchDistance=function(){this._initialPinchDistance=this._getCurrentPinchDistance()},e.prototype.saveInitialGestureIfUndefined=function(){if(this.initialGesture===o.f){var e=Object.keys(this.pointers);if(e.length>=2){var t=this._getCurrentPinchDistance();t-this._initialPinchDistance>5?this.initialGesture=o.g:this._initialPinchDistance-t>10&&(this.initialGesture=o.h)}else{var r=this.pointers[e[0]],n=r.last.position.x-r.initial.position.x,i=r.last.position.y-r.initial.position.y,a=r.last.timestamp-r.initial.timestamp;if(Math.max(Math.abs(n),Math.abs(i))<10||a<10)return;var s=Math.atan2(-i,n)*(180/Math.PI);this.initialGesture=s>=-25&&s<=25?o.d:s>=60&&s<=120?o.e:s>=155||s<=-155?o.b:s>=-120&&s<=-60?o.a:o.c}}},e.prototype.isValidPointer=function(e){return!!this.pointers[e]},e.prototype.savePointer=function(e,t,r,n){var o=this._getOffsetPosition(t,r),a=Object(i.a)(n);this.pointers[e]=this.pointers[e]||{initial:{position:o,timestamp:a}},this.pointers[e].last={position:o,timestamp:a}},e.prototype.deletePointer=function(e){delete this.pointers[e],0===this.getPointerCount()&&(this.initialGesture=o.f,this._initialPinchDistance=NaN)},e.prototype.isPointerMoved=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this._getOffsetPosition(t,r),o=this.pointers[e].last.position;return Math.abs(o.x-i.x)>Math.abs(n)||Math.abs(o.y-i.y)>Math.abs(n)},e.prototype._getOffsetPosition=function(e,t){this._targetElementOffset||this.saveTargetElementOffset();var r=this._targetElementOffset||{},n=r.left,i=void 0===n?0:n,o=r.top,a=void 0===o?0:o;return{x:Math.round(e-i),y:Math.round(t-a)}},e.prototype._getLastEventTimestamp=function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&(e=Math.max(e,this.pointers[t].last.timestamp));return e},e.prototype._getCurrentPinchDistance=function(){var e=Object.keys(this.pointers);if(e.length<=1)return 1;var t=this.pointers[e[0]],r=this.pointers[e[1]];return Math.sqrt(Math.pow(t.last.position.x-r.last.position.x,2)+Math.pow(t.last.position.y-r.last.position.y,2))},e.prototype.getPointerCount=function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&e++;return e},e.prototype._getTouches=function(){var e=this.getScalingFactor(),t=[];for(var r in this.pointers)this.pointers.hasOwnProperty(r)&&t.push({x:this.pointers[r].last.position.x*e,y:this.pointers[r].last.position.y*e});return t},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){function t(r,n,i){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n,i));return o._singleTapConfirmedTimeoutId=null,o._doubleTapConfirmedTimeoutId=null,o}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.unregisterTapHandlers()},t.prototype.reset=function(){e.prototype.reset.call(this),this.unregisterTapHandlers()},t.prototype.registerTapHandlers=function(){var e=this,t=this._getFirstPointerId(),r=this.pointers[t].last.position;null!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=null),null!==this._singleTapConfirmedTimeoutId&&window.clearTimeout(this._singleTapConfirmedTimeoutId),null!==this._singleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._doubleTapConfirmedTimeoutId=window.setTimeout(function(){e._doubleTapConfirmedTimeoutId=null,0===e.getPointerCount()&&e._fireDoubleTapConfirmed(r.x,r.y)},200)),this._singleTapConfirmedTimeoutId=null,null===this._doubleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._singleTapConfirmedTimeoutId=window.setTimeout(function(){e._singleTapConfirmedTimeoutId=null,0===e.getPointerCount()&&e._fireSingleTapConfirmed(r.x,r.y)},200))},t.prototype.unregisterTapHandlers=function(){null!==this._singleTapConfirmedTimeoutId&&(window.clearTimeout(this._singleTapConfirmedTimeoutId),this._singleTapConfirmedTimeoutId=null),null!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=null)},t.prototype.validateTapHandlers=function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;this._isPointerCloseToInitialPosition(e,t.x,t.y)||this.unregisterTapHandlers()},t.prototype.executeTapHandlers=function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;null!==this._singleTapConfirmedTimeoutId&&this._fireSingleTap(t.x,t.y),null!==this._doubleTapConfirmedTimeoutId&&(this._fireSingleTap(t.x,t.y),this._fireDoubleTap(t.x,t.y))},t.prototype._fireSingleTap=function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onSingleTap;n&&n(e*r,t*r)},t.prototype._fireSingleTapConfirmed=function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onSingleTapConfirmed;n&&n(e*r,t*r)},t.prototype._fireDoubleTap=function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onDoubleTap;n&&n(e*r,t*r)},t.prototype._fireDoubleTapConfirmed=function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onDoubleTapConfirmed;n&&n(e*r,t*r)},t.prototype._getFirstPointerId=function(){for(var e in this.pointers)if(this.pointers.hasOwnProperty(e)&&!isNaN(e))return e;throw new Error("No pointer for tap")},t.prototype._isPointerCloseToInitialPosition=function(e,t,r){var n=this.pointers[e];return Math.abs(n.initial.position.x-t)<5&&Math.abs(n.initial.position.y-r)<5},t}(r(145).a)},,,function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return u});var n=r(7),i=r(6),o=r(106),a=Object(n.createSelector)(i.v,i.a,i.e,i.E,o.d,function(e){return e.reader.zoomLevel},function(e,t,r,n,i,o){return!!e&&((!i||!r)&&(t||n||1===o))}),s=Object(n.createSelector)(a,i.c,i.m,function(e,t,r){return e&&!t&&r>-1}),u=Object(n.createSelector)(a,i.d,i.m,function(e,t,r){return e&&!t&&r>-1})},function(e,t,r){"use strict";r.d(t,"b",function(){return m}),r.d(t,"a",function(){return y});var n=r(67),i=r(413),o=r.n(i),a=r(412),s=r.n(a),u=r(411),c=r.n(u),l=r(410),d=r.n(l),p=r(10),h=new Float32Array([1,1,0,.5]),f=new Float32Array([0,0,0,.3]);function m(e){return{min:{x:Math.min(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.min(e.p1.y,e.p2.y,e.p3.y,e.p4.y)},max:{x:Math.max(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.max(e.p1.y,e.p2.y,e.p3.y,e.p4.y)}}}function g(e){var t=new Float32Array(6*e.length*2);return e.forEach(function(e,r){t[12*r+0]=e.p1.x,t[12*r+1]=e.p1.y,t[12*r+2]=e.p3.x,t[12*r+3]=e.p3.y,t[12*r+4]=e.p2.x,t[12*r+5]=e.p2.y,t[12*r+6]=e.p2.x,t[12*r+7]=e.p2.y,t[12*r+8]=e.p3.x,t[12*r+9]=e.p3.y,t[12*r+10]=e.p4.x,t[12*r+11]=e.p4.y}),t}var v,_=(v=p.b.create(),function(e,t){var r=2/e,n=2/t;return p.b.set(v,r,0,0,0,-n,0,-1,1,1)}),b=function(){var e=p.c.create(),t=p.b.create();return function(r,n,i){return p.b.translate(t,r,p.c.set(e,i.x,i.y)),p.b.scale(t,t,p.c.set(e,n,n)),p.b.translate(t,t,p.c.set(e,-i.x,-i.y)),t}}(),y=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.shader=Object(n.a)(t,s.a,o.a),this.selectedShader=Object(n.a)(t,d.a,c.a),this.verticeBuffer=t.createBuffer(),this.texCoordBuffer=t.createBuffer(),this.emptyTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.emptyTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t.bindTexture(t.TEXTURE_2D,null)}return e.prototype.draw=function(e,t){var r=this.gl,n=this.shader,i=this.verticeBuffer;r.disable(r.DEPTH_TEST),r.disable(r.CULL_FACE),r.enable(r.STENCIL_TEST),n.bind(),r.bindBuffer(r.ARRAY_BUFFER,i),r.vertexAttribPointer(n.a_vertex,2,r.FLOAT,!1,0,0),r.uniformMatrix3fv(n.u_displayMatrix,!1,_(r.drawingBufferWidth,r.drawingBufferHeight)),t.length&&(r.stencilFunc(r.NEVER,1,1),r.stencilOp(r.REPLACE,r.KEEP,r.KEEP),r.bufferData(r.ARRAY_BUFFER,g(t),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6*t.length)),r.enable(r.BLEND),r.uniform4fv(n.u_color,f),r.stencilFunc(r.NOTEQUAL,1,1),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),r.blendEquation(r.FUNC_ADD);var o={p1:{x:e.x,y:e.y},p2:{x:e.x+e.width,y:e.y},p3:{x:e.x,y:e.y+e.height},p4:{x:e.x+e.width,y:e.y+e.height}};r.bufferData(r.ARRAY_BUFFER,g([o]),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),r.disable(r.BLEND),r.disable(r.STENCIL_TEST),r.enable(r.CULL_FACE),r.enable(r.DEPTH_TEST)},e.prototype.drawSelected=function(e,t,r,n){var i=this.gl,o=this.shader,a=this.selectedShader,s=this.verticeBuffer,u=this.texCoordBuffer;if(i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,g(e),i.DYNAMIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),n>1){a.bind();var c=b(_(i.drawingBufferWidth,i.drawingBufferHeight),n,r);i.uniformMatrix3fv(a.u_displayMatrix,!1,c),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(a.a_vertex,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,u),i.bufferData(i.ARRAY_BUFFER,function(e){var t=new Float32Array(6*e.length*2);return e.forEach(function(e,r){var n=m(e),i=function(e){return(e-n.min.x)/(n.max.x-n.min.x)},o=function(e){return(n.max.y-e)/(n.max.y-n.min.y)};t[12*r+0]=i(e.p1.x),t[12*r+1]=o(e.p1.y),t[12*r+2]=i(e.p3.x),t[12*r+3]=o(e.p3.y),t[12*r+4]=i(e.p2.x),t[12*r+5]=o(e.p2.y),t[12*r+6]=i(e.p2.x),t[12*r+7]=o(e.p2.y),t[12*r+8]=i(e.p3.x),t[12*r+9]=o(e.p3.y),t[12*r+10]=i(e.p4.x),t[12*r+11]=o(e.p4.y)}),t}(e),i.DYNAMIC_DRAW),i.vertexAttribPointer(a.a_texCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.uniform1i(a.u_texture,0),i.uniform4fv(a.u_color,h);for(var l=0;l<e.length;l++)i.bindTexture(i.TEXTURE_2D,t[l]&&t[l].texture?t[l].texture:this.emptyTexture),i.drawArrays(i.TRIANGLES,6*l,6)}else i.enable(i.BLEND),o.bind(),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE),i.blendEquation(i.FUNC_ADD),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(o.a_vertex,2,i.FLOAT,!1,0,0),i.uniform4fv(o.u_color,h),i.drawArrays(i.TRIANGLES,0,6*e.length),i.disable(i.BLEND);i.enable(i.CULL_FACE),i.enable(i.DEPTH_TEST)},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.texCoordBuffer),e.deleteTexture(this.emptyTexture),this.shader.destroy(),this.selectedShader.destroy()},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){function e(t,r,n){babelHelpers.classCallCheck(this,e),this.start=t,this.duration=r,this.options=Object.assign(n||{},{easing:e.LINEAR,clipStart:!0,clipEnd:!0,reverse:!1})}return e.LINEAR=function(e,t,r,n){return r*e/n+t},e.EASE_IN_CUBIC=function(e,t,r,n){return r*(e/=n)*e*e+t},e.EASE_OUT_CUBIC=function(e,t,r,n){return e/=n,r*(--e*e*e+1)+t},e.EASE_IN_OUT_CUBIC=function(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},e.calc=function(t,r,n){return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.LINEAR)(t-r,0,1,n)},e.prototype.reset=function(e){return this.start=e,this},e.prototype.isRunning=function(e){return e>=this.start&&e<=this.start+this.duration},e.prototype.isWaitingToRun=function(e){return e<this.start},e.prototype.value=function(t){var r=e.calc(t,this.start,this.duration,this.options.easing);return this.options.clipStart&&r<0?r=0:this.options.clipEnd&&r>1&&(r=1),this.options.reverse&&(r=1-r),r},e}()},,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n    <svg width="36" height="31" viewBox="0 0 36 31" xmlns="http://www.w3.org/2000/svg">\n        <title>Group</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M32.333 30.77H3.267c-1.1 0-2.1-.564-2.667-1.53-.533-.964-.533-2.095.033-3.06L15.5 1.464C16.067.532 17.033 0 18.133 0 19.2 0 20.2.566 20.767 1.464l14.5 24.118c.633 1.064.666 2.362.033 3.46-.6 1.097-1.7 1.73-2.967 1.73zm-14.2-28.475c-.133 0-.433.034-.633.333L2.667 27.378c-.2.333-.067.6 0 .732.066.133.233.366.633.366h29.033c.567 0 .867-.4.967-.566.1-.166.3-.6 0-1.098L18.767 2.663c-.2-.333-.5-.367-.634-.367z"/><path d="M18.133 20.825c-.633 0-1.166-.533-1.166-1.165v-8.15c0-.632.533-1.164 1.166-1.164.634 0 1.167.532 1.167 1.164v8.15c0 .666-.5 1.165-1.167 1.165zM18.133 25.05c-.633 0-1.166-.533-1.166-1.165v-.665c0-.632.533-1.165 1.166-1.165.634 0 1.167.533 1.167 1.165v.665c0 .665-.5 1.164-1.167 1.164z"/>\n        </g>\n    </svg>\n'},function(e,t,r){"use strict";function n(e,t,r){var n={width:t,height:r,left:(screen.width-t)/2,top:(screen.height-r)/2},i=Object.keys(n).map(function(e){return e+"="+n[e]}).join(",");window.open(e,"_blank",i)}function i(e,t){return function(r){var n="mailto:?subject="+encodeURIComponent("I found this great publication on issuu.com")+"&body="+encodeURIComponent("Hi,\n\nI found this publication on issuu.com which seems totally made for you.\n\n"+e+":\n"+t+"\n\nCheck it out and let me know what you think.\n\n- Me");window.open(n,"_top")}}function o(e){return function(t){n("https://www.facebook.com/sharer.php?u="+encodeURIComponent(e),575,300)}}function a(e,t){return function(r){var i={url:encodeURIComponent(t),text:encodeURIComponent(e),via:"issuu"};n("https://twitter.com/intent/tweet?"+Object.keys(i).map(function(e){return e+"="+i[e]}).join("&"),550,420)}}function s(e,t,r){return function(i){var o={url:encodeURIComponent(e),media:encodeURIComponent(t),description:encodeURIComponent(r)};n("https://pinterest.com/pin/create/button/?"+Object.keys(o).map(function(e){return e+"="+o[e]}).join("&"),750,500)}}r.d(t,"a",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"d",function(){return a}),r.d(t,"c",function(){return s})},,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return l});var n=r(7),i=r(38),o=r(19),a=r(22),s=r(6),u=Object(n.createSelector)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===a.DOWNLOAD_PROTECTED_TYPE)return e[t]}),c=Object(n.createSelector)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===a.DOWNLOAD_TYPE)return e[t]}),l=Object(n.createSelector)(c,function(e){return e.metadata.downloadable},s.E,i.a,u,o.k,function(e,t,r,n,i,o){return t&&!n&&(o&&!(!e||r)||i)})},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(0),i=r.n(n),o=r(245),a=r(157),s=r(104),u=r(87),c=r(36),l=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.onRetry=function(e){e.preventDefault(),n.props.reloadDocument&&n.props.reloadDocument()},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.error;t.name===c.e&&t.code===u.g&&window.setTimeout(function(){e.props.reloadDocument&&e.props.reloadDocument()},1e4)},t.prototype.getConfig=function(){return this.props.error.name===c.e?this.getConfigForInactiveDocument():this.getConfigForEmbedError()},t.prototype.getConfigForEmbedError=function(){var e=this.props.embedId?this.props.embedId:"undefined";return{message:this.props.error.message+" ("+e+")",icon:i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:o.a}}),retry:{display:"none"},errorId:{}}},t.prototype.getConfigForInactiveDocument=function(){var e={message:"Something went wrong",icon:i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:o.a}}),retry:{},errorId:{}};switch(this.props.error.code){case u.a:e.message="Conversion failed",e.icon=i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:a.a}}),e.retry.display="none",e.errorId.display="none";break;case u.g:e.message="Document is getting ready, hang on",e.icon=i.a.createElement("div",{className:"failed__icon"},i.a.createElement(s.a,null)),e.retry.display="none",e.errorId.display="none";break;case u.h:e.message="This publication is no longer available\ndue to a copyright claim by a third party.",e.icon=i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:a.a}}),e.retry.display="none",e.errorId.display="none";break;case u.b:case u.c:case u.d:case u.e:case u.f:case u.i:case u.j:e.message="Sorry, this publication is not available",e.retry.display="none",e.errorId.display="none"}return e},t.prototype.render=function(){var e=this.getConfig();return i.a.createElement("div",{className:"failed"},e.icon,i.a.createElement("h1",{className:"failed__message"},e.message),i.a.createElement("div",{className:"failed__retry-link-container",style:e.retry},i.a.createElement("a",{className:"failed__retry-link",href:"#",onClick:this.onRetry},"Try again")),i.a.createElement("div",{className:"failed__help"},i.a.createElement("div",{className:"failed__error-token",style:e.errorId},"Error ID: ",this.props.sessionId),i.a.createElement("div",{className:"failed__spacer",style:e.errorId}),i.a.createElement("div",{className:"failed__support-link-container"},i.a.createElement("a",{className:"failed__support-link",href:"http://help.issuu.com",target:"_blank"},"help.issuu.com"))))},t}(n.Component);l.displayName="Failed"},,,function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return s});var n=r(72),i={YOUTUBE_ERROR_INVALID_PARAMETER:2,YOUTUBE_ERROR_HTML5_PLAYER:5,YOUTUBE_ERROR_NOT_FOUND:100,YOUTUBE_ERROR_FORBIDDEN:101,YOUTUBE_ERROR_FORBIDDEN_IN_DISGUISE:150};function o(){return new Promise(function(e){var t=document.createElement("script");t.id="yt-api",t.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode&&(r.parentNode.insertBefore(t,r),window.onYouTubeIframeAPIReady=e)})}var a=function(){function e(t,r){var i=this;babelHelpers.classCallCheck(this,e),this._isFullscreen=!1,this._maxReloadRetries=3,this._onFullscreenChange=function(){var e=document.getElementById(i.id);i._isFullscreen=!!e&&e.contains(Object(n.d)()),i.fullscreenCallback&&i.fullscreenCallback()},this._onStateChange=function(){i.playStatusCallback&&i.playStatusCallback()},this._player=r,this.id=t,Object(n.a)(this._onFullscreenChange)}return e.prototype.play=function(){return this._player.playVideo(),Promise.resolve()},e.prototype.pause=function(){this._player.pauseVideo()},e.prototype.destroy=function(){Object(n.f)(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.destroy()},e.prototype.isPlaying=function(){return this._player.getPlayerState()===window.YT.PlayerState.PLAYING},e.prototype.isFullscreen=function(){return this._isFullscreen},e}();function s(e,t,r,n){return new Promise(function(o,s){var u=new a(t,new window.YT.Player(t,{videoId:e,playerVars:{showinfo:0,autoplay:0,rel:0},events:{onReady:function(){r&&u._player.mute(),o(u)},onError:function(t){t.data===i.YOUTUBE_ERROR_HTML5_PLAYER&&u._maxReloadRetries>0?(u._maxReloadRetries--,u._player.loadVideoById(e)):n()},onStateChange:function(){return u._onStateChange()}}}))})}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(195),i={draw:function(e,t,r,i){var o=1.8*i;e.save(),e.beginPath(),e.arc(t,r,i,0,2*Math.PI),e.fill(),e.translate(t-o/2,r-o/2),e.scale(o/n.a.w,o/n.a.h),n.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(196),i={draw:function(e,t,r,i){var o=1.8*i;e.save(),e.beginPath(),e.arc(t,r,i,0,2*Math.PI),e.fill(),e.translate(t-o/2,r-o/2),e.scale(o/n.a.w,o/n.a.h),n.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(26),i=1e3/60,o=1/i,a=.1/i,s=6/i,u=Math.ceil(250/i)*i;function c(e,t,r,i,o,a,s){return{top:Math.max(Math.min(e,s-o/r),0),left:Math.max(Math.min(t,a-i/r),0),zoom:Math.max(Math.min(r,n.b),n.c)}}var l=function(){function e(t,r,n,i,o,a,s){babelHelpers.classCallCheck(this,e),this.top=t,this.left=r,this.zoom=n,this.width=i,this.height=o,this.contentWidth=a,this.contentHeight=s,this.snap=!1,this.snapFunction=function(e,t,r){return{top:e,left:t,zoom:r}},this.scrollingX=!0,this.scrollingY=!0,this._lastUpdate={left:r,top:t,zoom:n},this._isMoving=!1,this._lastTouchPosition={x:0,y:0},this._initialZoomLevel=1,this._lastTouchTime=0,this._velocity={x:0,y:0},this._animate=!1,this._isDragging=!1,this._lastMoveTs=0}return e.prototype.touchStart=function(e,t,r){this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._initialZoomLevel=this.zoom,this._lastTouchTime=r,this._velocity={x:0,y:0},this._animate=!1,this._animation&&this._animation.deferred&&this._animation.deferred.resolve()},e.prototype.touchMove=function(e,t,r,i){var o=this._lastTouchPosition,a=r-this._lastTouchTime,s=this.top,u=this.left,c=this.zoom;if(i){var l=this.zoom;(c=Math.max(Math.min(i*this._initialZoomLevel,n.b),n.c))!==l&&(u+=e/l-e/c,s+=t/l-t/c)}var d={x:(e-o.x)/c,y:(t-o.y)/c};this.scrollingX||1!==c||(d.x=0),this.scrollingY||1!==c||(d.y=0),((u-=1*d.x)>this.contentWidth-this.width/c||u<0)&&(u+=.8*d.x*1),((s-=1*d.y)>this.contentHeight-this.height/c||s<0)&&(s+=.8*d.y*1);var p,h,f,m,g=(p=this._velocity,h=d,f=a,m=Math.max(1,f),{x:-h.x/m*.6+.4*p.x,y:-h.y/m*.6+.4*p.y});this._isDragging=!0,this._isMoving=!0,this.left=u,this.top=s,this.zoom=c,this._velocity=g,this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._lastTouchTime=r},e.prototype.touchEnd=function(e,t){var r=this._velocity,n=(this.snap?s:o)/this.zoom;if(this._isDragging=!1,function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}(r)>n){var l=this.zoom,d=function(e,t,r){for(var n=0,o=e.x,a=e.y,s=0,u=0;Math.sqrt(o*o+a*a)>t;)n+=i,s+=(o*=r)*i,u+=(a*=r)*i;return{duration:n,distanceX:s,distanceY:u}}(r,(this.snap?s:a)/l,1-.11/l),p=d.duration,h=d.distanceX,f=d.distanceY,m=this.left+h,g=this.top+f,v=this.snap?this.snapFunction(g,m,l):c(g,m,l,this.width,this.height,this.contentWidth,this.contentHeight),_=Math.sqrt(Math.pow(h,2)+Math.pow(f,2)),b=p*(Math.sqrt(Math.pow(g-v.top,2)+Math.pow(m-v.left,2))+_)/_;this.animateToPosition(v.top,v.left,v.zoom,t,b,"EASING_OUT_EXPO")}else this.animateToPosition(this.top,this.left,this.zoom,t,u)},e.prototype.scrollTo=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u;return this.animateToPosition(e,t,r||this.zoom,n,i)},e.prototype.jumpTo=function(e,t,r){var n=c(e,t,r||this.zoom,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var i=this.snapFunction(n.top,n.left,n.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}else this.top=n.top,this.left=n.left,this.zoom=n.zoom},e.prototype.setSnap=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t&&(this.snapFunction=t),e&&!this.snap){if(!this.snapFunction)throw new Error("Cannot snap without snap function!");if(this.snap=e,r)n&&this.animateToPosition(this.top,this.left,this.zoom,n,u);else{var i=this.snapFunction(this.top,this.left,this.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}}else this.snap=e},e.prototype.setScrolling=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scrollingX=e,this.scrollingY=t},e.prototype.resize=function(e,t,r,n,i,o,a){if(this.top=e,this.left=t,this.zoom=r,this.width=n,this.height=i,this.contentWidth=o,this.contentHeight=a,this.snap){var s=this.snapFunction(e,t,r);this.top=s.top,this.left=s.left,this.zoom=s.zoom}},e.prototype.isSnapped=function(){if(!this.snapFunction)return!0;var e=this.snapFunction(this.top,this.left,this.zoom),t=Math.abs(e.left-this.left)<1&&Math.abs(e.top-this.top)<1&&Math.abs(e.zoom-this.zoom)<.2;return t},e.prototype.update=function(e){var t,r=this._animate;if(this._animate&&this._animation){var n=this._animation,i=n.start,o=n.end,a=n.startTime,s=n.duration,u=n.easing,c=n.deferred,l=o.left-i.left,d=o.top-i.top,p=Math.min(e-a,s),h=Math.max(p/s,0);h<1&&h>0&&("EASING_OUT"===u?(t=h,h=Math.pow(t-1,3)+1):"EASING_IN_OUT"===u?h=function(e){var t=2*e;return t<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}(h):"EASING_OUT_EXPO"===u&&(h=function(e){return 1-Math.pow(2,-10*e)}(h)));var f=i.left+l*h,m=i.top+d*h,g=this.width/o.zoom-this.width/i.zoom,v=this.width/i.zoom+g*h,_=this.width/v;this.left=f,this.top=m,this.zoom=_,this._animate=p<s,this._animate||c.resolve()}this._lastUpdate.left===this.left&&this._lastUpdate.top===this.top&&this._lastUpdate.zoom===this.zoom||(this._lastMoveTs=e),this._isMoving=r||this._isDragging&&e-this._lastMoveTs<100,this._lastUpdate.left=this.left,this._lastUpdate.top=this.top,this._lastUpdate.zoom=this.zoom},e.prototype.getHorizontalPositionInPercent=function(){var e=Math.max(Math.min(100*this.left/(this.contentWidth-this.width),100),0);return Number.isFinite(e)?e:0},e.prototype.animateToPosition=function(e,t,r,n,i,o){var a=c(e,t,r,this.width,this.height,this.contentWidth,this.contentHeight),s=a.top,u=a.left,l=a.zoom;if(this.snap){var d=this.snapFunction(s,u,l);s=d.top,u=d.left,l=d.zoom}if(u===this.left&&s===this.top&&l===this.zoom)return this._animate=!1,Promise.resolve();var p={resolve:null,promise:null};return p.promise=new Promise(function(e){p.resolve=e}),this._animation={startTime:n,easing:o||(this._animate?"EASING_OUT":"EASING_IN_OUT"),duration:i,start:{top:this.top,left:this.left,zoom:this.zoom},end:{top:s,left:u,zoom:l},deferred:p},this._animate=!0,p.promise},babelHelpers.createClass(e,[{key:"isDragging",get:function(){return this._isDragging}},{key:"isAnimating",get:function(){return this._animate}},{key:"isMoving",get:function(){return this._isMoving||this._animate}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var n="TOGGLE_DROPDOWN";function i(e){return{type:n,dropdown:e}}},function(e,t,r){"use strict";var n=r(274);r.d(t,"b",function(){return n.a});r(271);var i=r(270);r.d(t,"a",function(){return i.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z"',i='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" transform="translate(11.000000, 13.000000) scale(-1, 1) translate(-11.000000, -13.000000)"',o='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" transform="translate(25.000000, 23.000000) rotate(-270.000000) translate(-25.000000, -23.000000)"',a='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-270.000000) translate(-11.000000, -23.000000)"',s='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '+n+"></path>\n                <path "+i+"></path>\n                <path "+o+"></path>\n                <path "+a+'></path>\n            </g>\n        </g>\n        <path class="shadow" '+n+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="icon" '+n+'></path>\n        <path class="icon" '+i+'></path>\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+"></path>\n    </svg>\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 13.000000) rotate(-180.000000) translate(-25.000000, -13.000000)"',i='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 13.000000) scale(-1, 1) rotate(-180.000000) translate(-11.000000, -13.000000)"',o='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 23.000000) rotate(-90.000000) translate(-25.000000, -23.000000)"',a='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-90.000000) translate(-11.000000, -23.000000)"',s='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '+n+"></path>\n                <path "+i+"></path>\n                <path "+o+"></path>\n                <path "+a+'></path>\n            </g>\n        </g>\n        <path class="shadow" '+n+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="icon" '+n+'></path>\n        <path class="icon" '+i+'></path>\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+"></path>\n    </svg>\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return u});var n=r(135),i="ON_VISIBILITY_CHANGE",o={ON_VISIBILITY_CHANGE:i};function a(){return{type:i}}var s={isHidden:n.a(),supported:n.b()};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;switch(arguments[1].type){case o.ON_VISIBILITY_CHANGE:return Object.assign({},e,{isHidden:n.a()});default:return e}}},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});var n=function(e){return e.config.origins};function i(e,t,r,n){var i=Object.assign({},e,{sessionId:t,embedTrackingQuery:r,embedId:n});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;arguments[1];return e}}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(22);function i(e,t){return!(!e||e.kind!==n.FULLSCREEN_KIND.FALLBACK)||t}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(11),i=r(65),o=r(23);function a(e,t,r,a){var s=function(){try{return window.matchMedia("(orientation: portrait)").matches}catch(e){return window.innerHeight>window.innerWidth}}(),u=i.a.isMobile()||i.a.isTablet(),c=i.a.isMobile()&&s,l=u&&s;switch(a.responsiveModeWhen){case n.RESPONSIVE.HANDHELD_IN_PORTRAIT_FULLSCREEN:if(l&&r)return n.SINGLE_PAGE_SPREAD;break;case n.RESPONSIVE.HANDHELD_IN_PORTRAIT:if(l)return n.SINGLE_PAGE_SPREAD;break;case n.RESPONSIVE.PHONE_ISH_IN_PORTRAIT:var d=480*Object(o.a)();if(c||e<=d&&e<t)return n.SINGLE_PAGE_SPREAD}return a.defaultMode}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n    <svg width="100%" height="100%" viewBox="0 0 24 24">\n        <g class="spinner__icon" fill-rule="evenodd">\n            <g transform="translate(7.000000, 7.000000)">\n                    <path d="M6.77787915,6.84548427 C5.79003176,7.83333166 4.18814246,7.83322341 3.2001563,6.84523725 C2.21223953,5.85732047 2.21223953,4.25567819 3.2001563,3.26776142 C4.18822365,2.27969408 5.7896189,2.27974819 6.77763213,3.26776142 C7.76571475,4.25584404 7.76587711,5.8574863 6.77787915,6.84548427 L8.24993998,8.31754509 C10.0510015,6.51648357 10.0507055,3.59671316 8.24969296,1.79570059 C6.44870526,-0.00528710987 3.52918184,-0.00538576575 1.72809548,1.79570059 C-0.0728180424,3.59661411 -0.0728180424,6.51638456 1.72809548,8.31729807 C3.52903385,10.1182364 6.4490513,10.1184338 8.24993998,8.31754509 L6.77787915,6.84548427 L6.77787915,6.84548427 Z"></path>\n            </g>\n            <path d="M12,23 C18.0751322,23 23,18.0751322 23,12 C23,5.92486775 18.0751322,1 12,1 C5.92486775,1 1,5.92486775 1,12 C1,18.0751322 5.92486775,23 12,23 Z M12,20.0250244 C16.4320986,20.0250244 20.0250244,16.4320986 20.0250244,12 C20.0250244,7.5679014 16.4320986,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,16.4320986 7.5679014,20.0250244 12,20.0250244 Z" fill-opacity="0.5"></path>\n            <path d="M3.97746854,12.2020107 C3.88040309,13.3666506 2.94475898,13.6536116 2.48144531,13.6567993 C1.99243164,13.6601639 0.999999997,13.1174211 1,12 C1.00000002,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,13.1278573 22.0378909,13.5112302 21.5430908,13.5112305 C21.0482908,13.5112307 20.0457764,13.2033275 20.0457764,12 C20.0457764,11.9485283 20.0382948,11.8986091 20.0236545,11.8502139 C19.9437915,7.48723335 16.3820616,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,12.067535 3.97580982,12.1348751 3.97746854,12.2020107 Z"></path>\n        </g>\n    </svg>\n'},,function(e,t,r){"use strict";var n=r(248);r.d(t,"a",function(){return n.a});var i=r(97);r.d(t,"b",function(){return i.c}),r.d(t,"c",function(){return i.d})},,function(e,t,r){"use strict";t.a={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.beginPath(),e.moveTo(12.340871,10.014123),e.bezierCurveTo(12.438705,9.987436,12.545844,9.99788,12.638453,10.051348),e.lineTo(25.723194,17.605827),e.bezierCurveTo(25.744171,17.617938,25.76355,17.631794,25.781276,17.647113),e.bezierCurveTo(25.850585,17.681197,25.910658,17.735014,25.951029,17.804939),e.bezierCurveTo(26.061419,17.99614,25.995389,18.240929,25.808595,18.348775),e.lineTo(12.645177,25.948678),e.bezierCurveTo(12.576466,25.988348,12.500235,26.004075,12.425883,25.999113),e.bezierCurveTo(12.41723,25.999695,12.408519,25.99999,12.399759,25.99999),e.bezierCurveTo(12.178978,25.99999,12,25.820411,12,25.604721),e.lineTo(12,10.404915),e.bezierCurveTo(12,10.206904,12.152566,10.0429,12.340871,10.014123),e.lineTo(12.340871,10.014123),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},function(e,t,r){"use strict";t.a={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.translate(8,10),e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.beginPath(),e.moveTo(16.683499,11.621507),e.bezierCurveTo(15.72267,11.621507,14.892862,12.262398,14.630817,13.116921),e.lineTo(7.861335,13.116921),e.bezierCurveTo(7.59929,12.347851,6.987853,11.792411,6.158046,11.664233),e.lineTo(6.027023,10.766984),e.lineTo(17.513307,9.228843),e.bezierCurveTo(17.819025,9.186117,18.08107,8.929761,18.08107,8.587952),e.lineTo(18.08107,2.520841),e.bezierCurveTo(18.08107,2.179032,17.775351,1.87995,17.425959,1.87995),e.lineTo(4.760475,1.87995),e.lineTo(4.585779,.55544),e.bezierCurveTo(4.542105,.256357,4.28006,0,3.930667,0),e.lineTo(.655111,0),e.bezierCurveTo(.305719,0,0,.299083,0,.640892),e.bezierCurveTo(0,.982701,.305719,1.281784,.655111,1.281784),e.lineTo(3.31923,1.281784),e.lineTo(4.891497,11.792411),e.bezierCurveTo(4.149038,12.13422,3.624949,12.860564,3.624949,13.715087),e.bezierCurveTo(3.624949,14.911418,4.585779,15.851393,5.808653,15.851393),e.bezierCurveTo(6.769483,15.851393,7.59929,15.210501,7.861335,14.355979),e.lineTo(14.587143,14.355979),e.bezierCurveTo(14.849188,15.210501,15.678995,15.851393,16.639825,15.851393),e.bezierCurveTo(17.8627,15.851393,18.823529,14.911418,18.823529,13.715087),e.bezierCurveTo(18.823529,12.518755,17.8627,11.621507,16.683499,11.621507),e.lineTo(16.683499,11.621507),e.closePath(),e.moveTo(16.770848,3.161733),e.lineTo(16.770848,8.032512),e.lineTo(5.896001,9.442474),e.lineTo(4.978845,3.119007),e.lineTo(16.770848,3.161733),e.lineTo(16.770848,3.161733),e.closePath(),e.moveTo(5.808653,14.612336),e.bezierCurveTo(5.328238,14.612336,4.935171,14.2278,4.935171,13.757813),e.bezierCurveTo(4.935171,13.287826,5.328238,12.90329,5.808653,12.90329),e.bezierCurveTo(6.289068,12.90329,6.682135,13.287826,6.682135,13.757813),e.bezierCurveTo(6.682135,14.2278,6.289068,14.612336,5.808653,14.612336),e.lineTo(5.808653,14.612336),e.closePath(),e.moveTo(16.683499,14.612336),e.bezierCurveTo(16.203084,14.612336,15.810018,14.2278,15.810018,13.757813),e.bezierCurveTo(15.810018,13.287826,16.203084,12.90329,16.683499,12.90329),e.bezierCurveTo(17.163914,12.90329,17.556981,13.287826,17.556981,13.757813),e.bezierCurveTo(17.556981,14.2278,17.163914,14.612336,16.683499,14.612336),e.lineTo(16.683499,14.612336),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},function(e,t,r){"use strict";t.a={w:24,h:24,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="#9AA8A9",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.save(),t.stack++,e.translate(7,7),e.save(),t.stack++,e.beginPath(),e.moveTo(6.777879,6.845484),e.bezierCurveTo(5.790032,7.833332,4.188142,7.833223,3.200156,6.845237),e.bezierCurveTo(2.21224,5.85732,2.21224,4.255678,3.200156,3.267761),e.bezierCurveTo(4.188224,2.279694,5.789619,2.279748,6.777632,3.267761),e.bezierCurveTo(7.765715,4.255844,7.765877,5.857486,6.777879,6.845484),e.lineTo(8.24994,8.317545),e.bezierCurveTo(10.051001,6.516484,10.050705,3.596713,8.249693,1.795701),e.bezierCurveTo(6.448705,-.005287,3.529182,-.005386,1.728095,1.795701),e.bezierCurveTo(-.072818,3.596614,-.072818,6.516385,1.728095,8.317298),e.bezierCurveTo(3.529034,10.118236,6.449051,10.118434,8.24994,8.317545),e.lineTo(6.777879,6.845484),e.lineTo(6.777879,6.845484),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="rgba(154, 168, 169, 0.5)",e.beginPath(),e.moveTo(12,23),e.bezierCurveTo(18.075132,23,23,18.075132,23,12),e.bezierCurveTo(23,5.924868,18.075132,1,12,1),e.bezierCurveTo(5.924868,1,1,5.924868,1,12),e.bezierCurveTo(1,18.075132,5.924868,23,12,23),e.closePath(),e.moveTo(12,20.025024),e.bezierCurveTo(16.432099,20.025024,20.025024,16.432099,20.025024,12),e.bezierCurveTo(20.025024,7.567901,16.432099,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,16.432099,7.567901,20.025024,12,20.025024),e.closePath(),e.fill("evenodd"),e.stroke(),e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="#9AA8A9",e.beginPath(),e.moveTo(3.977469,12.202011),e.bezierCurveTo(3.880403,13.366651,2.944759,13.653612,2.481445,13.656799),e.bezierCurveTo(1.992432,13.660164,1,13.117421,1,12),e.bezierCurveTo(1,5.924868,5.924868,1,12,1),e.bezierCurveTo(18.075132,1,23,5.924868,23,12),e.bezierCurveTo(23,13.127857,22.037891,13.51123,21.543091,13.51123),e.bezierCurveTo(21.048291,13.511231,20.045776,13.203328,20.045776,12),e.bezierCurveTo(20.045776,11.948528,20.038295,11.898609,20.023654,11.850214),e.bezierCurveTo(19.943791,7.487233,16.382062,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,12.067535,3.97581,12.134875,3.977469,12.202011),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return s});var n=r(64),i=r(103);function o(e,t){return{clipping:{},licenses:null,description:"",userDisplayName:e,title:t,contentRating:{},access:"public",downloadable:!1}}function a(e,t,r,a,s){var u=e+"/call/reader/api/dynamic/"+t+"/"+r,c=Date.now(),l=function(){return Math.round(Date.now()-c)};return Object(i.a)(u,{timeout:5e3,readerSessionHeader:a}).then(function(e){return s&&s.monitor("reader3-dynamicapi-stats",{success:1,success_time:l()}),e}).catch(function(e){if(s&&s.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:l()}),e.name===n.d&&404===e.code)throw new n.a("The document could not be loaded.",-1);return{metadata:{},licenses:null}}).then(function(e){var n=e.metadata,i=void 0===n?{}:n,a=e.licenses;return babelHelpers.extends({},o(t,r),{licenses:a},i)})}function s(e,t,r){return new Promise(function(n,o){var a=e+"/call/reader/api/links/"+t+"/"+r;Object(i.a)(a).then(function(e){n(e)},function(){o(new Error("The Clippings could not be loaded."))})})}},,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return a});var n=r(57),i=function(){return{status:n.d.NOTLOADED,isNotAvailable:!1,isPaid:!1,publicationPriceAmount:0,publicationPriceCurrency:"USD",readPurchasedPath:null}};function o(e,t,r){var o=i();return Object.assign({},o,{status:n.d.LOADED,isPaid:e,publicationPriceAmount:t,publicationPriceCurrency:r})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),t=arguments[1];switch(t.type){case n.b:return Object.assign({},e,{status:n.d.LOADING});case n.c:return Object.assign({},e,{status:n.d.ERROR});case n.a:return{status:n.d.LOADED,isNotAvailable:!!t.isNotAvailable,isPaid:!!t.currentUserPurchased,publicationPriceAmount:t.priceAmount,publicationPriceCurrency:t.priceCurrency,readPurchasedPath:t.readPurchasedPath};default:return e}}},function(e,t,r){"use strict";r.d(t,"b",function(){return c}),r.d(t,"a",function(){return l});var n=r(7),i=r(144),o=r(6),a=r(19),s=r(16),u=r(17),c=Object(n.createSelector)(s.d,a.n,o.E,u.d,o.D,function(e,t,r,n,i){var o=e.username,a=e.documentName;return!(!i||i.customizedToNotShow&&t||r||i.hideWhenNotInFullscreen&&!n||!o||!a)}),l=function(e){return e.headerControls.visibleDropdown===i.a}},function(e,t,r){"use strict";r.d(t,"b",function(){return l}),r.d(t,"a",function(){return d});var n=r(7),i=r(38),o=r(6),a=r(16),s=r(35),u=r(11);function c(e,t,r){return{proportion:e,done:t,available:r}}var l=Object(n.createSelector)(function(e){return Object(o.H)(e)},function(e){return e>0&&e<100?[{proportion:Math.round(e),done:!0,available:!0},{proportion:100-Math.round(e),done:!1,available:!0}]:[{proportion:100,done:100===e,available:!0}]}),d=Object(n.createSelector)(function(e){return Object(o.m)(e)},function(e){return Object(o.s)(e)},function(e){return Object(a.d)(e)},function(e){return Object(i.c)(e)},function(e){return Object(i.a)(e)},function(e){return Object(o.A)(e)},function(e,t,r,n,i,o){r.pageCount;for(var a=t+1,l=[c(2,e>0,!0)],d=i?n.map(function(e){return Object(s.a)(o,e)}):[],p=1;p<a;p++){var h=l[l.length-1],f=!d.includes(p),m=p<=e,g=2;o===u.DOUBLE_PAGE_SPREAD&&p<t&&(g=4),p===e&&p<t?(l.push(c(o===u.DOUBLE_PAGE_SPREAD?2:1,!0,f)),l.push(c(o===u.DOUBLE_PAGE_SPREAD?2:1,!1,f))):m===h.done&&f===h.available?h.proportion+=g:l.push(c(g,m,f))}return l})},function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s});var n=r(445),i=r(198);function o(e){return function(e){var t=e.origins,r=e.username,o=e.documentName,a=e.metrics,s=e.sessionId,u=e.isRobot,c=void 0!==u&&u,l=void 0,d=void 0;function p(){l=Object(n.a)(t.reader3,r,o),d=c?Promise.resolve(Object(i.a)(r,o)):Object(i.b)(t.api,r,o,s,a)}return p(),{reset:function(){p()},whenDocumentBaseFetched:function(){return l.then(function(e){return{pageCount:e.pages.length,pages:e.pages.map(function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,layersInfo:e.layersInfo,imageUri:e.imageUri,isPagePaywalled:e.isPagePaywalled}}),isPaywalled:e.isPaywallPreview}})},whenDocumentExtraFetched:function(){return Promise.all([l,d]).then(function(e){var t=e[0],n=e[1];return{publicationId:t.publicationId,revisionId:t.revisionId,username:r,documentName:o,access:n.access,description:n.description,downloadable:n.downloadable,title:n.title,userDisplayName:n.userDisplayName,contentRating:n.contentRating}})},whenDocumentTextFetched:function(){return l.then(function(e){var t=e.textInfo;return{textInfoPath:t.uri,textInfoSize:t.size,textInfoVersion:t.version}})},whenDocumentLinksFetched:function(){return c?Promise.resolve({}):Object(i.c)(t.api,r,o)},whenLicensesFetched:function(){return d.then(function(e){var t=e.licenses;if(!t)throw new Error("Licenses failed loading");return Object.keys(t)})}}}}var a=o(),s=o()},function(e,t,r){"use strict";r.d(t,"b",function(){return u}),r.d(t,"a",function(){return c});var n=r(0),i=r.n(n),o=r(107),a=function(){try{return"true"===localStorage.getItem("fe-microservice-cookie-consent/dismissed")}catch(e){return!1}},s=function(){try{return/^(.*;)?\s*site.model.token\s*=\s*[^;]+(.*)?$/.test(document.cookie)}catch(e){return!1}};function u(){return!(a()||s())}var c=function(e){function t(r){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return n.state={isDismissed:!u()},n}return babelHelpers.inherits(t,e),t.prototype.onSubmit=function(){!function(){try{localStorage.setItem("fe-microservice-cookie-consent/dismissed","true")}catch(e){}}(),this.setState({isDismissed:!0})},t.prototype.render=function(){var e=this;return this.state.isDismissed?null:i.a.createElement(o.b,{className:"msgbox-CookieConsent",onSubmit:function(){return e.onSubmit()},text:"Our website uses cookies to store your settings, recommend content, target ads and gather statistics. This information is shared with 3rd parties. By using our site, you agree to our use of cookies.",buttonText:"I understand",linkText:"Learn More",linkUrl:"/legal/cookies",boxType:o.a.INFO})},t}(n.Component)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n    <svg width="100%" height="100%" viewBox="-4 -4 30 52">\n        <defs>\n        </defs>\n        <g fill="none" class="navigation-arrow__shadow" stroke="#000" stroke-width="4" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n        <g fill="white" class="navigation-arrow__path" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n    </svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(402),i=r(77);var o={x:0,y:0,z:0},a={x:0,y:0,z:0};function s(e,t,r,n){o.x=e.x,o.y=e.y,o.z=e.z,a.x=e.x,a.y=e.y,a.z=e.z;var i=o,s=a;n>0&&(i.y=1-i.y),function(e,t,r){var n=Math.sin(t),i=Math.cos(t),o=e.y-r,a=Math.sqrt(e.x*e.x+o*o),s=Math.asin(e.x/a)/n,u=a*n,c=Math.sin(s),l=Math.cos(s);e.x=u*c,e.y=a+r-u*(1-l)*n,e.z=u*(1-l)*i}(i,t,r),n>0&&(i.y=1-i.y),function(e,t,r){var n=Math.sqrt(1+(1-r)*(1-r))*Math.sin(t),i=e.x/n;e.x=n*Math.sin(i),e.z=n-n*Math.cos(i)}(s,t,r);var u=Math.abs(n);e.x=u*i.x+(1-u)*s.x,e.y=u*i.y+(1-u)*s.y,e.z=u*i.z+(1-u)*s.z}function u(e){return i.a(0,1,e)*Math.PI}function c(e){return i.c(.5,.082,e)*Math.PI}function l(e){var t=.98,r=-8.1;return(e=Math.max(Math.min(e,1),0))<t?-6.8*Math.pow(e/t,20)-1.3:-391.9*Math.pow((e-t)/(1-t),6)+r}var d=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(babelHelpers.classCallCheck(this,e),this._point={x:0,y:0,z:0},t<2)throw new Error("size must be at least 2");this.minDepth=r;for(var n=[],i=[],o=[],a=[],s=[],u=[],c=[],l=[],d=0;d<t;d++)for(var p=d/(t-1),h=0;h<t;h++){var f=h/(t-1),m=this._tweakDepth(0);n.push(f,p,m),i.push(0,0,1),a.push(this._getPerspectiveCorrection(m)),s.push(f,p),u.push(0,0,-1),l.push(1-f,p)}for(var g=0;g<t-1;g++)for(var v=(g+0)*t,_=(g+1)*t,b=0;b<t-1;b++){var y=v+b,T=_+b;o.push(T,y,T+1),o.push(y,y+1,T+1),c.push(T+1,y+1,T),c.push(y+1,y,T)}this.size=t,this.indices=new Uint16Array(o),this.vertices=new Float32Array(n),this.normals=new Float32Array(i),this.perspectiveCorrections=new Float32Array(a),this.textureCoords=new Float32Array(s),this.backFacingIndices=new Uint16Array(c),this.backFacingNormals=new Float32Array(u),this.backFacingTextureCoords=new Float32Array(l)}return e.prototype._tweakDepth=function(e){return.8*Math.max(e,this.minDepth)},e.prototype._getPerspectiveCorrection=function(e){return 1+e/.8*-.2},e.prototype._bendPoint=function(e,t,r,n,i,o){s(e,t,r,i),function(e,t){var r=Math.sin(t),n=Math.cos(t),i=e.x*n-e.z*r,o=e.x*r+e.z*n;e.x=i,e.z=o}(e,n),e.x*=o?-1:1,e.z=this._tweakDepth(e.z)},e.prototype.bend=function(e,t){for(var r=1/e<0,i=Math.abs(e),o=u(i),a=c(i),s=l(i),d=this._point,p=0;p<this.size;p++)for(var h=0;h<this.size;h++){d.x=h/(this.size-1),d.y=p/(this.size-1),d.z=0,this._bendPoint(d,a,s,o,t,r);var f=p*this.size*3+3*h;this.vertices[f+0]=d.x,this.vertices[f+1]=d.y,this.vertices[f+2]=d.z,this.perspectiveCorrections[p*this.size+h]=this._getPerspectiveCorrection(d.z)}Object(n.a)(this.size,this.vertices,this.normals,this.backFacingNormals)},e.prototype.calculateProgress=function(e,t,r,n,i){var o=e<t;if(o){if(r<=e)return-0;if(r>=t)return-1}else{if(r>=e)return 0;if(r<=t)return 1}for(var a=this._point,s=o?-.5:.5,d=0;d<16;d++){var p=Math.abs(s),h=u(p),f=c(p),m=l(p);a.x=1,a.y=(i+1)/2,a.z=0,this._bendPoint(a,f,m,h,i,o);var g=a.x/this._getPerspectiveCorrection(a.z),v=n.x+n.width*g;if(Math.abs(v-r)<1)break;s+=Math.sign(v-r)/Math.pow(2,d+2)}return Math.max(Math.min(s,1),-1)},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var n=r(105),i=r(18),o={_pool:[],get:function(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release:function(e){this._pool.push(e)}},a=function(){function e(t,r){babelHelpers.classCallCheck(this,e),this.hintMaxWidth=t,this.hintMaxHeight=r}return e.prototype._initState=function(e,t,r,n){var i=e?e.ctx:null;if(!i||i.canvas.width!==t||i.canvas.height!==r){var a=i?i.canvas:o.get();a.width=t,a.height=r,i=a.getContext("2d",{alpha:!n})}return{ctx:i}},e.prototype.draw=regeneratorRuntime.mark(function e(t,r,i,o,a,s){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=this._initState(t,o,a,s),e.delegateYield(Object(n.e)(u.ctx,i,r),"t0",2);case 2:return e.abrupt("return",u);case 3:case"end":return e.stop()}},e,this)}),e.prototype.drawImage=function(e,t,r,n){var i=this._initState(e,r,n,!0);return i.ctx.drawImage(t,0,0,r,n),i},e.prototype.release=function(e){var t=e.ctx.canvas;Object(i.a)().rIC(function(){t.width=0,t.height=0,o.release(t)})},e.prototype.getSurface=function(e){return e.ctx.canvas},e}(),s=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}return e.prototype.draw=function(e,t,r,n){var i=this.gl,o=t.width,a=t.height;if(o>this.maxTextureSize||a>this.maxTextureSize)throw new Error("Requested creation of too large texture of size "+o+"x"+a+". maxTextureSize: "+this.maxTextureSize);var s=e?e.texture:i.createTexture();return i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.bindTexture(i.TEXTURE_2D,s),e&&e.width===o&&e.height===a||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,o,a,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.bindTexture(i.TEXTURE_2D,null),{texture:s,width:o,height:a,imgWidth:r,imgHeight:n}},e.prototype.release=function(e){var t=this.gl,r=e.texture;Object(i.a)().rIC(function(){t.deleteTexture(r)})},e.prototype.getSurface=function(e){return e},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(4),i=r(56),o=r(151),a=r(181),s=r(180),u=r(8),c=r(52),l=r(23),d=r(53),p=100,h=100,f=800,m=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),n._isHovered=!1,n._hoverAnimation=new o.a(Number.MAX_VALUE,p),n._initialFlashAnimation=new o.a(Number.MAX_VALUE,f),n._toggleAnimation=new o.a(Number.MAX_VALUE,h),n._initialFlashTimeoutId=null,i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidUpdate=function(e){var t=this;this.props.arrivedAtSpreadTick&&!e.arrivedAtSpreadTick?this._initialFlashTimeoutId=window.setTimeout(function(){t._initialFlashTimeoutId=null,t._initialFlashAnimation.reset(n.b.lastTick),t.requestRedraw()},1e3):!this.props.arrivedAtSpreadTick&&e.arrivedAtSpreadTick&&(window.clearTimeout(this._initialFlashTimeoutId),this._initialFlashTimeoutId=null),this.props.isToggledOn&&!e.isToggledOn&&(this._toggleAnimation.options.reverse=!1,this._toggleAnimation.reset(n.b.lastTick)),!this.props.isToggledOn&&e.isToggledOn&&(this._toggleAnimation.options.reverse=!0,this._toggleAnimation.reset(n.b.lastTick)),this.props.isToggledOn&&!e.isToggledOn&&this.props.arrivedAtSpreadTick&&this._trackOpportunity()},t.prototype.onMouseEnter=function(e){this._hoverAnimation.reset(n.b.lastTick),this._hoverAnimation.options.reverse=!1,this._isHovered=!0,this.props.showLinkToolTip(this),this.requestRedraw(),this.props.isToggledOn||this._trackOpportunity()},t.prototype.onMouseLeave=function(e){var t=n.b.lastTick,r=this._hoverAnimation.value(t);this._hoverAnimation.reset(t-(1-r)*p),this._hoverAnimation.options.reverse=!0,this._isHovered=!1,this.props.hideLinkToolTip(),this.requestRedraw()},t.prototype.onSingleTap=function(e,t){return this._trackUsage(),this.props.dispatch(Object(c.d)(this.model)),!0},t.prototype.isAnimating=function(){var e=n.b.lastTick;return this._initialFlashAnimation.isRunning(e)||this._toggleAnimation.isRunning(e)||this._hoverAnimation.isRunning(e)},t.prototype.hoverOpacity=function(){var e=n.b.lastTick;return this._hoverAnimation.isRunning(e)?this._hoverAnimation.value(e):this._isHovered?1:0},t.prototype.initialFlashOpacity=function(){if(this.parent&&this.parent.parent.getZoom()>1)return 0;var e=n.b.lastTick;if(this._initialFlashAnimation.isRunning(e)){var t=this._initialFlashAnimation.value(e);return t<.2?t/.2:t<.5?1:1-2*(t-.5)}return 0},t.prototype.linkToggleOpacity=function(){var e=n.b.lastTick;return this._toggleAnimation.isRunning(e)?this._toggleAnimation.value(e):this.props.isToggledOn?1:0},t.prototype.calculateOpacityForDrawing=function(){return this.shouldRenderVideoThumb()?0:Math.max(this.initialFlashOpacity(),this.linkToggleOpacity(),this.hoverOpacity())},t.prototype.shouldRenderVideoThumb=function(){return Object(d.b)(this.model)},t.prototype.getCustomCursor=function(){return!!this._isHovered&&"pointer"},t.prototype._trackOpportunity=function(){this.props.featureTracker.opportunity(u.a.PUBLICATION_LINK),Object(d.d)(this.model)&&this.props.featureTracker.opportunity(u.a.PUBLICATION_VIDEO_LINK)},t.prototype._trackUsage=function(){this.props.featureTracker.usage(u.a.PUBLICATION_LINK),Object(d.d)(this.model)&&this.props.featureTracker.usage(u.a.PUBLICATION_VIDEO_LINK)},t.prototype.draw=function(e,t){e.save(),e.beginPath();var r=this.calculateOpacityForDrawing();e.rect(t.x+.5,t.y+.5,t.width-1,t.height-1),e.strokeStyle="rgba(118, 165, 204, "+r+")",e.fillStyle="rgba(118, 165, 204, "+.5*r+")",e.fill(),e.stroke();var n=20*Object(l.a)();t.width>50&&t.height>50&&(Object(d.c)(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",a.a.draw(e,t.x+t.width/2,t.y+t.height/2,n)),Object(d.d)(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",s.a.draw(e,t.x+t.width/2,t.y+t.height/2,n))),e.restore()},t.prototype.appendWebglOps=function(e,t,r){var i=this.calculateOpacityForDrawing();i>0&&e.push({type:n.g,args:[this.model,i,Object.assign({},t)]})},t.prototype.afterDraw=function(e){this.isAnimating()&&this.requestRedraw()},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"Link"}},{key:"model",get:function(){return this.props.model}},{key:"width",get:function(){return this.model.width}},{key:"height",get:function(){return this.model.height}},{key:"transform",get:function(){return this._transform||(this._transform=new i.a,this._transform.mTranslate(this.model.x,this.model.y)),this._transform}},{key:"isVisible",get:function(){return!!this.props.arrivedAtSpreadTick&&(!!this.shouldRenderVideoThumb()||(!!this.props.isToggledOn||(!!this._isHovered||!!this.isAnimating())))}}]),t}(n.b)},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(415),i=r(243),o=r(414),a=r(4),s=r(70),u=r(53),c=r(66),l=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.position={x:0,y:0,width:0,height:0},n.unzoomedWidthInHWPx=0,n.unzoomedHeightInHWPx=0,i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.updateUnzoomedSizes()},t.prototype.componentDidUpdate=function(e){this.props.transform.isEqualWith(e.transform)||this.updateUnzoomedSizes()},t.prototype.updateUnzoomedSizes=function(){var e=this.transform.transformRect(a.b.RectPool.get(0,0,this.width,this.height));this.unzoomedWidthInHWPx=Math.floor(e.width),this.unzoomedHeightInHWPx=Math.floor(e.height),a.b.RectPool.release(e)},t.prototype.shouldRenderVideoThumb=function(){return this.model.links.some(function(e){return Object(u.b)(e)})},t.prototype.getChildrenToTraverse=function(){return this.props.mayRenderLinks?e.prototype.getChildrenToTraverse.call(this):e.prototype.getChildrenToTraverse.call(this).filter(function(e){return!(e instanceof i.a)})},t.prototype.getChildTree=function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[a.b.createElement(o.a,{model:this.props.isPaywalled?null:this.model.textInfoPage,results:this.props.isPaywalled?[]:this.model.findResults,selectedResult:this.props.isPaywalled?null:this.model.selectedFindResult,renderManager:this.props.renderManager,pageType:this.pageType})].concat(this.model.links.map(function(t){return a.b.createElement(i.a,{arrivedAtSpreadTick:e.props.arrivedAtSpreadTick,dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,hideLinkToolTip:e.props.hideLinkToolTip,isToggledOn:e.props.isLinksToggledOn,model:t,showLinkToolTip:e.props.showLinkToolTip})}))},t.prototype.getOperations=function(e,t,r){var n=Object(s.c)(e,this.pageType),i=Object(s.d)(n,t,r);if(this.updatePagePosition(n),0===i.width||0===i.height)return{done:!0,ops:[]};var o=[n.width/this.props.model.width,0,0,n.height/this.props.model.height,Math.min(0,n.x),Math.min(0,n.y)];try{var u=this.props.renderManager.generateSurfaces(o,n,i,this.unzoomedWidthInHWPx,this.unzoomedHeightInHWPx,this.pageNumber,this.inAnimation,a.b.lastTick);if(this.shouldRenderVideoThumb()){var c,l=this.props.renderManager.generateVideoThumbSurfaces(this.pageNumber,n,a.b.lastTick);if(0!==u.ops.length)(c=u.ops).push.apply(c,l.ops),u.done=u.done&&l.done}return u}catch(e){var d={matrix:o,cappedWidth:i.width,cappedHeight:i.height,unzoomedWidthInHWPx:this.unzoomedWidthInHWPx,unzoomedHeightInHWPx:this.unzoomedHeightInHWPx,pageNumber:this.pageNumber,inAnimation:this.inAnimation};throw e.sentry_extra=babelHelpers.extends({},e.sentry_extra,{renderOps:d}),e}},t.prototype.draw=function(e,t){var r=Object(s.c)(t,this.pageType),i=this.getOperations(t,e.canvas.width,e.canvas.height),o=i.ops,u=i.done;o.forEach(function(t){if(t.type===c.a)return e.fillStyle="black",void e.fillRect(t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height);if(!(t.src_px.width<=0||t.src_px.height<=0))try{e.drawImage(t.surface,t.src_px.x,t.src_px.y,t.src_px.width,t.src_px.height,t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height)}catch(e){var n={src_px:t.src_px,dest_px:t.dest_px,width:t.surface.width,height:t.surface.height};throw e.sentry_extra=babelHelpers.extends({},e.sentry_extra,{renderImage:n}),e}}),u||0!==o.length||(e.fillStyle="#f2f2f2",e.fillRect(t.x,t.y,t.width,t.height),n.a.draw(e,t.x+t.width/2,t.y+t.height/2,a.b.lastTick)),u||this.requestRedraw()},t.prototype.updatePagePosition=function(e){this.position.x=e.x,this.position.y=e.y,this.position.width=e.width,this.position.height=e.height},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"Page"}},{key:"width",get:function(){return this.props.model.width}},{key:"height",get:function(){return this.props.model.height}},{key:"model",get:function(){return this.props.model}},{key:"pageType",get:function(){return this.props.pageType}},{key:"pageNumber",get:function(){return this.props.model.pageNumber}},{key:"transform",get:function(){return this.props.transform}}]),t}(a.b)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n    <svg width="43" height="36" viewBox="0 0 43 36" xmlns="http://www.w3.org/2000/svg">\n        <title>Rectangle 425 + Rectangle 425 Copy 2 + Rectangle 429</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M42.934 18.503c.032-.338-.107-.682-.396-.9L30.273 8.36c-.435-.327-1.08-.243-1.418.206-.34.45-.25 1.084.194 1.42l11.303 8.517L29.05 27.02c-.446.336-.535.97-.195 1.42.338.45.983.533 1.418.205l12.265-9.242c.29-.218.428-.562.396-.9zM.466 18.503c-.032-.338.107-.682.397-.9L13.127 8.36c.435-.327 1.08-.243 1.418.206.34.45.25 1.084-.194 1.42L3.05 18.502 14.35 27.02c.446.336.536.97.195 1.42-.338.45-.983.533-1.418.205L.863 19.403c-.29-.218-.43-.562-.397-.9z"/><rect transform="rotate(14 22.02 17.898)" x="21.039" y="-.102" width="1.964" height="36" rx=".982"/>\n        </g>\n    </svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return o});var n=r(35);function i(e,t){var r=t.length;if(e>=r-1)return-1;if(!Object(n.c)(t[e]))return e+1;for(var i=e+1;i<r;i++)if(!Object(n.c)(t[i]))return i;return-1}function o(e,t){if(e<1)return-1;if(!Object(n.c)(t[e]))return e-1;for(var r=e-1;r>=0;r--)if(!Object(n.c)(t[r]))return r;return-1}},,function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(372),i=r(34),o=r(16),a=r(97),s=Object(i.b)(function(e){var t=Object(o.d)(e),r=t.username,n=t.publicationId;return{adRefreshTimeout:Object(a.b)(),publicationId:n,publisherUsername:r}},void 0,void 0,{pure:!0})(n.a)},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(34),i=r(69),o=r(376),a=r(2),s=r(57),u=a.paywallExports.selectMetadata,c=a.paywallExports.selectIsPaywallPreview,l=a.paywallExports.selectCurrentSpreadHasPaywalledPage,d=a.paywallExports.selectNextSpreadIndex,p=a.paywallExports.selectHostOrigins,h=a.paywallExports.goToNextPage,f=[s.d.LOADED,s.d.ERROR],m=Object(n.b)(function(e){var t=c(e),r=e.paywall,n=u(e);return{isNotAvailable:r.isNotAvailable?"disabled":"",isOverlayVisible:l(e),isPreview:t&&!r.isPaid,isPurchased:t&&r.isPaid,hostName:p(e).main.replace(/^(?:https?:)?\/\/(.*)/,"$1"),paywallDataLoaded:f.includes(r.status),priceAmount:r.publicationPriceAmount,priceCurrency:r.publicationPriceCurrency,publicationCoverUrl:n.coverUri,publicationName:n.documentName,publicationTitle:n.title,publisherDisplayName:n.userDisplayName,publisherName:n.username,publisherProfileImageUrl:n.userProfileImageUri,publisherProfileUrl:n.userProfileUri,readPurchasedPath:r.readPurchasedPath,showKeepReading:d(e)>0}},function(e){return{onKeepReading:Object(i.b)(h,e)}})(o.a)},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(57),i=r(377),o=r(2),a=o.paywallExports.READER_POSITION_CHANGED,s=o.paywallExports.DOCUMENTLOADED,u=o.paywallExports.selectIsPaywallPreview,c=o.paywallExports.selectCurrentSpreadHasPaywalledPage,l=function(e){var t=!1,r=!1;return function(o){return function(l){return function(d){var p=l(d);if(d.type===s&&u(o.getState())&&(t=!0,o.dispatch(Object(i.a)())),!t)return p;if(d.type===n.a)e.monitor("paywall.reader3.show-document");else if(!r&&d.type===a){var h=o.getState();c(h)&&(e.monitor("paywall.reader3.show-overlay"),r=!0)}return p}}}}},function(e,t,r){"use strict";function n(e){return new Promise(function(t,r){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){"function"==typeof createImageBitmap?createImageBitmap(n).then(function(e){return t(e)}):t(n)},n.onerror=function(){return r(new TypeError("Could not load image"))},n.src=e})}function i(e,t,r){return"youtube"===t?function(e,t){return n(e+"/call/reader/api/video-thumb-proxy/youtube/"+t)}(e,r):"vimeo"===t?function(e,t){return fetch(e+"/call/reader/api/video-thumb-url/vimeo/"+t).then(function(e){return e.json()}).then(function(e){return n(e[e.length-1].url)})}(e,r):Promise.reject(t+" is not supported")}r.d(t,"a",function(){return i})},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(0),i=r.n(n),o=r(34),a=r(128),s=r.n(a),u=r(179),c=r(408),l=r(113),d=r(129),p=r(6),h=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n._youtubeCheck=!1,n._interactionCallback=function(e,t,r){if(r||t)n.props.dispatch(Object(l.d)(e.link));else{var i=n.props.activeVideoLink,o=e.link.id;i&&i.id===o&&!t&&n.props.dispatch(Object(l.d)(null))}},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props.activeVideoLink;if(t){var r=t.page.pageNumber;e.pageViewportBBoxes.hasOwnProperty(r)||this.props.dispatch(Object(l.d)(null))}},t.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},t.prototype.componentDidUpdate=function(){var e=this,t=this.props,r=t.inlineYoutubeVideos,n=t.youtubeApiReady;this._youtubeCheck||0===r.length||n||(this._youtubeCheck=!0,Object(u.b)().then(function(){return e.props.dispatch(Object(l.c)())}))},t.prototype._getVideoPlayers=function(e,t){var r=this,n=Math.min.apply(Math,t)-2,o=Math.max.apply(Math,t)+2,a=this.props.activeVideoLink,s=!1;return e.map(function(e){var u=e.link,l=u.id,d=u.inlineData,p=u.page.pageNumber,h=r.props.pageViewportBBoxes[p],f=!!d&&d.isExplicit,m=!!a&&a.id!==l,g=!s&&t.includes(p)&&!m&&!!d&&d.autoplay;return g&&(s=!0),i.a.createElement(c.a,{featureTracker:r.props.featureTracker,hidden:r.props.hidden,inlineVideo:e,interactionCallback:r._interactionCallback,key:""+l,pageViewportBBox:h,shouldAutoplay:g,shouldBeLoaded:n<=p&&p<=o,shouldBePaused:m,isExplicit:r.props.checkIfVideoExplicit&&f,metrics:r.props.metrics})})},t.prototype.render=function(){var e=this.props.pageViewportBBoxes,t=Object.keys(e).map(function(e){return parseInt(e,10)}),r=[];return this.props.youtubeApiReady&&r.push.apply(r,this.props.inlineYoutubeVideos),this.props.vimeoApiReady&&r.push.apply(r,this.props.inlineVimeoVideos),this._getVideoPlayers(r,t)},t}(n.Component),f=Object(o.b)(function(e){return{activeVideoLink:e.inlineVideo.activeVideoLink,inlineYoutubeVideos:Object(d.c)(e),inlineVimeoVideos:Object(d.b)(e),checkIfVideoExplicit:Object(p.i)(e),youtubeApiReady:e.inlineVideo.youtubeApiReady,vimeoApiReady:e.inlineVideo.vimeoApiReady,featureTracker:e.featureTracker}},null,null,{pure:!1})(h)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(113);function i(){var e={youtubeApiReady:!1,vimeoApiReady:!0,activeVideoLink:null};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments[1];switch(r.type){case n.b:return Object.assign({},t,{youtubeApiReady:!0});case n.a:return Object.assign({},t,{activeVideoLink:r.videoLink});default:return t}}}},,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return h});var n=r(0),i=r.n(n),o=r(158),a=r(144),s=r(12),u=r(8),c=r(422),l=r(421),d=r(420),p=r(419),h=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(l))),n.onShareOnEmail=function(){n.props.featureTracker.usage(u.a.SHARE_EMAIL),n.props.dispatch(o.a(n.props.documentTitle,n.props.documentUrl)),n.props.dispatch(Object(s.a)())},n.onShareOnFacebook=function(){n.props.featureTracker.usage(u.a.SHARE_FACEBOOK),n.props.dispatch(o.b(n.props.documentUrl)),n.props.dispatch(Object(s.a)())},n.onShareOnTwitter=function(){n.props.featureTracker.usage(u.a.SHARE_TWITTER),n.props.dispatch(o.d(n.props.documentTitle,n.props.documentUrl)),n.props.dispatch(Object(s.a)())},n.onShareOnPinterest=function(){n.props.featureTracker.usage(u.a.SHARE_PINTEREST),n.props.dispatch(o.c(n.props.documentUrl,n.props.coverImageUrl,n.props.documentTitle)),n.props.dispatch(Object(s.a)())},n.onDimmerClick=function(){n.props.toggleShareDropdown(a.a)},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidUpdate=function(){var e=this.refs.shareDropdownInput;this.props.visible&&(e.setSelectionRange(0,e.value.length),this.props.featureTracker.opportunity(u.a.SHARE_EMAIL),this.props.featureTracker.opportunity(u.a.SHARE_FACEBOOK),this.props.featureTracker.opportunity(u.a.SHARE_TWITTER),this.props.featureTracker.opportunity(u.a.SHARE_PINTEREST))},t.prototype.render=function(){var e=this.props.documentUrl;return i.a.createElement("div",{className:"share-dropdown"},i.a.createElement("div",{className:"share-dropdown__dimmer",onClick:this.onDimmerClick}),i.a.createElement("div",{className:"share-dropdown__inner"},i.a.createElement("div",{className:"share-dropdown__social-buttons"},i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--facebook",onClick:this.onShareOnFacebook,dangerouslySetInnerHTML:{__html:c.a},href:"javascript:void(0)","data-tooltip":"Facebook"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--twitter",onClick:this.onShareOnTwitter,dangerouslySetInnerHTML:{__html:l.a},href:"javascript:void(0)","data-tooltip":"Twitter"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--pinterest",onClick:this.onShareOnPinterest,dangerouslySetInnerHTML:{__html:d.a},href:"javascript:void(0)","data-tooltip":"Pinterest"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--mailto",onClick:this.onShareOnEmail,dangerouslySetInnerHTML:{__html:p.a},href:"javascript:void(0)","data-tooltip":"E-mail"})),i.a.createElement("div",{className:"share-dropdown__direct-link"},i.a.createElement("input",{className:"share-dropdown__input",readOnly:!0,type:"text",value:e,ref:"shareDropdownInput"}))))},t}(n.Component);h.displayName="ShareDropdown"},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(0),i=r.n(n),o=r(12),a=r(8),s=r(144),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.onClick=function(){this.props.toggleShareDropdown(s.a),this.props.featureTracker.usage(a.a.BUTTON_SHARE),this.props.dispatch(Object(o.a)())},t.prototype.render=function(){var e=this;return i.a.createElement("div",{className:"header-controls__share-toggle",onClick:function(){return e.onClick()}},"Share")},t}(n.Component);u.displayName="ShareButton"},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(34),i=r(423),o=r(6),a=r(38),s=r(106),u=r(16),c=r(68),l=r(133),d=Object(n.b)(function(e){return{coverImageUrl:Object(u.d)(e).coverUri,documentTitle:Object(u.d)(e).title,documentUrl:o.n(e),featureTracker:e.featureTracker,navigationLinkFeature:o.w(e),readMorePlugin:e.readMorePlugin,shouldRenderDownloadButton:Object(c.g)(e),shouldRenderReadMoreButton:s.c(e),shouldRenderShareButton:l.d(e),readMoreButtonCentered:!Object(a.a)(e)&&window.innerWidth<window.innerHeight,readMoreButtonUnreadCount:s.a(e),isVisible:o.a(e)&&(s.c(e)||l.d(e)||Object(c.g)(e)||!!o.w(e)),readMoreDropdownVisible:o.e(e),shareDropdownVisible:l.c(e)}},void 0,void 0,{pure:!0})(i.a)},function(e,t,r){"use strict"},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(425),i=r(34),o=r(69),a=r(54),s=Object(i.b)(function(e){return{downloadButtonStatus:e.download.status}},function(e){return{onDownloadButtonClick:Object(o.b)(a.e,e)}},void 0,{pure:!0})(n.a)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(54);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:n.c},t=arguments[1];switch(t.type){case n.c:case n.b:case n.d:case n.a:return{status:t.type};default:return e}}},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(9),i=r(50),o=r(17),a=r(68),s=r(183),u=r(51);function c(e){return Object.assign({},e,{visibleDropdown:null,readMoreDropdownVisible:!1})}function l(e,t){switch(t.type){case s.a:return function(e,t){return Object.assign(c(e),{visibleDropdown:t!==e.visibleDropdown?t:null})}(e,t.dropdown);case u.d:return function(e){return Object.assign(c(e),{readMoreDropdownVisible:!0})}(e);case u.a:case n.c:case n.b:case o.a:case o.b:return c(e);case i.a:return t.isDragging?c(e):e;case n.a:return t.isPinching?c(e):e;case a.c:case a.b:case a.d:case a.a:return c(e);default:return e}}function d(){var e={visibleDropdown:null,readMoreDropdownVisible:!1};return function(){return l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(0),i=r.n(n),o=r(27),a=r.n(o),s=r(45),u=r.n(s),c=r(39),l=r(82);function d(e,t){return Math.min(Math.max(e/t*100,0),100)}var p=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n._hover=!1,i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.container=a.a.findDOMNode(this.refs.container),this.inputHandler=new l.a(this.container,{onGestureStart:function(t,r){e.props.locked||(e._containerWidth=e.container.clientWidth,e.props.onChangeStart(),e.props.onChange(d(t[0].x,e._containerWidth)))},onGestureChange:function(t,r,n,i){e.props.locked||(e.inputHandler.requestToIntercept(),e.props.onChange(d(t[0].x,e._containerWidth)))},onGestureEnd:function(t){e.props.locked||e.props.onChangeEnd(e.props.value)},onMouseEnter:function(t){e._hover=!0,e.container.classList.toggle("slider--hover",e._hover)},onMouseLeave:function(t){e._hover=!1,e.container.classList.toggle("slider--hover",e._hover)}})},t.prototype.shouldComponentUpdate=function(e){return!u()(this.props,e)},t.prototype.render=function(){var e=["slider"];this._hover&&e.push("slider--hover"),this.props.type===t.SLIDER_TYPE_ALTERNATE&&e.push("slider--alternate"),this.props.locked&&e.push("slider--locked");var r=!1;return i.a.createElement("div",{className:e.join(" "),ref:"container"},i.a.createElement("div",{className:"slider__track-container-container"},i.a.createElement("div",{className:"slider__track-container"},this.props.segments.map(function(e,t){var n=["slider__track"];e.available||n.push("slider__track--unavailable"),e.done&&n.push("slider__track--done");var o={flex:e.proportion},a=!r&&!e.done;return a&&(r=!0),i.a.createElement("div",{key:t,className:n.join(" "),style:o},a&&i.a.createElement("div",{className:"slider__thumb"}))}),!r&&i.a.createElement("div",{className:"slider__thumb slider__thumb--end"}),this.props.markers&&!!this.props.markers.length&&i.a.createElement(c.b.SliderMarkers,{markers:this.props.markers,value:this.props.value}))),i.a.createElement("span",{style:{position:"absolute",visibility:"hidden"}},this.props.value))},t}(n.Component);p.displayName="Slider",p.SLIDER_TYPE_DEFAULT="SLIDER_TYPE_DEFAULT",p.SLIDER_TYPE_ALTERNATE="SLIDER_TYPE_ALTERNATE"},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n="object"===("undefined"==typeof performance?"undefined":babelHelpers.typeof(performance))&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function i(){if("function"==typeof window.requestIdleCallback&&"function"==typeof window.cancelIdleCallback)return{rIC:function(){var e;return(e=window).requestIdleCallback.apply(e,arguments)},cIC:function(){var e;return(e=window).cancelIdleCallback.apply(e,arguments)}};var e=null,t=!1,r=-1,i=!1,o=0,a=33,s=33,u={didTimeout:!1,timeRemaining:function(){var e=o-n();return e>0?e:0}},c="__rIC$"+Math.random().toString(36).slice(2),l=function(e){i=!1;var r=e-o+s;r<s&&a<s?(r<8&&(r=8),s=r<a?a:r):a=r,o=e+s,t||(t=!0,window.postMessage(c,"*"))};window.addEventListener("message",function a(s){if(s.source===window&&s.data===c){t=!1;var d=n();if(o-d<=0){if(!(-1!==r&&r<=d))return void(i||(i=!0,requestAnimationFrame(l)));u.didTimeout=!0}else u.didTimeout=!1;r=-1;var p=e;e=null,window.removeEventListener("message",a,!1),null!==p&&p(u)}},!1);return{rIC:function(t,o){return e=t,o&&"number"==typeof o.timeout&&(r=n()+o.timeout),i||(i=!0,requestAnimationFrame(l)),0},cIC:function(n){e=null,t=!1,r=-1}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=/^(?:Mediapartners-Google|Yahoo|MSNPTC|Baiduspider|Yandex|proximic|Ezooms)|bot\/|Yahoo! Slurp|Ask Jeeves\/Teoma|spider|crawl|ia_archiver|heritrix\//i;function i(e){return n.test(e)}},function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return a});var n=r(37),i=r.n(n);function o(e,t,r,n){if(n)return"";var o="embed_context="+e;if(t){var a=new i.a(t).host();o+="&embed_domain="+encodeURIComponent(a)}return r&&(o+="&embed_id="+encodeURIComponent(r)),o}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"?";return e&&t?r+"embed_cta="+encodeURIComponent(e)+"&"+t:""}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(446);function i(e,t,r,i){var o=r.replace("/docs/","/").split("/").filter(function(e){return!!e}),a=o[0],s=void 0===a?"":a,u=o[1],c=void 0===u?"":u,l=Object(n.a)(e.api,i);return{reset:function(){},whenDocumentBaseFetched:function(){return Promise.resolve({pageCount:t.pages.length,pages:t.pages.map(function(e,t){return{height:e.height,width:e.width,imageUri:e.imageUri,layersInfo:e.layersInfo,pageNumber:t+1,isPagePaywalled:!1}}),isPaywalled:!1})},whenDocumentExtraFetched:function(){return Promise.resolve({publicationId:t.publicationId,revisionId:t.revisionId,username:s,documentName:c,access:"public",description:t.description,downloadable:t.downloadable,title:t.title,userDisplayName:t.userDisplayName,contentRating:{},protectedContentUrlId:i})},whenDocumentTextFetched:function(){return Promise.resolve({textInfoPath:t.textInfo.uri,textInfoSize:t.textInfo.size,textInfoVersion:t.textInfo.version})},whenDocumentLinksFetched:function(){return l},whenLicensesFetched:function(){return Promise.reject("Disable license check in purchased mode")}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(447),i=r(64);function o(e,t,r){var o=void 0;function a(){o=function(){return Object(n.a)(e.api,t.originalFileId,r).catch(function(e){if(e.name===i.d&&202===e.code)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){window.setTimeout(function(){t()},e)})}(2e3).then(function(){return o()});throw e})}}return a(),{reset:function(){a()},whenDocumentBaseFetched:function(){return o().then(function(e){var r=e.pageCount,n=e.pages,i=e.blurredPages;return{pageCount:r,pages:(t.currentUserPurchased?n:n.map(function(e,r){var n=r+1;return t.previewPageNumbers.includes(n)?e:i[r]})).map(function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,imageUri:e.imageUri,layersInfo:e.layersInfo,isPagePaywalled:e.isPagePaywalled}}),isPaywalled:!t.currentUserPurchased}})},whenDocumentExtraFetched:function(){return Promise.resolve({publicationId:"",revisionId:"",username:t.username,documentName:"",access:"public",description:"",downloadable:!1,title:t.title,userDisplayName:t.userDisplayName,contentRating:{}})},whenDocumentTextFetched:function(){return new Promise(function(){})},whenDocumentLinksFetched:function(){return new Promise(function(){})},whenLicensesFetched:function(){return Promise.reject("Disable license check in paywallPreview mode")}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),i=r.n(n),o=r(107),a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement(o.b,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"Video marked as explicit.",text:"You can still view this video on "+this.props.service+".",buttonText:"Open in "+this.props.service,boxType:o.a.WARNING})},t}(n.Component)},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),i=r.n(n),o=r(107),a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement(o.b,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"We were unable to open this video.",text:"This video is hosted on "+this.props.service+". You can try and view it there",buttonText:"Open in "+this.props.service,boxType:o.a.ERROR})},t}(n.Component)},function(e,t,r){"use strict";function n(){for(var e,t="abcdefghijklmnopqrstuvwxyz0123456789",r="",n=0;n<12;n++)r+=t.charAt((e=t.length,Math.floor(e*Math.random())));return r}r.d(t,"a",function(){return n})},,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(38),i=r(6),o=r(16),a=r(188),s=r(9),u=r(50),c={selectMetadata:o.d,selectIsPaywallPreview:n.a,selectCurrentSpreadHasPaywalledPage:i.l,selectNextSpreadIndex:i.x,selectCanUseCredentials:i.h,selectHostOrigins:a.b,goToNextPage:s.e,DOCUMENTLOADED:o.a,READER_POSITION_CHANGED:u.a}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function e(t,r){babelHelpers.classCallCheck(this,e),this.buttonStream=t,this.exitFullscreenStream=r}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(333);function i(e){return fetch(e).then(function(e){return e.ok?e.json().then(function(e){return"fail"===e.rsp.stat?Promise.reject():e.rsp._content.stream}):Promise.reject()})}function o(e,t,r,o){var a=null,s=null;return o?(a=function(e,t,r){return i(e+"/call/stream/web/embed/read_more_from_paying_publisher/initial?ownerUsername="+r+"&publicationId="+t+"&pageSize=8")}(e,t,r),s=function(e,t,r){return i(e+"/call/stream/web/embed/read_more_from_paying_publisher_from_fullscreen/initial?ownerUsername="+r+"&publicationId="+t+"&pageSize=8")}(e,t,r)):(a=function(e,t){return i(e+"/call/stream/web/embed/read_more_by_button_click/initial?publicationId="+t+"&seed=42&pageSize=8")}(e,t),s=function(e,t){return i(e+"/call/stream/web/embed/read_more_exit_from_fullscreen/initial?publicationId="+t+"&seed=42&pageSize=8")}(e,t)),Promise.all([a,s]).then(function(e){return new n.a(e[0],e[1])})}},function(e,t,r){"use strict";function n(){var e=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++)try{var i=decodeURIComponent(r[n]).trim();if(0===i.indexOf(t))return i.substring(t.length,i.length)}catch(e){continue}return null}("issuu.comstream.debug.style");return!!window.ISSUU_STREAM_DEBUG||null!==e}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(0),i=r.n(n),o=r(24),a=r.n(o),s=r(45),u=r.n(s),c=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!(u()(this.props,e)&&u()(this.state,t))},t.prototype.render=function(){var e=a()("readmore-header",{"readmore-header--large":!!this.props.large,"readmore-header--one-line":!!this.props.oneLine});return i.a.createElement("div",{className:e},i.a.createElement("span",{className:"readmore-header__text"},"Here's more to read..."))},t}(n.Component);c.displayName="Header"},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),i=r.n(n),o=r(178),a=r(41);var s=function(e){function t(){var r,n,i,s,u;babelHelpers.classCallCheck(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(l))),n.loadAd=function(){var e=[["pageType","embed"],["isLoggedIn",Object(a.getLoggedInUsername)()?"true":"false"],["fullUrl","undefined"!=typeof window?window.document.location.href:""],["publicationId",n.props.publicationId],["ownerUsername",n.props.publisherUsername],["randomBucket",n.randomBucketInt],["isDevelopmentTest",(!1).toString()]],t=n.props.fallbackCover;t&&(e.push(["fallbackLink",encodeURIComponent(t.linkUrl)]),e.push(["fallbackCover",encodeURIComponent(t.imageUrl)])),n.adElement=document.createElement("div"),n.refs.adContainer.appendChild(n.adElement),n.ad=o.create({rootElm:n.adElement,dfpTargeting:e,adProviderConfig:{network:"/30443627/Embed_ReadMore",sizes:[[1,1]]},isProductionEnv:!0,trackingKey:"ads-widget.Embed_ReadMore"}),n.ad.show(),n.adLoaded=!0},n.randomBucketInt=(s=1,u=10,Math.floor(Math.random()*(u-s+1)+s)),n.adLoaded=!1,i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidUpdate=function(){this.props.isVisible&&!this.adLoaded&&this.loadAd()},t.prototype.render=function(){return i.a.createElement("div",{className:"item-container stream-list__item"},i.a.createElement("div",{className:"ad-container",ref:"adContainer"}))},t}(n.Component);s.displayName="Ad"},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(0),i=r.n(n),o=r(24),a=r.n(o),s=r(337),u=r(18),c=function(e){function t(){var r,n,o;babelHelpers.classCallCheck(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),n.onClickStreamItem=function(e,t){n.props.onClickElement(e,t)},n._documentPageUrl=function(e,t){var r=n.props.config.origins.main+"/"+e.content.ownerUsername+"/docs/"+e.content.publicationName,i="?streamOrigin="+encodeURIComponent(e.origin.join(";"))+"&streamRanking="+t;return i+=Object(u.c)("read_more",n.props.embedTrackingQuery,"&"),r.toLowerCase()+i},n._imgUrl=function(e){var t=e.content.revisionId+"-"+e.content.publicationId;return n.props.config.origins.image+"/"+t+"/jpg/page_1_thumb_large.jpg"},n._getStreamWithAds=function(e,t){var r=e.slice();return r.splice(t,1,{isAd:!0}),r},n._getCoverMarkup=function(e,t){var r=e.content.height/e.content.width,o=e.content.revisionId+"-"+e.content.publicationId,a=n._imgUrl(e),s=n._documentPageUrl(e,t),u={backgroundImage:"url("+a+")",border:void 0},c=n.props.openInNewTab?"_blank":"_top",l=null;return n.props.debug&&(u.border="5px solid "+e.debug_info.color,l=i.a.createElement("span",{className:"stream-list__debug"},e.origin.join(";"))),i.a.createElement("a",{key:o,className:"stream-list__item stream-list__cover",href:s,style:u,target:c,title:e.content.title,onClick:function(r){return n.onClickStreamItem(e,t)}},l,i.a.createElement("div",{className:"stream-list__item-aspect",style:{paddingTop:100*r+"%"}}))},o=r,babelHelpers.possibleConstructorReturn(n,o)}return babelHelpers.inherits(t,e),t.prototype.componentWillUpdate=function(e,t){!this.props.isVisible&&e.isVisible&&e.animate?this.refs.stream.classList.add("stream-list--animate"):this.props.isVisible&&!e.isVisible&&this.refs.stream.classList.remove("stream-list--animate")},t.prototype.render=function(){var e=this,t=this.props.showAsColumns&&2!==this.props.stream.length,r=a()("stream-list",{"stream-list--columns":t,"stream-list--shelf":!t}),n=this.props.stream.length-1,o=this.props.showAd?this._getStreamWithAds(this.props.stream,n):this.props.stream;return i.a.createElement("div",{ref:"stream",className:r},o.map(function(t,r){return t.isAd?i.a.createElement(s.a,{key:"ad-key-"+n,isVisible:e.props.isVisible,fallbackCover:{linkUrl:e._documentPageUrl(e.props.stream[n],1),imageUrl:e._imgUrl(e.props.stream[n])},publicationId:e.props.publicationId,publisherUsername:e.props.publisherUsername}):e._getCoverMarkup(t,r)}))},t}(n.Component);c.displayName="StreamList"},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(0),i=r.n(n),o=r(24),a=r.n(o),s=r(338),u=r(336),c=r(335),l=r(18),d=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.onClickStreamItem=function(e,t){n.props.metrics.onMoreContentDocumentClick({revisionId:e.content.revisionId,publicationId:e.content.publicationId,ownerUsername:e.content.ownerUsername,publicationName:e.content.publicationName,streamOrigin:e.origin,streamRanking:t})},n.onClickSeeMore=function(){n.props.metrics.monitor("reader3-readmore-seemore",{click:1,msToClick:Date.now()-(n._visibilityTime?n._visibilityTime:0)},!0)},n.trackOnVisible=function(e){e.map(function(e,t){n.props.metrics.onMoreContentDocumentShow({revisionId:e.content.revisionId,publicationId:e.content.publicationId,ownerUsername:e.content.ownerUsername,publicationName:e.content.publicationName,pageNumber:1,streamOrigin:e.origin,streamRanking:t})}),n.showReadmoreButton(e)&&n.props.metrics.monitor("reader3-readmore-seemore",{impression:1}),n.showHeader(e)&&n.props.metrics.monitor("reader3-readmore-logo",{impression:1}),n._visibilityTime=Date.now()},n.decideStream=function(){if(!n.props.streamState)return[];var e=n.props.exitedFullscreen?n.props.streamState.exitFullscreenStream:n.props.streamState.buttonStream;return n.props.shouldHackStreamCount?e.slice(0,3):e},n.showHeader=function(e){return n.props.showAsOverlay||e.length>1},n.showReadmoreButton=function(e){return 4===e.length&&(!n.props.showAsOverlay||window.innerHeight>400)},n.seeMoreUrl=function(){return n.props.showOwnDocuments&&n.props.username?n.props.config.origins.main+"/"+n.props.username:n.props.config.origins.main+"/explore"+Object(l.c)("read_more_issuu",n.props.embedTrackingQuery)},n._visibilityTime=void 0,i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this._streamDebugMode=Object(c.a)()},t.prototype.componentDidUpdate=function(e,t){!e.isVisible&&this.props.isVisible&&this.trackOnVisible(this.decideStream())},t.prototype.render=function(){var e=this.decideStream();if(!e||0===e.length||!this.props.showMore)return null;var t=window.innerWidth<window.innerHeight,r=t&&this.props.showAsOverlay,n=this.seeMoreUrl(),o=a()("readmore",{"readmore--overlay":this.props.showAsOverlay,"readmore--overlay-landscape":this.props.showAsOverlay&&!t,"readmore--overlay-portrait":this.props.showAsOverlay&&t,"readmore--dropdown-4-items":!this.props.showAsOverlay&&4===e.length,"readmore--dropdown-3-items":!this.props.showAsOverlay&&3===e.length,"readmore--dropdown-2-items":!this.props.showAsOverlay&&2===e.length,"readmore--dropdown-1-items":!this.props.showAsOverlay&&1===e.length}),c=this.props.openInNewTab?"_blank":"_top";return i.a.createElement("div",{className:o},this.showHeader(e)&&i.a.createElement(u.a,{config:this.props.config,large:this.props.showAsOverlay&&window.innerHeight>360&&!t,oneLine:!this.props.showAsOverlay}),i.a.createElement(s.a,{animate:!r,config:this.props.config,debug:!(!this.props.debug&&!this._streamDebugMode),embedTrackingQuery:this.props.embedTrackingQuery,isVisible:this.props.isVisible,onClickElement:this.onClickStreamItem,openInNewTab:this.props.openInNewTab,publicationId:this.props.publicationId,publisherUsername:this.props.username,showAd:this.props.showAd,showAsColumns:r,stream:e}),this.showReadmoreButton(e)&&i.a.createElement("div",{className:"readmore__see-more-wrapper"},i.a.createElement("a",{className:"readmore__see-more",href:n,target:c,onClick:this.onClickSeeMore},"See more on Issuu")))},t}(n.Component);d.displayName="MoreContent"},,function(e,t,r){"use strict";var n=r(340),i=r.n(n),o=["chrome","firefox","safari","mobile_safari","edge","ie"],a=["desktop","mobile","tablet"];t.a=function(){var e="",t="";try{var r=(new i.a).getResult();e=r.device.type||"desktop",t=r.browser.name||"unknown_browser"}catch(e){}return e=e.replace(" ","_").toLocaleLowerCase(),t=t.replace(" ","_").toLocaleLowerCase(),a.includes(e)||(e="otherDevice"),o.includes(t)||(t="otherBrowser"),{deviceType:e,browserName:t}}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function e(t,r,n){var i=this;babelHelpers.classCallCheck(this,e),this._getSignalData=function(e){return{version:"2.2.2",username:e?null:i._environment.getUsername(),ui_language:i._environment.getLanguage(),location:i._environment.getLocation(),referrer:i._environment.getReferrer(),contexts:[]}},this.downloadAnonymously=function(e){var t={type:"document_download",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase()};i._post(babelHelpers.extends({},i._wrapper.getWebsitePingbackWrapper(),{data:babelHelpers.extends({},i._getSignalData(!0),{contexts:[{browser_size:i._environment.getBrowserSize(),events:[t]}]})}))},this._wrapper=t,this._post=r,this._environment=n}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=[2e3,3e3,4e3,6e3,8e3,12e3],i=function e(t){var r=this;babelHelpers.classCallCheck(this,e),this._eventsAfterDocumentRead=[],this._documentReadTimeoutId=void 0,this._documentReadTriggered=!1,this._pageReadLastPages=null,this._pageReadStartTime=Date.now(),this._pageReadLastEndTime=Date.now(),this._delays=null,this._pageReadTimeTimeoutId=void 0,this._idleTimeoutId=void 0,this._setUpPageReadTimers=function(){r._delays=n.slice(0),r._pageReadStartTime=r._pageReadLastEndTime=Date.now(),r._startPageReadTimer()},this._startPageReadTimer=function(){r._pageReadTimeTimeoutId=setTimeout(function(){r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime(),r._startPageReadTimer()},r._getNextPageReadTimeout())},this._startIdleTimer=function(){r._idleTimeoutId=setTimeout(function(){r._idleTimeoutId=void 0,void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime())},6e5)},this._resetIdleTimer=function(){void 0!==r._idleTimeoutId?(r._idleTimeoutId&&clearTimeout(r._idleTimeoutId),r._idleTimeoutId=void 0):r._readerPingbackHelper.viewportHasUserAttention()&&(r._pageReadLastEndTime=(new Date).getTime(),r._delays?r._startPageReadTimer():r._setUpPageReadTimers()),r._startIdleTimer()},this._clearTimers=function(){void 0!==r._idleTimeoutId&&(r._idleTimeoutId&&clearTimeout(r._idleTimeoutId),r._idleTimeoutId=void 0),void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0)},this._getNextPageReadTimeout=function(){var e=r._delays?r._delays.shift():NaN;if(isNaN(e)){var t=n.length;return n[t-1]+.2*((new Date).getTime()-r._pageReadStartTime)}return e},this._trackDocumentImpression=function(){r._readerPingbackHelper.updateSignal({type:"document_impression"}),r._readerPingbackHelper.timeoutPingback()},this._trackDocumentRead=function(){for(;r._eventsAfterDocumentRead.length>0;)r._readerPingbackHelper.updateSignal(r._eventsAfterDocumentRead.shift());r._readerPingbackHelper.updateSignal({type:"document_read"}),r._readerPingbackHelper.executePingback(),r._documentReadTriggered=!0,r._documentReadTimeoutId=void 0},this._trackPageImpression=function(e){e.forEach(function(e){r._readerPingbackHelper.updateSignal({type:"page_impression",page:e})}),r._readerPingbackHelper.timeoutPingback()},this._maybeTrackPageRead=function(){var e=r._readerPingbackHelper.getCurrentPages(),t=JSON.stringify(e);r._pageReadLastPages!==t&&(r._pageReadLastPages=t,e.forEach(function(e){var t={type:"page_read",page:e};r._documentReadTriggered?r._readerPingbackHelper.updateSignal(t):r._eventsAfterDocumentRead.push(t)}),r._readerPingbackHelper.timeoutPingback())},this._trackPageReadTime=function(){var e=(new Date).getTime(),t=r._readerPingbackHelper.getCurrentPages(),n=Math.floor((e-r._pageReadLastEndTime)/t.length);n<=0||(t.forEach(function(e){var t={type:"page_read_time",time_increment:n,page:e};r._documentReadTriggered?r._readerPingbackHelper.updateSignal(t):r._eventsAfterDocumentRead.push(t)}),r._pageReadLastEndTime=e,r._readerPingbackHelper.timeoutPingback())},this._maybeStartDocumentReadTimer=function(){void 0!==r._documentReadTimeoutId||r._documentReadTriggered||(r._documentReadTimeoutId=setTimeout(function(){r._trackDocumentRead()},2e3))},this.documentLoad=function(e){r._readerPingbackHelper.initializeModel(e),r._trackDocumentImpression(),r._trackPageImpression(e.pages),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeStartDocumentReadTimer(),r._maybeTrackPageRead(),r._setUpPageReadTimers()),r._startIdleTimer()},this.documentUnLoad=function(){r.flush(),r._readerPingbackHelper.clearModel()},this.userInteracted=function(){r._readerPingbackHelper.updateModelOnUserInteracted(),r._resetIdleTimer(),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeStartDocumentReadTimer(),r._maybeTrackPageRead(),r._setUpPageReadTimers()),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0,r._trackDocumentRead())},this.pageChange=function(e){r._resetIdleTimer(),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0,r._trackDocumentRead()),void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()),r._readerPingbackHelper.updateModelOnPageChange(e),r._trackPageImpression(e.pages),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeTrackPageRead(),r._setUpPageReadTimers())},this.zoom=function(){r._resetIdleTimer()},this.resize=function(e){r._resetIdleTimer(),r._readerPingbackHelper.updateModelOnResize(e),r._readerPingbackHelper.viewportHasUserAttention()?(r._maybeStartDocumentReadTimer(),void 0===r._pageReadTimeTimeoutId&&r._setUpPageReadTimers(),r._maybeTrackPageRead()):(r._documentReadTimeoutId&&(clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0),r._pageReadTimeTimeoutId&&(clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()))},this.flush=function(){r._clearTimers(),r._eventsAfterDocumentRead=[],r._readerPingbackHelper.executePingback()},this._readerPingbackHelper=t}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function e(t){var r=this;babelHelpers.classCallCheck(this,e),this.clippingAction=function(e){r._readerPingbackHelper.updateSignal({type:"clipping_action",clippingId:e.clippingId,action:e.action,on_page:e.onPage,creator:e.creator,url:e.url,page:e.page,service:e.service,videoid:e.videoid,opened_in_reader:e.opened_in_reader}),r._readerPingbackHelper.timeoutPingback()},this._readerPingbackHelper=t}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function e(t){var r=this;babelHelpers.classCallCheck(this,e),this.moreContentDocumentShow=function(e){r._readerPingbackHelper.updateSignal({type:"more_content_document_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),r._readerPingbackHelper.timeoutPingback()},this.moreContentDocumentClick=function(e){r._readerPingbackHelper.updateSignal({type:"more_content_document_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),r._readerPingbackHelper.executePingback()},this._readerPingbackHelper=t}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});function n(e){return{version:"1.3.3",username:e.getUsername(),ui_language:e.getLanguage(),location:e.getLocation(),referrer:e.getReferrer(),source:e.getSource(),contexts:[]}}var i=function e(t,r,i,o){var a=this;babelHelpers.classCallCheck(this,e),this._signal=void 0,this._model=void 0,this._timeoutId=void 0,this.initializeModel=function(e){a._model?a._handleError(new Error("reader pingback helper->initializeModel->model already exist")):a._model={doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),pages:e.pages,pageNumber:e.pageNumber,ad_id:e.adpageId||null,ad_token:e.adpageToken||null,is_embed:e.isEmbed,embed_id:e.embedId||null,display_size:e.displaySize||a._environment.getBrowserSize(),is_fullscreen:e.isFullscreen,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking||null,user_interacted:!1}},this.clearModel=function(){a.executePingback(),a._model=void 0},this.updateModelOnPageChange=function(e){a._model?a._model.pages=e.pages:a._handleError(new Error("reader pingback handler->updateModelOnPageChange->no model."))},this.updateModelOnResize=function(e){a._model?(a._model.display_size=e.displaySize,a._model.is_fullscreen=e.isFullscreen):a._handleError(new Error("reader pingback handler->updateModelOnResize->no model."))},this.updateModelOnUserInteracted=function(){a._model?a._model.user_interacted=!0:a._handleError(new Error("reader pingback handler->updateModelOnUserInteracted->no model."))},this._executePingbackIfPlatformHasChanged=function(){var e=a._signal;if(e){var t=n(a._environment);["version","username","location","referrer","source"].find(function(r){return e.data[r]!==t[r]})&&a.executePingback()}},this.viewportHasUserAttention=function(){return a._model?!a._model.is_embed||a._model.is_fullscreen||a._model.user_interacted:(a._handleError(new Error("reader pingback handler - viewportHasUserAttention - no model.")),!1)},this.updateSignal=function(e){var t=a._model;if(t){a._executePingbackIfPlatformHasChanged();var r=a._signal||babelHelpers.extends({},a._wrapper.getReaderPingbackWrapper(),{data:n(a._environment)});a._signal=r,function(e,t){var r=e.data.contexts.length;if(0===r)return!0;var n=!1;return["doc_id","doc_creator","doc_name","ad_id","ad_token","embed_id","display_size","stream_origin","stream_ranking"].forEach(function(i){n=n||e.data.contexts[r-1][i]!==t[i]}),n=n||e.data.contexts[r-1].pages.toString()!==t.pages.toString()}(r,t)&&r.data.contexts.push({doc_id:t.doc_id,doc_creator:t.doc_creator,doc_name:t.doc_name,pages:t.pages,ad_id:t.ad_id,ad_token:t.ad_token,embed_id:t.embed_id,display_size:t.display_size,display_state:null,stream_origin:t.stream_origin,stream_ranking:t.stream_ranking,events:[]});var i=r.data.contexts.length;i>0?r.data.contexts[i-1].events.push(e):a._handleError(new Error("reader pingback handler context length invalid."))}else a._handleError(new Error("reader pingback handler - update signal - no model."))},this.getCurrentPages=function(){return a._model?a._model.pages:(a._handleError(new Error("reader pingback handler - get current pages - no model.")),[])},this.timeoutPingback=function(){if(a._signal){a._timeoutId&&(clearTimeout(a._timeoutId),a._timeoutId=void 0);for(var e=0,t=a._signal.data.contexts.length-1;t>=0;t--)e+=a._signal.data.contexts[t].events.length;e>=20?a.executePingback():a._timeoutId=setTimeout(function(){a.executePingback()},1500)}},this.executePingback=function(){a._timeoutId&&(clearTimeout(a._timeoutId),a._timeoutId=void 0),a._signal&&(a._post(a._signal),a._signal=void 0)},this._handleError=t,this._wrapper=r,this._post=i,this._environment=o}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function e(t){var r=this;babelHelpers.classCallCheck(this,e),this._getPingbackWrapper=function(e){return{version:"2.2.0",origin:r._origin,type:e}},this.getMonitorPingbackWrapper=function(){return r._getPingbackWrapper("monitor")},this.getWebsitePingbackWrapper=function(){return r._getPingbackWrapper("website")},this.getReaderPingbackWrapper=function(){return r._getPingbackWrapper("reader")},this._origin=t}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function e(t,r){var n=this;babelHelpers.classCallCheck(this,e),this._postBatchedTimeoutId=void 0,this._batchedQueue=[],this._queueLength=function(){return n._batchedQueue.length},this._addToQueue=function(e){n._batchedQueue.push(babelHelpers.extends({},e,{version:"1.0.0"}))},this._startPostTimerIfNeeded=function(){void 0===n._postBatchedTimeoutId&&(n._postBatchedTimeoutId=setTimeout(function(){n._postBatchedTimeoutId=void 0,n._postAllQueued()},2e3))},this._postAllQueued=function(){0!==n._queueLength()&&(void 0!==n._postBatchedTimeoutId&&(n._postBatchedTimeoutId&&clearTimeout(n._postBatchedTimeoutId),n._postBatchedTimeoutId=void 0),n._post(babelHelpers.extends({},n._wrapper.getMonitorPingbackWrapper(),{data:n._batchedQueue})),n._batchedQueue=[])},this.monitor=function(e){n._addToQueue(e),n._postAllQueued()},this.monitorBatched=function(e){n._addToQueue(e),n._queueLength()>=20?n._postAllQueued():n._startPostTimerIfNeeded()},this.flush=function(){n._postAllQueued()},this._wrapper=t,this._post=r}},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(30),i=r(348),o=r(347),a=r(346),s=r(345),u=r(344),c=r(343),l=r(342),d=4,p=function(){function e(t){babelHelpers.classCallCheck(this,e);var r={getUsername:function(){return t.username},getLanguage:function(){return t.language},getLocation:function(){return t.location},getReferrer:function(){return t.referrer},getSource:function(){return t.source},getWidth:function(){return t.width},getHeight:function(){return t.height},getBrowserSize:function(){return r.getWidth()+"x"+r.getHeight()}},n=function(e){if(!t.monitorEventsOnly||"monitor"===e.type){var r=new XMLHttpRequest;r.open("POST",t.pingbackOrigin+"/ping",!0),r.withCredentials=!0,r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.onreadystatechange=function(){r.readyState===d&&r.status},r.send(JSON.stringify(e))}},p=new o.a(t.origin+"_tracking-buildin"),h=new a.a(function(e){},p,n,r);this.deviceType=t.deviceType,this.browserName=t.browserName,this.readerEndPoint=t.readerEndPoint,this._monitorHandler=new i.a(p,n),this._seeMoreHandler=new s.a(h),this._linkHandler=new u.a(h),this._documentHandler=new c.a(h),this._websiteHandler=new l.a(p,n,r)}return e.prototype.onEvent=function(e){switch(e.type){case n.c:this._documentHandler.documentLoad(e.data);break;case n.m:this._documentHandler.userInteracted();break;case n.k:this._documentHandler.pageChange(e.data);break;case n.n:this._documentHandler.zoom();break;case n.l:this._documentHandler.resize(e.data);break;case n.b:this._websiteHandler.downloadAnonymously(e.data);break;case n.a:this._linkHandler.clippingAction(e.data);break;case n.j:this._seeMoreHandler.moreContentDocumentShow(e.data);break;case n.i:this._seeMoreHandler.moreContentDocumentClick(e.data);break;case n.d:this._monitorHandler.monitorBatched(e.data);break;case n.f:this._monitorHandler.monitor(e.data);break;case n.h:this._monitorHandler.monitorBatched({type:"rattlesnakes.reader3."+this.readerEndPoint+".documentimpression"});break;case n.e:var t=e.data,r=t.webgl?"3d":"2d";this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+r})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+r+".endpoint."+this.readerEndPoint})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+r+".browser."+this.browserName})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+r+".device."+this.deviceType}));break;case n.g:var i=e.data;this._monitorHandler.monitorBatched({type:"reader3-time-to-cover",ms_to_cover:i}),this._monitorHandler.monitorBatched({type:"reader3-time-to-cover."+this.readerEndPoint+"."+this.deviceType+"."+this.browserName,ms_to_cover:i})}},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1px" height="1px">\n    <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g></svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(84),i=16,o="\n#extension GL_OES_standard_derivatives : require\nprecision highp float;\nvarying vec3 v[8];\nvoid main(void) {\n    vec3 d = smoothstep(0.0, v[3].x, dFdx(vec3(v[1])) * fwidth(v[2])); // Undeclared identifier 'dFdx'\n    if (gl_FrontFacing) { // This hardware is unable to support gl_FrontFacing\n        gl_FragColor = vec4(1, d.x, 0, 1);\n    } else {\n        gl_FragColor = vec4(0, d.x, 1, 1);\n    }\n}\n",a="\nprecision highp float;\nattribute vec2 vertex;\nvarying vec3 v[8];\nvoid main(void) {\n    v[0] = vec3(0); // Maximum varying vector count exceeded\n    v[1] = vec3(1); // Maximum varying vector count exceeded\n    v[2] = vec3(2); // Maximum varying vector count exceeded\n    v[3] = vec3(3); // Maximum varying vector count exceeded\n    v[4] = vec3(4); // Maximum varying vector count exceeded\n    v[5] = vec3(5); // Maximum varying vector count exceeded\n    v[6] = vec3(6); // Maximum varying vector count exceeded\n    v[7] = vec3(7); // Maximum varying vector count exceeded\n\n    vec2 p = 2.0 * vertex - 1.0;\n    gl_Position = vec4(p.x, -p.y, 0.0, 1.0);\n}\n";function s(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Cannot compile "+r+" shader: "+e.getShaderInfoLog(n));return n}function u(e,t,r,n,o){if(e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)throw new Error("cannot read from framebuffer");var a=new Uint8Array(i*i*4);e.readPixels(0,0,i,i,e.RGBA,e.UNSIGNED_BYTE,a);for(var s=0;s<i*i;s++){var u=a.subarray(4*s,4*(s+1));if(u[0]!==t||u[1]!==r||u[2]!==n||u[3]!==o)return!1}return!0}function c(e){[].push(function(e,t){var r=e.getExtension(t);if(!r)throw new Error("does not support extension ");return r}(e,"OES_standard_derivatives"));var t=e.createProgram(),r=s(e,a,e.VERTEX_SHADER),n=s(e,o,e.FRAGMENT_SHADER);if(e.attachShader(t,r),e.attachShader(t,n),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Cannot link shaderprogram: "+e.getProgramInfoLog(t));var c=e.getAttribLocation(t,"vertex");e.enableVertexAttribArray(c);var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),e.vertexAttribPointer(t.vertex,2,e.FLOAT,!1,0,0);var d=e.createTexture();e.bindTexture(e.TEXTURE_2D,d),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,i,i,0,e.RGBA,e.UNSIGNED_BYTE,null);var p=e.createFramebuffer();if(e.bindFramebuffer(e.FRAMEBUFFER,p),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,d,0),e.viewport(0,0,i,i),e.useProgram(t),e.drawArrays(e.TRIANGLE_STRIP,0,4),!u(e,255,0,0,255))throw new Error("did not render correct color (frontfacing)");if(e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_STRIP,0,4),!u(e,0,0,255,255))throw new Error("did not render correct color (backfacing)");e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteFramebuffer(p),e.deleteTexture(d),e.deleteBuffer(l),e.detachShader(t,r),e.deleteShader(r),e.detachShader(t,n),e.deleteShader(n),e.deleteProgram(t)}var l=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.isWebGLSupported=function(){try{var e=Object(n.a)(document.createElement("canvas"));return!!e&&(c(e),!0)}catch(e){return!1}},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=Object.prototype.toString,i=Function.prototype.toString,o=/^\[object .+?Constructor\]$/,a=RegExp("^"+String(n).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s(e){var t=void 0===e?"undefined":babelHelpers.typeof(e);return"function"===t?a.test(i.call(e)):e&&"object"===t&&o.test(n.call(e))||!1}},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(9),i=r(51),o=r(35),a=r(6),s=r(19),u=r(17),c=r(50),l=r(42),d=r(60),p=r(16);var h=function(){};function f(e,t){var r={ON_DOCUMENT_LOAD_EVENT:h,ON_PAGE_CHANGE_EVENT:h,ON_ENTER_FULLSCREEN:h,ON_EXIT_FULLSCREEN:h,ON_LARGE_VIEW_CLICK:h};return{types:{ENABLE_TRACKING:d.b,EMBED_PREVIEW:d.a},middleware:function(e){return function(i){return function(o){var s=i(o),d=e.getState();try{switch(o.type){case u.g.ENTER_FULLSCREEN:r.ON_ENTER_FULLSCREEN();break;case u.g.EXIT_FULLSCREEN:r.ON_EXIT_FULLSCREEN();break;case l.c:var p=Object(a.j)(d);r.ON_DOCUMENT_LOAD_EVENT(p);break;case c.a:if(o.currentPagesHasChanged){var h=o.currentPageNumbers;r.ON_PAGE_CHANGE_EVENT(h)}break;case n.q.LARGE_VIEW_BUTTON_CLICKED:r.ON_LARGE_VIEW_CLICK()}}catch(e){t(e)}return s}}},api:function(t){return{beginTrackingReads:function(){t.dispatch({type:d.b})},toggleFullscreen:function(){var e=t.getState(),r=Object(a.o)(e);t.dispatch(Object(u.f)(r))},embedPreview:function(r,u){t.dispatch(function(e,t,r){var u=[s.b,s.f,s.a,s.c,s.e,s.d],c=function(e,t){var r=t();r.readMorePlugin&&r.readMorePlugin.load(r.config.origins.main,Object(p.d)(r).publicationId,Object(p.d)(r).username,s.o(r),s.m(r)).then(function(t){t&&e(Object(i.h)())})};return function(i,l){i({type:d.a,embedConfig:t,readMorePlugin:r});var p=Object(a.A)(l());i(Object(n.k)(Object(o.a)(p,t.startPage))),t.noRelatedEnabled?(i(s.r(u.concat([s.g]))),c(i,l)):e.whenLicensesFetched().then(function(e){i(s.r(Array.from(new Set(u.concat(e))))),c(i,l)})}}(e,r,u))},getPageNumbers:function(){return Object(a.j)(t.getState())},getPageCount:function(){return Object(p.d)(t.getState()).pageCount},setPageNumber:function(e){t.dispatch(function(e){return function(t,r){var i=Object(a.A)(r());return t(Object(n.k)(Object(o.a)(i,e)))}}(e))},goToPreviousPage:function(){t.dispatch(Object(n.f)())},goToNextPage:function(){t.dispatch(Object(n.e)())},hideLargeViewButton:function(){t.dispatch(Object(n.g)())},showLargeViewEngagedButton:function(){t.dispatch(Object(n.p)())},showLargeViewDisengagedButton:function(){t.dispatch(Object(n.o)())},largeViewButtonPromoted:function(){t.dispatch(Object(n.i)())},largeViewButtonNotPromoted:function(){t.dispatch(Object(n.h)())},setCallback:function(e,t){r.hasOwnProperty(e)&&(r[e]=t)}}}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(42),i=r(50),o=r(16),a=function(e,t){return function(r){return function(a){return function(s){var u=a(s),c=r.getState();try{switch(s.type){case n.c:e.onDocumentLoaded(Object(o.d)(c).path,s.pageNumber,s.currentPageNumbers);break;case i.a:c.reader.isReady&&s.currentPagesHasChanged&&e.onPageChanged(s.currentPageNumbers)}}catch(e){t(e)}return u}}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(18),i=function(){function e(t){babelHelpers.classCallCheck(this,e),this._baseUrl="",this._previousPageNumbers=[],this._timeoutId=null,this.gaTracker=t}return e.prototype.destroy=function(){window.clearTimeout(this._timeoutId)},e.prototype.onDocumentLoaded=function(e,t,r){var i=this;this._baseUrl=e,this._previousPageNumbers=r,Object(n.a)().rIC(function(){i.gaTracker.sendInitialPageview(i._baseUrl+"/"+t),i.gaTracker.handleDocumentLoadByPublisherAccount(i._baseUrl)})},e.prototype.onPageChanged=function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(function(){var e=t._previousPageNumbers.slice();Object(n.a)().rIC(function(){e.forEach(function(e){t.gaTracker.sendVirtualPageview(t._baseUrl+"/"+e)})})},1e3))},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(50),i=r(42),o=function(e,t){return function(r){return function(o){return function(a){var s=o(a),u=r.getState();try{switch(a.type){case i.c:e.onDocumentLoaded(a.currentPageNumbers);break;case n.a:u.reader.isReady&&a.currentPagesHasChanged&&e.onPageChanged(a.currentPageNumbers)}}catch(e){t(e)}return s}}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(18),i=function(){function e(t){babelHelpers.classCallCheck(this,e),this._previousPageNumbers=[],this._timeoutId=null,this.quantcastTracker=t}return e.prototype.destroy=function(){window.clearTimeout(this._timeoutId)},e.prototype.onDocumentLoaded=function(e){var t=this;this._previousPageNumbers=e,Object(n.a)().rIC(function(){t.quantcastTracker.track()})},e.prototype.onPageChanged=function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(function(){var e=t._previousPageNumbers.slice();Object(n.a)().rIC(function(){e.forEach(function(e){t.quantcastTracker.track()})})},1e3))},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(60),i=r(9),o=r(50),a=r(52),s=r(68),u=r(42),c=r(98),l=r(6),d=r(17),p=r(16),h=r(141),f=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=[],m={};m[i.q.SET_INTERACTED_WITH_READER]=function(t,r,n){e.onActivity(r.reader.interactedWithReader)},m[i.q.READER_ZOOM_LEVEL_CHANCED]=function(t,r,n){e.onZoom(r.reader.zoomLevel)},m[s.d]=function(t,r,n){e.onDownload(Object(p.d)(r))},m[o.a]=function(t,r,n){if(r.reader.isReady){var i=t.reader.currentPageNumbers,o=r.reader.currentPageNumbers;i.join()!==o.join()&&e.onPageChanged(o)}},m[u.c]=function(t,r,n){var i=Object(l.j)(r);e.onDocumentLoaded(Object(p.d)(r),i)},m[c.a]=function(t,r,n){r.reader.isReady&&e.onResize(n.width+"x"+n.height,Object(d.d)(r))},m[a.a]=function(t,r,n){n.linkModel.type===a.b.GOTO_PAGE?e.onClippingActionGotoPage(n.linkModel):e.onClippingActionOpenUrl(n.linkModel)};var g={};if(r){var v=Object.keys(m),_=Array.isArray(v),b=0;for(v=_?v:v[Symbol.iterator]();;){var y;if(_){if(b>=v.length)break;y=v[b++]}else{if((b=v.next()).done)break;y=b.value}var T=y;g[T]=m[T]}}else g[u.c]=function(t,r,n){var i=Object(l.j)(r);f.push(function(){return e.onDocumentLoaded(Object(p.d)(r),i)})},g[n.b]=function(e,t,r){var i=f,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}s()}var u=Object.keys(m),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var p=d;g[p]=m[p]}g[n.b]=function(){}};return Object(h.a)(g,t)}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(42),i=r(51),o=r(141),a=function(e,t){var r={};return r[n.c]=function(t,r,n){e.onDocumentLoadSuccess(n.timeStamp-r.loading.loadStartTime)},r[n.b]=function(t,r,n){e.onDocumentLoadFailure(n.timeStamp-r.loading.loadStartTime,n.error)},r[i.c]=function(t,r,n){e.onReadMoreLoadComplete(!0)},r[i.b]=function(t,r,n){e.onReadMoreLoadComplete(!1)},Object(o.a)(r,t)}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(141),i=r(42),o=r(17),a=r(6),s=function(e,t){var r={};return r[i.c]=function(t,r,n){if(e.isEmbed){var i={};i[a.B(r)]=1,e.monitor("reader3-embed-size",i)}},r[o.g.ENTER_FULLSCREEN]=function(t,r,n){e.monitor("reader3-fullscreen-method."+n.fullscreenMethod,{count:1})},Object(n.a)(r,t)}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(36),i=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},o=function(){function e(t){babelHelpers.classCallCheck(this,e),this._hasTrackedTimeToCover=!1,this._pageLoadStartTime=new Map,this._fontLoadStartTime=new Map,this._imageDecodeStartTime=new Map,this._pageLoadStats={failedCount:0,successCount:0,successAfterRetryCount:0,failedTotalTime:0,successTotalTime:0,layersImageFallbackCount:0,fontloadCount:0,fontloadTotalTime:0},this._pageLoadStatsTimerId=null,this._totalFontRenderCalls=0,this._totalSlowFontRenderCalls=0,this._totalFramesDroppedOnFontRendering=0,this._fontRenderingTimings={uncached:[],preview:[],hires:[]},this._fontLoadTimings=[],this._imageDecodeTimings=[],this.metrics=t}return e.prototype.onLoaderError=function(){this.metrics.monitor("reader3-render-manager-load-layer-error")},e.prototype.onOpsValidationError=function(e){this.metrics.monitor("reader3-render-manager-ops-validation-failed",{count:e})},e.prototype.onDocumentLoadSuccess=function(e){this.metrics.monitor("reader3-documentload-stats",{success_time:e})},e.prototype.onDocumentLoadFailure=function(e,t){this.metrics.monitor("reader3-documentload-stats",{failed_time:e,backend_error:t.name===n.e?1:0,fetch_error:t.name===n.f?1:0})},e.prototype.onDynamicApiLoadComplete=function(e,t){t?this.metrics.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:Math.round(e)}):this.metrics.monitor("reader3-dynamicapi-stats",{success:1,success_time:Math.round(e)})},e.prototype.onReadMoreLoadComplete=function(e){var t=e?{success:1}:{failure:1};this.metrics.monitor("reader3-readmoreload-stats",t)},e.prototype.onPageLoadStart=function(e,t){this.mode=t,this._pageLoadStartTime.set(e,i())},e.prototype.onPageLoadSuccess=function(e){var t=i();if(!this._hasTrackedTimeToCover){try{var r=window.performance.timing.fetchStart-window.performance.timing.navigationStart,n=window.performance.now()-r;this.metrics.onTimeToCover(n)}catch(e){}this._hasTrackedTimeToCover=!0}this._pageLoadStats.successCount+=1,this._pageLoadStats.successTotalTime+=t-(this._pageLoadStartTime.get(e)||0),this._pageLoadStartTime.delete(e),this.batchPageLoadStats()},e.prototype.onPageLoadSuccessAfterRetry=function(e){this._pageLoadStats.successAfterRetryCount+=1,this.onPageLoadSuccess(e)},e.prototype.onPageLoadFailure=function(e){this._pageLoadStats.failedCount+=1,this._pageLoadStats.failedTotalTime+=i()-(this._pageLoadStartTime.get(e)||0),this.batchPageLoadStats()},e.prototype.onLayersImageFallback=function(){this._pageLoadStats.layersImageFallbackCount+=1,this.batchPageLoadStats()},e.prototype.onFontRenderingStart=function(){},e.prototype.onFontRenderingEnd=function(){},e.prototype.uncachedFontRenderingTracker=function(){return this._fontRenderingTracker("uncached")},e.prototype.previewFontRenderingTracker=function(){return this._fontRenderingTracker("preview")},e.prototype.hiresFontRenderingTracker=function(){return this._fontRenderingTracker("hires")},e.prototype._fontRenderingTracker=function(e){var t=this,r=void 0;return{start:function(){r=i()},end:function(){var n=i()-r;t._fontRenderingTimings[e].push(Math.round(n)),t._totalFontRenderCalls+=1;var o=Math.max(Math.floor(n/(1e3/60))-1,0);o&&(t._totalSlowFontRenderCalls+=1,t._totalFramesDroppedOnFontRendering+=o),t.batchPageLoadStats()}}},e.prototype.onFontLoadStart=function(e){this._fontLoadStartTime.set(e,i())},e.prototype.onFontLoadEnd=function(e){var t=i()-(this._fontLoadStartTime.get(e)||0);this._fontLoadTimings.push(Math.round(t)),this._fontLoadStartTime.delete(e)},e.prototype.onImageDecodeStart=function(e){this._imageDecodeStartTime.set(e,i())},e.prototype.onImageDecodeEnd=function(e){var t=i()-(this._imageDecodeStartTime.get(e)||0);this._imageDecodeTimings.push(Math.round(t)),this._imageDecodeStartTime.delete(e)},e.prototype.batchPageLoadStats=function(){var e=this;if(!this._pageLoadStatsTimerId){var t=this._pageLoadStats;this._pageLoadStatsTimerId=setTimeout(function(){if(e._pageLoadStatsTimerId=null,t.successCount>0){var r={success_count:t.successCount,success_total_time:t.successTotalTime,success_avg_time:t.successTotalTime/t.successCount,success_after_retry:t.successAfterRetryCount,mode:e.mode,load_and_decode_count:void 0,load_and_decode_total_time:void 0,load_and_decode_avg_time:void 0};t.fontloadCount>0&&(Object.assign(r,{load_and_decode_count:t.fontloadCount,load_and_decode_total_time:t.fontloadTotalTime,load_and_decode_avg_time:t.fontloadTotalTime/t.fontloadCount}),t.fontloadCount=0,t.fontloadTotalTime=0),e.metrics.monitor("reader3-pageload-stats",r),t.successCount=0,t.successAfterRetryCount=0,t.successTotalTime=0}t.layersImageFallbackCount>0&&(e.metrics.monitor("reader3-pageload-stats",{layers_image_fallback_count:t.layersImageFallbackCount}),t.layersImageFallbackCount=0),t.failedCount>0&&(e.metrics.monitor("reader3-pageload-stats",{failed_count:t.failedCount,failed_total_time:t.failedTotalTime,failed_avg_time:t.failedTotalTime/t.failedCount,mode:e.mode}),t.failedCount=0,t.failedTotalTime=0),e._totalFontRenderCalls>0&&(e.metrics.monitor("reader3-fontrender-stats",{total:e._totalFontRenderCalls,total_slow:e._totalSlowFontRenderCalls,total_frames_dropped:e._totalFramesDroppedOnFontRendering,mode:e.mode,time_uncached:e._fontRenderingTimings.uncached.slice(0),time_preview:e._fontRenderingTimings.preview.slice(0),time_hires:e._fontRenderingTimings.hires.slice(0)}),e._totalFontRenderCalls=0,e._totalSlowFontRenderCalls=0,e._totalFramesDroppedOnFontRendering=0,e._fontRenderingTimings.uncached.length=0,e._fontRenderingTimings.preview.length=0,e._fontRenderingTimings.hires.length=0),(e._fontLoadTimings.length||e._imageDecodeTimings.length)&&(e.metrics.monitor("reader3-fontload-stats",{image_decode:e._fontLoadTimings.slice(0),font_load:e._imageDecodeTimings.slice(0),mode:e.mode}),e._fontLoadTimings.length=0,e._imageDecodeTimings.length=0)},5e3)}},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(71),i=r(100),o=r.n(i),a=function(e){return function(t){return function(r){var i=t(r),a=e.getState();return o.a.setTagsContext({webgl:Object(n.e)(a)}),i}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(42),i=r(9),o=r(60),a=r(6),s=1e4,u=void 0,c=!0;function l(e){u=window.setInterval(function(){a.c(e.getState())?c=!0:a.d(e.getState())&&(c=!1),e.dispatch(c?Object(i.e)():Object(i.f)())},s)}function d(){u&&(window.clearInterval(u),u=void 0)}var p=function(e){return function(t){return function(r){var a=t(r);switch(r.type){case n.c:e.getState().reader.autoFlipInitially&&l(e);break;case i.q.SET_INTERACTED_WITH_READER:e.getState().reader.interactedWithReader&&d();break;case o.a:d(),e.getState().features.autoFlip&&l(e)}return a}}}},,function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(16),i={pages:[]};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case n.a:return{pages:t.doc.pages};default:return e}}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(60),i=r(22);function o(e,t){switch(t.type){case n.a:var r=t.embedConfig,o=Object.assign({},e,{autoFlip:r.autoFlip,backgroundImage:function(e){if(e.backgroundImage){var t=null;if("topleft"===e.backgroundImagePosition?t=i.BACKGROUND_IMAGE_STYLE.TOP_LEFT:"stretch"===e.backgroundImagePosition&&(t=i.BACKGROUND_IMAGE_STYLE.STRETCH),t)return{url:e.backgroundImage,style:t,hideWhenNotInFullscreen:!0}}return null}(r),logo:function(e){return e.logo?{url:e.logo,hideWhenNotInFullscreen:!0}:null}(r),backgroundColor:r.backgroundColor,fullscreenBackgroundColor:r.fullscreenBackgroundColor,readModeRules:{defaultMode:"singlePage"===r.viewMode?i.READ_MODE.SINGLE_PAGE_SPREAD:i.READ_MODE.DOUBLE_PAGE_SPREAD,responsiveModeWhen:i.READ_MODE.RESPONSIVE.HANDHELD_IN_PORTRAIT_FULLSCREEN}});return o.controls=o.controls.map(function(e){return e.type===i.SHARE_DIALOG_TYPE?Object.assign({},e,{customizedToNotShow:!r.shareButtonEnabled}):e}),o;default:return e}}function a(e){return function(){return o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(9),i=r(50),o=r(60),a=r(42),s=r(98),u=r(114),c={arrivedAtSpreadTimeStamp:0,autoFlipInitially:!1,debugMode:!1,hoveringOverControls:!1,initialPageNumber:0,interactedWithReader:!1,interactingWithControls:!1,interactingWithCanvas:!1,isIdle:!0,isReady:!1,lastSpreadIndexArrivedAt:-1,targetSpreadIndex:0,visiblePageNumbers:[],currentPageNumbers:[],currentPageNumber:0,currentSpreadIndex:-1,positionInPercent:0,zoomLevel:1,largeViewState:u.c,largeViewPromoted:!1};function l(e,t){return Object.assign({},e,{hoveringOverControls:t})}function d(e,t){return Object.assign({},e,{largeViewState:t})}function p(e,t){return Object.assign({},e,{largeViewPromoted:t})}function h(e,t){switch(t.type){case n.q.SET_TARGET_SPREAD_INDEX:return function(e,t){return Object.assign({},e,{targetSpreadIndex:t.index})}(e,t);case n.q.SET_INTERACTING_WITH_CONTROLS:return function(e,t){return Object.assign({},e,{interactingWithControls:t.val})}(e,t);case n.q.SET_INTERACTED_WITH_READER:return function(e,t){return Object.assign({},e,{interactedWithReader:!0})}(e);case n.q.SET_HOVERING_OVER_CONTROLS:return l(e,t.val);case s.a:return l(e,!1);case i.a:return function(e,t){return Object.assign({},e,{visiblePageNumbers:t.visiblePageNumbers,currentPageNumbers:t.currentPageNumbers,currentSpreadIndex:t.currentSpreadIndex,currentPageNumber:t.currentPageNumber,positionInPercent:t.positionInPercent,targetSpreadIndex:t.currentSpreadIndex===e.targetSpreadIndex?-1:e.targetSpreadIndex})}(e,t);case n.q.READER_ZOOM_LEVEL_CHANCED:return function(e,t){return Object.assign({},e,{zoomLevel:t.zoomLevel})}(e,t);case n.q.LARGE_VIEW_HIDE:return d(e,u.c);case n.q.LARGE_VIEW_SHOW_ENGAGED:return d(e,u.b);case n.q.LARGE_VIEW_SHOW_DISENGAGED:return d(e,u.a);case n.q.LARGE_VIEW_BUTTON_PROMOTED:return p(e,!0);case n.q.LARGE_VIEW_BUTTON_NOT_PROMOTED:return p(e,!1);case o.a:return function(e,t){return Object.assign({},e,{interactedWithReader:!1})}(e);case a.c:return function(e,t){var r=t.pageNumber,n=t.targetSpreadIndex,i=t.currentPageNumbers;return Object.assign({},e,{targetSpreadIndex:n,currentPageNumbers:i,currentPageNumber:r,isReady:!0})}(e,t);case"SET_IS_IDLE":return function(e,t){return Object.assign({},e,{isIdle:t.isIdle})}(e,t);default:return e}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=babelHelpers.extends({},c,{autoFlipInitially:e.autoFlip,initialPageNumber:t});return function(){return h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,arguments[1])}}},function(e,t,r){"use strict";r.d(t,"a",function(){return C});var n=r(134),i=r(367),o=r(366),a=r(184),s=r(17),u=r(51),c=r(71),l=r(98),d=r(188),p=r(111),h=r(130),f=r(19),m=r(39),g=r(187),v=r(132),_=r(142),b=r(68),y=r(16),T=r(52),E=r(365),w=r(60);function C(e,t,r,C,x,S,O,R,I){var A=i.a(S,x),P=n.b(),k=o.a(S),N=Object(a.b)(),L=Object(s.c)(),D=Object(u.f)(),M=Object(c.a)(I),H=Object(l.b)(),F=Object(h.a)(),U=Object(m.c)(),B=Object(f.p)(S.disableLicenseCheck),j=Object(d.a)(e,t,r,C),z=Object(_.b)();return function(e,t){return{metadata:Object(y.c)(e.metadata,t),pages:Object(E.a)(e.pages,t),links:Object(T.f)(e.links,t),canvasContext:M(e.canvasContext,t),download:Object(b.f)(e.download,t),fullscreen:L(e.fullscreen,t),headerControls:N(e.headerControls,t),loading:P(e.loading,t),reader:A(e.reader,t),readmore:D(e.readmore,t),paywall:Object(p.d)(e.paywall,t),size:H(e.size,t),videoOverlay:Object(v.b)(e.videoOverlay,t),inlineVideo:z(e.inlineVideo,t),visibility:Object(g.b)(e.visibility,t),features:k(e.features,t),canvasApi:F(e.canvasApi,t),find:U(e.find,t),licenses:B(e.licenses,t),config:j(e.config,t),featureTracker:O,readMorePlugin:t.type===w.a?t.readMorePlugin:e.readMorePlugin||R}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n=r(0),i=r(34),o=r(9),a=r(6),s=r(149),u=r(12),c=r(46),l=r(26),d=r(39),p=r(51),h=r(17),f=r(8),m=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),n.onKeyDown=function(e){var t=n.props,r=t.dispatch,i=t.toggleFullscreen,a=t.canFind,s=t.lastSpreadIndex,l=t.moreContentContainerIsVisible,h=t.isFindOverlayVisible,f=t.fullscreenEnabled,m=n.isOSX;if(e.keyCode===c.c&&(l?r(Object(p.e)()):h?r(d.a.closeFindDialog()):f&&i()),!(n.isRepeating()||document.activeElement&&"INPUT"===document.activeElement.tagName)){switch(e.keyCode){case c.d:a&&m&&e.metaKey||!m&&e.ctrlKey?(e.preventDefault(),n.openFindDialog()):i();break;case c.e:a&&!m&&(e.preventDefault(),n.openFindDialog());break;case c.f:a&&(e.preventDefault(),n.openFindDialog());break;case c.h:case c.a:if(e.metaKey)break;n.startRepeating(function(t){n.props.canGoBackward&&n.goToPreviousPage(),t||n.props.dispatch(u.g(e.keyCode))});break;case c.j:case c.i:case c.k:if(e.metaKey)break;n.startRepeating(function(t){n.props.canGoForward&&n.goToNextPage(),t||n.props.dispatch(u.g(e.keyCode))});break;case c.g:r(o.k(0));break;case c.b:r(o.k(s))}r(u.g(e.keyCode))}},n.onKeyUp=function(e){switch(e.keyCode){case c.j:case c.h:case c.a:case c.i:case c.k:n.stopRepeating()}},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.isOSX="MacIntel"===window.navigator.platform,window.addEventListener("keyup",this.onKeyUp,!1),window.addEventListener("keydown",this.onKeyDown,!1)},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.canGoBackward,r=e.canGoForward,n=e.canFind,i=e.featureTracker;t&&i.opportunity(f.a.KEYBOARD_BACKWARD),r&&i.opportunity(f.a.KEYBOARD_FORWARD),n&&i.opportunity(f.a.KEYBOARD_OPEN_FIND)},t.prototype.componentWillUnmount=function(){this.stopRepeating(),window.removeEventListener("keyup",this.onKeyUp,!1),window.removeEventListener("keydown",this.onKeyDown,!1)},t.prototype.startRepeating=function(e){var t=this,r=!0;!function n(){e(r);var i=r?l.a:l.e;r=!1,t._repeatTimeoutId=setTimeout(n,i)}()},t.prototype.isRepeating=function(){return!!this._repeatTimeoutId},t.prototype.stopRepeating=function(){this._repeatTimeoutId&&clearTimeout(this._repeatTimeoutId),this._repeatTimeoutId=null},t.prototype.goToPreviousPage=function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(o.f()),r.usage(f.a.KEYBOARD_BACKWARD)},t.prototype.goToNextPage=function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(o.e()),r.usage(f.a.KEYBOARD_FORWARD)},t.prototype.openFindDialog=function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(d.a.openFindDialog()),r.usage(f.a.KEYBOARD_OPEN_FIND)},t.prototype.render=function(){return n.Children.only(this.props.children)},t}(n.Component);var g=Object(i.b)(function(e){return{canFind:e.features.enableFind&&!a.E(e)&&d.d.selectIsAvailable(e),canGoBackward:s.a(e),canGoForward:s.b(e),lastSpreadIndex:a.s(e),moreContentContainerIsVisible:a.e(e),isFindOverlayVisible:d.d.isVisible(e),fullscreenEnabled:Object(h.d)(e)}})(m)},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(7),i=r(19),o=Object(n.createSelector)(function(e){return e.metadata.isAdsafe},i.l,function(e,t){return e&&!t})},,function(e,t,r){"use strict";var n=r(0),i=r.n(n),o=r(178),a=r(97),s=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.adLoaded=!1,i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this._loadAd()},t.prototype.componentWillUpdate=function(e){Object(a.a)(this.props.adSize)||this.props.adSize.join(",")!==e.adSize.join(",")&&this._clearAd()},t.prototype.componentDidUpdate=function(){this._loadAd()},t.prototype.componentWillUnmount=function(){this._clearAd()},t.prototype._adActivityTrackingCallback=function(e){var t=this;return function(){t.props.metrics.monitor("reader3-ad.fullscreen."+e)}},t.prototype._adActivityTracking=function(e){this._adActivityTrackingCallback(e)()},t.prototype._clearAd=function(){this.adLoaded=!1,this._clearRefreshTimeout(),this.adElement&&(this.adElement.parentNode&&this.adElement.parentNode.removeChild(this.adElement),delete this.adElement)},t.prototype._loadAd=function(){if(!this.adLoaded&&!Object(a.a)(this.props.adSize)){var e=[["pageType","embed"],["publicationId",this.props.publicationId],["ownerUsername",this.props.publisherUsername],["isDevelopmentTest",(!1).toString()]];this.adElement=document.createElement("div"),this.adContainer&&(this.adContainer.appendChild(this.adElement),this.ad=o.create({rootElm:this.adElement,dfpTargeting:e,adProviderConfig:{network:"/30443627/Doc_inBarReader",sizes:[this.props.adSize]},isProductionEnv:!0,callbacks:{onAdFilled:this._adActivityTrackingCallback("filled"),onAdFailed:this._adActivityTrackingCallback("failed"),onAdUnfilled:this._adActivityTrackingCallback("unfilled"),onAdViewable:this._onAdViewable.bind(this)},trackingKey:"ads-widget.Doc_inBarReader"}),this.ad.show(),this.adLoaded=!0,this._adActivityTracking("load"),this._setRefreshTimeout())}},t.prototype._canRefreshAd=function(){var e=!(void 0!==document.hidden)||!1===document.hidden,t=!!this.props.adRefreshTimeout;return e&&!0===t},t.prototype._refreshAd=function(){this._adActivityTracking("refresh"),this._clearAd(),this._loadAd()},t.prototype._clearRefreshTimeout=function(){this.adRefreshTimeoutId&&(clearTimeout(this.adRefreshTimeoutId),this.adRefreshTimeoutId=void 0)},t.prototype._setRefreshTimeout=function(){this._canRefreshAd()&&(this._clearRefreshTimeout(),this.adRefreshTimeoutId=setTimeout(this._refreshAd.bind(this),1e3*this.props.adRefreshTimeout))},t.prototype._onAdViewable=function(){this._adActivityTracking("viewable"),this._setRefreshTimeout()},t.prototype._getContainerStyle=function(){var e=this.props.adSize,t=e[0],r=e[1];if(this.props.horizontalLayout){var n=this.props.smallLayout?21:0;return{minHeight:r+n+"px",maxHeight:r+n+"px"}}return{minWidth:t+"px",maxWidth:t+"px"}},t.prototype._getContainerClass=function(){var e=["fullscreen-ad-placement"];return this.props.smallLayout&&e.push("fullscreen-ad-placement--small"),this.props.horizontalLayout?e.push("fullscreen-ad-placement--horizontal"):e.push("fullscreen-ad-placement--vertical"),e.join(" ")},t.prototype._getAdPlacementStyle=function(){return this.props.horizontalLayout?{width:this.props.adSize[0]+"px"}:{}},t.prototype._getAdStyle=function(){return{width:this.props.adSize[0]+"px",height:this.props.adSize[1]+"px"}},t.prototype.render=function(){var e=this;return i.a.createElement("div",{className:this._getContainerClass(),style:this._getContainerStyle()},i.a.createElement("div",{className:"fullscreen-ad-placement__cnt",style:this._getAdPlacementStyle()},i.a.createElement("div",{className:"fullscreen-ad-placement__text"},"Ad"),i.a.createElement("div",{className:"fullscreen-ad-placement__ad",style:this._getAdStyle(),ref:function(t){e.adContainer=t}})))},t}(i.a.Component);t.a=s},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){function e(t,r){var n=this;babelHelpers.classCallCheck(this,e),this._eventHandler=function(e){("wheel"!==e.type||e.ctrlKey)&&n.callback()},this.target=t,this.callback=r,this.target.addEventListener("mousedown",this._eventHandler,!0),this.target.addEventListener("touchstart",this._eventHandler,!0),this.target.addEventListener("pointerdown",this._eventHandler,!0),this.target.addEventListener("MSPointerDown",this._eventHandler,!0),this.target.addEventListener("gesturestart",this._eventHandler,!0),this.target.addEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.addEventListener("keydown",this._eventHandler,!0)}return e.prototype.destroy=function(){this.target.removeEventListener("mousedown",this._eventHandler,!0),this.target.removeEventListener("touchstart",this._eventHandler,!0),this.target.removeEventListener("pointerdown",this._eventHandler,!0),this.target.removeEventListener("MSPointerDown",this._eventHandler,!0),this.target.removeEventListener("gesturestart",this._eventHandler,!0),this.target.removeEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.removeEventListener("keydown",this._eventHandler,!0)},e}()},,,function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(0),i=r.n(n),o=r(194),a=r(24),s=r.n(a);function u(e){var t=e.isNotAvailable,r=e.isOverlayVisible,n=e.isPreview,a=e.isPurchased,u=e.hostName,c=e.onKeepReading,l=e.paywallDataLoaded,d=e.priceAmount,p=e.priceCurrency,h=e.publicationCoverUrl,f=e.publicationName,m=e.publicationTitle,g=e.publisherDisplayName,v=e.publisherName,_=e.publisherProfileImageUrl,b=e.publisherProfileUrl,y=e.readPurchasedPath,T=e.showKeepReading;return a?i.a.createElement("div",{className:"paywall-read-purchased"},i.a.createElement(o.c,{hostName:u,publicationCoverUrl:h,publicationTitle:m,readPurchasedPath:y})):n?i.a.createElement("div",null,!r&&l&&i.a.createElement("div",{className:"paywall-btn--header"},i.a.createElement(o.a,{hostName:u,isNotAvailable:t,priceAmount:d,priceCurrency:p,publicationName:f,publisherName:v})),i.a.createElement("div",{className:s()("paywall-overlay",{"is-hidden":!r})},i.a.createElement(o.b,{hostName:u,isNotAvailable:t,onKeepReading:c,priceAmount:d,priceCurrency:p,publicationCoverUrl:h,publicationName:f,publicationTitle:m,publisherDisplayName:g,publisherName:v,publisherProfileImageUrl:_,publisherProfileUrl:b,showKeepReading:T}))):null}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(57),i=r(2),o=i.paywallExports.selectMetadata,a=i.paywallExports.selectCanUseCredentials,s=i.paywallExports.selectHostOrigins;function u(){return function(e,t){var r=t(),i=s(r).api,u=o(r),c=u.username,l=u.documentName,d=a(r);return r.paywall.status!==n.d.NOTLOADED?Promise.resolve():(e({type:n.b}),fetch(i+"/call/paywall/reader/v2/overlay/"+c+"/"+l,{credentials:d?"include":"omit",mode:"cors"}).then(function(e){if(!e.ok)throw new Error("Error load paywallOverlay Api (response.status: "+e.status+")");return e.json()}).then(function(t){var r=t.currentUserPurchased,i=t.isNotAvailable,o=t.priceAmount,a=t.priceCurrency,s=t.readPurchasedPath;return e({type:n.a,currentUserPurchased:r,isNotAvailable:i,priceAmount:o,priceCurrency:a,readPurchasedPath:s})}).catch(function(t){return e({type:n.c,error:t})}))}}},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(0),i=r.n(n),o=r(24),a=r.n(o),s=r(51),u=r(12),c=r(131),l=r(65),d=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.onCloseButtonClick=function(){n.props.dispatch(Object(s.e)()),n.props.dispatch(Object(u.a)())},n.onBackgroundClick=function(){n.props.dispatch(Object(s.e)())},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement("div",{className:a()("more-content-container",{"more-content-container--hidden":!this.props.visible,"more-content-container--overlay":this.props.showAsOverlay})},this.props.children,i.a.createElement("button",{type:"button",className:a()("more-content-container__close-button",{"more-content-container__close-button--left":l.a.isMobile()}),onClick:this.onCloseButtonClick,dangerouslySetInnerHTML:{__html:c.a}}),!this.props.showAsOverlay&&i.a.createElement("div",{className:"more-content-container__clickable-background",onClick:this.onBackgroundClick}))},t}(n.Component);d.displayName="MoreContentContainer"},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(0),i=r.n(n),o=r(9),a=r(12),s=r(55),u=r(82),c=r(8),l=r(186),d=r(185),p=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),n.onClickHandler=function(){n.props.featureTracker.usage(c.a.BUTTON_CTA_OVERLAY),n.props.dispatch(a.a()),n.props.toggleFullscreen()},n.trackOpportunities=function(){n.props.visible&&n.props.featureTracker.opportunity(c.a.BUTTON_CTA_OVERLAY)},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.inputHandler=new u.a(this.refs.button,{onMouseEnter:function(t){e.props.visible&&e.props.dispatch(o.l(!0))},onMouseLeave:function(t){e.props.dispatch(o.l(!1))}}),this.trackOpportunities()},t.prototype.componentDidUpdate=function(){this.trackOpportunities()},t.prototype.render=function(){var e=this.props.fullscreenEnabled?l.a:d.a,t=this.props.fullscreenEnabled?"Exit":"Fullscreen",r="cta-overlay "+(this.props.visible?"":"cta-overlay--hidden");return i.a.createElement("div",{ref:"button",className:r,"data-tooltip":t,onClick:this.onClickHandler},i.a.createElement(s.a,{id:"ird3-button-fullscreen",className:"svg-btn cta-overlay__button",content:e}))},t}(n.Component);p.displayName="CTAOverlay"},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),i=r.n(n),o=r(55),a=r(240),s=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement("div",null,i.a.createElement(o.a,{ref:"buttonPrevious",className:"navigation-arrow navigation-arrow--left",onClick:this.props.onClickLeftArrow,isHidden:!this.props.leftArrowVisible,id:"ird3-button-previous",content:a.a}),i.a.createElement(o.a,{ref:"buttonNext",className:"navigation-arrow navigation-arrow--right",onClick:this.props.onClickRightArrow,isHidden:!this.props.rightArrowVisible,id:"ird3-button-next",content:a.a}))},t}(n.Component);s.displayName="NavigationArrows"},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){function e(t,r){babelHelpers.classCallCheck(this,e),this.gl=t,this.imagePrimitive=r}return e.prototype.destroy=function(){},e.prototype.draw=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=this.gl;i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),i.blendEquation(i.FUNC_ADD),this.imagePrimitive.draw(e,t,r,n)},e}()},function(e,t){e.exports="attribute vec2 vertex;\nattribute vec4 barycentric;\nuniform vec2 viewport;\nuniform vec4 bbox;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vBC = barycentric;\n  highp vec4 tmpvar_4;\n  tmpvar_4.zw = vec2(0.0, 1.0);\n  tmpvar_4.xy = tmpvar_3;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\nprecision highp float;\nuniform float opacity;\nuniform float strokeWidth;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_1.w = opacity;\n  vec4 tmpvar_2;\n  tmpvar_2.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_2.w = (opacity / 2.0);\n  vec4 tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4 = clamp ((vBC / (\n    (abs(dFdx(vBC)) + abs(dFdy(vBC)))\n   * strokeWidth)), 0.0, 1.0);\n  tmpvar_3 = (tmpvar_4 * (tmpvar_4 * (3.0 - \n    (2.0 * tmpvar_4)\n  )));\n  gl_FragColor = mix (tmpvar_1, tmpvar_2, min (min (tmpvar_3.x, tmpvar_3.y), min (tmpvar_3.z, tmpvar_3.w)));\n}\n\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(67),i=r(383),o=r.n(i),a=r(382),s=r.n(a),u=r(23),c=r(53),l=r(181),d=r(180);var p=function(){function e(t,r){babelHelpers.classCallCheck(this,e),this.gl=t,this.shader=Object(n.a)(t,s.a,o.a),this.imagePrimitive=r;var i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.verticeBuffer=i;var a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1]),t.STATIC_DRAW),this.barycentricBuffer=a,this.initializeTexture()}return e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.barycentricBuffer),e.deleteTexture(this.texture),this.shader.destroy()},e.prototype._iconRadius=function(){return 20*Object(u.a)()},e.prototype.initializeTexture=function(){var e,t=this.gl,r=2*this._iconRadius(),n=(e=2*r,1<<1+Math.floor(Math.log2(e))),i=document.createElement("canvas");i.width=n,i.height=n;var o=i.getContext("2d");o.fillStyle="rgba(0, 1, 0, 0.0)",o.fillRect(0,0,i.width,i.height),o.fillStyle="rgba(0, 0, 0, 0.7)",d.a.draw(o,r/2,r/2,this._iconRadius()),l.a.draw(o,r+r/2,r/2,this._iconRadius()),this.texture&&t.deleteTexture(this.texture);var a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.texture=a,this.textureSize=n},e.prototype.draw=function(e,t,r){var n=this.gl,i=this.shader;if(n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),n.blendEquation(n.FUNC_ADD),i.bind(),n.uniform2f(i.viewport,n.drawingBufferWidth,n.drawingBufferHeight),n.uniform4f(i.bbox,r.x,r.y,r.width,r.height),n.uniform1f(i.opacity,t),n.uniform1f(i.strokeWidth,1),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.vertexAttribPointer(i.vertex,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.barycentricBuffer),n.vertexAttribPointer(i.barycentric,4,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLE_STRIP,0,4),(Object(c.d)(e)||Object(c.c)(e))&&r.width>50&&r.height>50){var o={x:r.x+r.width/2-this._iconRadius(),y:r.y+r.height/2-this._iconRadius(),width:2*this._iconRadius(),height:2*this._iconRadius()},a={x:0,y:0,width:2*this._iconRadius()/this.textureSize,height:2*this._iconRadius()/this.textureSize};Object(c.d)(e)&&this.imagePrimitive.draw(this.texture,o,a,t),Object(c.c)(e)&&(a.x+=a.width,this.imagePrimitive.draw(this.texture,o,a,t))}},e}()},function(e,t){e.exports="precision highp float;\nuniform bool backFacing;\nvoid main ()\n{\n  if (backFacing) {\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  } else {\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\n  };\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform mat3 u_matrix;\nattribute vec3 vertex;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.8);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.2));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nattribute vec3 normal;\nattribute vec2 textureCoord;\nattribute float perspectiveCorrection;\nuniform mat3 u_matrix;\nuniform mat3 u_texMatrix;\nvarying vec3 vnormal;\nvarying vec3 lightDirection;\nvarying vec3 cameraDirection;\nvarying vec2 texcoord;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  vnormal = normal;\n  lightDirection = normalize((vec3(10.0, 5.0, 4.0) - tmpvar_2));\n  cameraDirection = normalize((vec3(0.0, 0.0, 1.0) - tmpvar_2));\n  vec3 tmpvar_3;\n  tmpvar_3.z = 1.0;\n  tmpvar_3.xy = textureCoord;\n  texcoord = (u_texMatrix * tmpvar_3).xy;\n  highp vec4 tmpvar_4;\n  tmpvar_4.xy = tmpvar_2.xy;\n  tmpvar_4.z = -(vertex.z);\n  tmpvar_4.w = perspectiveCorrection;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t){e.exports="precision highp float;\nvarying vec3 vnormal;\nvarying vec3 cameraDirection;\nvarying vec3 lightDirection;\nvarying vec2 texcoord;\nuniform float lightRatio;\nuniform sampler2D texture;\nuniform bool showSpinner;\nuniform float tick;\nuniform float spinnerSize;\nuniform vec4 bbox;\nuniform vec2 viewport;\nuniform vec4 clipRect;\nvoid main ()\n{\n  lowp vec3 color_1;\n  if (showSpinner) {\n    float tmpvar_2;\n    float tmpvar_3;\n    tmpvar_3 = (bbox.w * viewport.y);\n    tmpvar_2 = (1.0/((tmpvar_3 / 2.0)));\n    vec2 tmpvar_4;\n    tmpvar_4.x = ((texcoord.x - 0.5) * ((bbox.z * viewport.x) / tmpvar_3));\n    tmpvar_4.y = (texcoord.y - 0.5);\n    float tmpvar_5;\n    tmpvar_5 = (((spinnerSize * tmpvar_2) * 2.5) / 15.7);\n    float tmpvar_6;\n    tmpvar_6 = (((spinnerSize * tmpvar_2) * 6.75) / 15.7);\n    float tmpvar_7;\n    tmpvar_7 = sqrt(dot (tmpvar_4, tmpvar_4));\n    float tmpvar_8;\n    tmpvar_8 = (((spinnerSize * tmpvar_2) * 0.6) / 15.7);\n    float tmpvar_9;\n    tmpvar_9 = ((spinnerSize * tmpvar_2) / 15.7);\n    vec2 tmpvar_10;\n    float tmpvar_11;\n    tmpvar_11 = (tick * 0.00435);\n    tmpvar_10.x = sin(tmpvar_11);\n    tmpvar_10.y = cos(tmpvar_11);\n    vec2 tmpvar_12;\n    tmpvar_12 = normalize(tmpvar_10);\n    float tmpvar_13;\n    float x_14;\n    x_14 = (dot (tmpvar_4, tmpvar_12) / sqrt(dot (tmpvar_4, tmpvar_4)));\n    tmpvar_13 = (1.570796 - (sign(x_14) * (1.570796 - \n      (sqrt((1.0 - abs(x_14))) * (1.570796 + (abs(x_14) * (-0.2146018 + \n        (abs(x_14) * (0.08656672 + (abs(x_14) * -0.03102955)))\n      ))))\n    )));\n    float edge0_15;\n    edge0_15 = ((tmpvar_5 - tmpvar_8) - tmpvar_2);\n    float tmpvar_16;\n    tmpvar_16 = clamp (((tmpvar_7 - edge0_15) / (\n      (tmpvar_5 - tmpvar_8)\n     - edge0_15)), 0.0, 1.0);\n    float edge0_17;\n    edge0_17 = (tmpvar_5 + tmpvar_8);\n    float tmpvar_18;\n    tmpvar_18 = clamp (((tmpvar_7 - edge0_17) / (\n      ((tmpvar_5 + tmpvar_8) + tmpvar_2)\n     - edge0_17)), 0.0, 1.0);\n    float tmpvar_19;\n    tmpvar_19 = ((tmpvar_16 * (tmpvar_16 * \n      (3.0 - (2.0 * tmpvar_16))\n    )) * (1.0 - (tmpvar_18 * \n      (tmpvar_18 * (3.0 - (2.0 * tmpvar_18)))\n    )));\n    float edge0_20;\n    edge0_20 = ((tmpvar_6 - tmpvar_9) - tmpvar_2);\n    float tmpvar_21;\n    tmpvar_21 = clamp (((tmpvar_7 - edge0_20) / (\n      (tmpvar_6 - tmpvar_9)\n     - edge0_20)), 0.0, 1.0);\n    float edge0_22;\n    edge0_22 = (tmpvar_6 + tmpvar_9);\n    float tmpvar_23;\n    tmpvar_23 = clamp (((tmpvar_7 - edge0_22) / (\n      ((tmpvar_6 + tmpvar_9) + tmpvar_2)\n     - edge0_22)), 0.0, 1.0);\n    float tmpvar_24;\n    tmpvar_24 = ((tmpvar_21 * (tmpvar_21 * \n      (3.0 - (2.0 * tmpvar_21))\n    )) * (1.0 - (tmpvar_23 * \n      (tmpvar_23 * (3.0 - (2.0 * tmpvar_23)))\n    )));\n    vec2 tmpvar_25;\n    tmpvar_25.x = tmpvar_12.y;\n    tmpvar_25.y = -(tmpvar_12.x);\n    vec2 x_26;\n    x_26 = (tmpvar_4 - (tmpvar_25 * tmpvar_6));\n    float tmpvar_27;\n    tmpvar_27 = clamp (((\n      sqrt(dot (x_26, x_26))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_28;\n    tmpvar_28 = (1.0 - (tmpvar_27 * (tmpvar_27 * \n      (3.0 - (2.0 * tmpvar_27))\n    )));\n    vec2 tmpvar_29;\n    tmpvar_29.x = -(tmpvar_12.y);\n    tmpvar_29.y = tmpvar_12.x;\n    vec2 x_30;\n    x_30 = (tmpvar_4 - (tmpvar_29 * tmpvar_6));\n    float tmpvar_31;\n    tmpvar_31 = clamp (((\n      sqrt(dot (x_30, x_30))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_32;\n    tmpvar_32 = (1.0 - (tmpvar_31 * (tmpvar_31 * \n      (3.0 - (2.0 * tmpvar_31))\n    )));\n    float tmpvar_33;\n    tmpvar_33 = (max (tmpvar_19, tmpvar_24) * 0.5);\n    float tmpvar_34;\n    if ((tmpvar_13 < 1.570796)) {\n      tmpvar_34 = tmpvar_24;\n    } else {\n      tmpvar_34 = 0.0;\n    };\n    color_1 = mix (vec3(0.9453125, 0.9453125, 0.9453125), vec3(0.6015625, 0.65625, 0.6601562), max (max (tmpvar_33, tmpvar_34), max (\n      max (tmpvar_28, tmpvar_32)\n    , tmpvar_19)));\n  } else {\n    color_1 = texture2D (texture, texcoord).xyz;\n  };\n  lowp vec3 tmpvar_35;\n  vec3 I_36;\n  I_36 = -(lightDirection);\n  tmpvar_35 = (((\n    ((vec3(0.9, 0.9, 0.9) * color_1) + ((vec3(0.2, 0.2, 0.2) * clamp (\n      dot (vnormal, lightDirection)\n    , 0.0, 1.0)) * color_1))\n   + \n    (vec3(0.3, 0.3, 0.3) * pow (max (dot (\n      (I_36 - (2.0 * (dot (vnormal, I_36) * vnormal)))\n    , cameraDirection), 0.0), 5.0))\n  ) * lightRatio) + ((1.0 - lightRatio) * color_1));\n  color_1 = tmpvar_35;\n  if ((((\n    (texcoord.x >= clipRect.x)\n   && \n    (texcoord.x <= clipRect.y)\n  ) && (texcoord.y >= clipRect.z)) && (texcoord.y <= clipRect.w))) {\n    lowp vec4 tmpvar_37;\n    tmpvar_37.w = 1.0;\n    tmpvar_37.xyz = tmpvar_35;\n    gl_FragColor = tmpvar_37;\n  } else {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n  };\n}\n\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n=r(67),i=r(23),o=r(10),a=r(66),s=r(388),u=r.n(s),c=r(387),l=r.n(c),d=r(386),p=r.n(d),h=r(385),f=r.n(h),m=!1,g=function(){function e(t){babelHelpers.classCallCheck(this,e),this.matrix=o.b.create(),this.projection=o.b.create(),this.texMatrix=o.b.create(),this.clipRect=new Float32Array([0,1,0,1]),this.gl=t,this.shader=Object(n.a)(t,l.a,u.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW),this.normalsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalsBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW),this.textureCoordsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.textureCoordsBuffer),t.bufferData(t.ARRAY_BUFFER,5e3,t.DYNAMIC_DRAW),this.perspectiveCorrectionsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),t.bufferData(t.ARRAY_BUFFER,2500,t.DYNAMIC_DRAW);this.indiceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,6912,t.DYNAMIC_DRAW),this.whitePaperTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.whitePaperTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t.bindTexture(t.TEXTURE_2D,null),this.blackPaperTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.blackPaperTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),t.bindTexture(t.TEXTURE_2D,null),m&&(this.normalShader=Object(n.a)(t,p.a,f.a),this.normalLinesBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalLinesBuffer),t.bufferData(t.ARRAY_BUFFER,15e3,t.DYNAMIC_DRAW))}return e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.normalsBuffer),e.deleteBuffer(this.textureCoordsBuffer),e.deleteBuffer(this.perspectiveCorrectionsBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.whitePaperTexture),e.deleteTexture(this.blackPaperTexture),this.shader.destroy(),m&&(e.deleteBuffer(this.normalLinesBuffer),this.normalShader.destroy())},e.prototype._calculateMatrix=function(e,t,r){var n=t?t.src_px.x:0,i=t?t.src_px.y:0,a=t?t.src_px.width:r.width,s=t?t.src_px.height:r.height,u=t?t.surface.width:r.width,c=t?t.surface.height:r.height,l=t?t.surface.imgWidth:r.width,d=t?t.surface.imgHeight:r.height,p=t?t.dest_px.x:0,h=t?t.dest_px.y:0,f=t?t.dest_px.width:r.width,m=t?t.dest_px.height:r.height,g=e.drawingBufferHeight-r.y-r.height;i=d-i-s,h=r.height-h-m,o.b.set(this.matrix,r.width,0,0,0,r.height,0,r.x,g,1),o.b.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),o.b.multiply(this.matrix,this.projection,this.matrix);var v=Math.max(0,(1-a/f)/2),_=Math.max(0,(1-s/m)/2),b=(a-2*v)/u/(f/r.width),y=(s-2*_)/c/(m/r.height),T=-p/r.width*b+(n+v)/u,E=-h/r.height*y+(i+_)/c;o.b.set(this.texMatrix,b,0,0,0,y,0,T,E,1),this.clipRect.set([(n+v)/l,(n+a-v)/l,(i+_)/d,(i+s-_)/d])},e.prototype.fill=function(e,t,r,n,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.draw(e,{surface:{texture:this.blackPaperTexture,width:1,height:1,imgWidth:1,imgHeight:1},type:a.e,src_px:{x:0,y:0,width:1,height:1},dest_px:t.dest_px},r,n,i,o,s)},e.prototype.draw=function(e,t,r,n,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=this.gl,c=this.shader,l=Object(i.a)();u.enable(u.DEPTH_TEST),u.depthFunc(u.LEQUAL),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.enable(u.CULL_FACE),u.cullFace(u.BACK),c.bind(),this._calculateMatrix(u,t,r),u.uniformMatrix3fv(c.u_matrix,!1,this.matrix),u.uniformMatrix3fv(c.u_texMatrix,!1,this.texMatrix);var d=u.canvas.width,p=u.canvas.height,h=r.x/d*2-1,f=r.y/p*2-1,g=r.width/d*2,v=r.height/p*2;if(u.uniform1f(c.lightRatio,n),u.uniform1f(c.tick,s),u.uniform1f(c.spinnerSize,22*l),u.uniform1i(c.showSpinner,!t&&a?1:0),u.uniform4f(c.bbox,h,f,g,v),u.uniform4fv(c.clipRect,this.clipRect),u.uniform2f(c.viewport,u.drawingBufferWidth,u.drawingBufferHeight),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,t?t.surface.texture:this.whitePaperTexture),u.uniform1i(c.texture,0),u.bindBuffer(u.ARRAY_BUFFER,this.verticeBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,e.vertices),u.vertexAttribPointer(c.vertex,3,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.normalsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,o?e.backFacingNormals:e.normals),u.vertexAttribPointer(c.normal,3,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.textureCoordsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,o?e.backFacingTextureCoords:e.textureCoords),u.vertexAttribPointer(c.textureCoord,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,e.perspectiveCorrections),u.vertexAttribPointer(c.perspectiveCorrection,1,u.FLOAT,!1,0,0),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,o?e.backFacingIndices:e.indices),u.drawElements(u.TRIANGLES,6*(e.size-1)*(e.size-1),u.UNSIGNED_SHORT,0),m){this.normalShader.bind(),u.uniformMatrix3fv(this.normalShader.u_matrix,!1,this.matrix),u.uniform1i(this.normalShader.backFacing,o?1:0);for(var _=[],b=o?e.backFacingNormals:e.normals,y=0;y<e.vertices.length;y+=3){var T=e.vertices[y+0],E=e.vertices[y+1],w=e.vertices[y+2],C=b[y+0],x=b[y+1],S=b[y+2];_.push(T,E,w,T+C,E+x,w+S)}u.bindBuffer(u.ARRAY_BUFFER,this.normalLinesBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,new Float32Array(_)),u.vertexAttribPointer(this.normalShader.vertex,3,u.FLOAT,!1,0,0),u.drawArrays(u.LINES,0,_.length/3)}},e}()},function(e,t){e.exports="attribute vec2 vertex;\nuniform vec4 texCoords;\nuniform vec4 bbox;\nuniform vec2 viewport;\nvarying vec2 textureCoordinate;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texCoords.x + (vertex.x * texCoords.z));\n  tmpvar_4.y = (texCoords.y + (vertex.y * texCoords.w));\n  textureCoordinate = tmpvar_4;\n  highp vec4 tmpvar_5;\n  tmpvar_5.zw = vec2(0.0, 1.0);\n  tmpvar_5.xy = tmpvar_3;\n  gl_Position = tmpvar_5;\n}\n\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D texture;\nvarying vec2 textureCoordinate;\nuniform float opacity;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = texture2D (texture, textureCoordinate);\n  gl_FragColor = (tmpvar_1 * opacity);\n}\n\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(67),i=r(391),o=r.n(i),a=r(390),s=r.n(a),u=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.shader=Object(n.a)(t,s.a,o.a);var r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.verticeBuffer=r}return e.prototype.destroy=function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.verticeBuffer),this.shader.destroy()},e.prototype.draw=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:1,height:1},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=this.gl,o=this.shader;o.bind(),i.disable(i.DEPTH_TEST),i.uniform2f(o.viewport,i.drawingBufferWidth,i.drawingBufferHeight),i.uniform4f(o.bbox,t.x,t.y,t.width,t.height),i.uniform4f(o.texCoords,r.x,r.y,r.width,r.height),i.uniform1f(o.opacity,n),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(o.texture,0),i.bindBuffer(i.ARRAY_BUFFER,this.verticeBuffer),i.vertexAttribPointer(o.vertex,2,i.FLOAT,!1,0,0),i.drawArrays(i.TRIANGLE_STRIP,0,4)},e}()},function(e,t){e.exports="attribute vec3 vertex;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((vertex.xy + vec2(1.0, 1.0)) / vec2(2.0, 2.0));\n  v_shadowTexcoord = tmpvar_1;\n  v_shadowBlurCoords[0] = (tmpvar_1 + vec2(0.0, -0.016));\n  v_shadowBlurCoords[1] = (tmpvar_1 + vec2(0.0, -0.012));\n  v_shadowBlurCoords[2] = (tmpvar_1 + vec2(0.0, -0.008));\n  v_shadowBlurCoords[3] = (tmpvar_1 + vec2(0.0, -0.004));\n  v_shadowBlurCoords[4] = (tmpvar_1 + vec2(0.0, 0.004));\n  v_shadowBlurCoords[5] = (tmpvar_1 + vec2(0.0, 0.008));\n  v_shadowBlurCoords[6] = (tmpvar_1 + vec2(0.0, 0.012));\n  v_shadowBlurCoords[7] = (tmpvar_1 + vec2(0.0, 0.016));\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xy = vertex.xy;\n  tmpvar_2.z = -(vertex.z);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D depthMapTexture;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  lowp vec4 color_1;\n  color_1 = (texture2D (depthMapTexture, v_shadowBlurCoords[0]) * 0.04436833);\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[1]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[2]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[3]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowTexcoord) * 0.1595769));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[4]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[5]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[6]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[7]) * 0.04436833));\n  gl_FragColor = color_1;\n}\n\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(67),i=r(394),o=r.n(i),a=r(393),s=r.n(a),u=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.shader=Object(n.a)(t,s.a,o.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,72,t.DYNAMIC_DRAW)}return e.prototype.draw=function(e,t,r){var n=this.gl,i=this.shader;n.enable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),i.bind();var o=n.canvas.width,a=n.canvas.height,s=(t.x-o/2)/(o/2),u=(0-t.y+a/2)/(a/2),c=(t.x+t.width-o/2)/(o/2),l=(0-(t.y+t.height)+a/2)/(a/2),d=new Float32Array([s,u,r,s,l,r,c,u,r,c,u,r,s,l,r,c,l,r]);n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(i.depthMapTexture,0),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,d),n.vertexAttribPointer(i.vertex,3,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6)},e.prototype.destroy=function(){this.gl.deleteBuffer(this.verticeBuffer),this.shader.destroy()},e}()},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nuniform mat3 u_matrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.7);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.35));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t){e.exports="precision highp float;\nvoid main ()\n{\n  highp float tmpvar_1;\n  tmpvar_1 = abs(gl_FragCoord.z);\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 0.25;\n  tmpvar_2.x = tmpvar_1;\n  tmpvar_2.y = tmpvar_1;\n  tmpvar_2.z = tmpvar_1;\n  gl_FragColor = tmpvar_2;\n}\n\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(67),i=r(10),o=r(397),a=r.n(o),s=r(396),u=r.n(s),c=512,l=function(){function e(t){babelHelpers.classCallCheck(this,e),this.matrix=i.b.create(),this.projection=i.b.create(),this.gl=t,this.shader=Object(n.a)(t,u.a,a.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW);this.indiceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,6912,t.DYNAMIC_DRAW),this.depthMapTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.depthMapTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,c,c,0,t.RGBA,t.UNSIGNED_BYTE,null),this.depthMapFrameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.depthMapFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.depthMapTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}return e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.depthMapTexture),e.deleteFramebuffer(this.depthMapFrameBuffer),this.shader.destroy()},e.prototype._calculateMatrix=function(e,t){var r=t.x,n=e.drawingBufferHeight-t.y-t.height,o=t.width,a=t.height;i.b.set(this.matrix,o,0,0,0,a,0,r,n,1),i.b.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),i.b.multiply(this.matrix,this.projection,this.matrix)},e.prototype.computeDepthMap=function(e,t){var r=this.gl,n=this.shader;r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ZERO),r.blendEquation(r.FUNC_ADD),r.disable(r.CULL_FACE),r.bindFramebuffer(r.FRAMEBUFFER,this.depthMapFrameBuffer),r.viewport(0,0,c,c),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),n.bind(),this._calculateMatrix(r,t),r.uniformMatrix3fv(n.u_matrix,!1,this.matrix),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,e.vertices),r.vertexAttribPointer(n.vertex,3,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,e.indices),r.drawElements(r.TRIANGLES,6*(e.size-1)*(e.size-1),r.UNSIGNED_SHORT,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight)},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(398),i=r(395),o=r(392),a=r(389),s=r(384),u=r(381),c=r(150),l=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.shadow=new n.a(t),this.shadowDraw=new i.a(t),this.bendingPage=new a.a(t),this.imagePrimitive=new o.a(t),this.link=new s.a(t,this.imagePrimitive),this.linkTooltip=new u.a(t,this.imagePrimitive),this.highlights=new c.a(t)}return e.prototype.destroy=function(){this.shadow.destroy(),this.shadowDraw.destroy(),this.bendingPage.destroy(),this.imagePrimitive.destroy(),this.link.destroy(),this.linkTooltip.destroy(),this.highlights.destroy(),this.gl=null},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(0),i=r.n(n),o=r(34),a=r(128),s=r.n(a),u=r(142),c=r(6),l=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.state={pageViewportBBoxes:{},hidden:!0},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!s()(this.state,t)},t.prototype.updatePagePositions=function(e){var t=this,r={};this.props.currentPageNumbers.forEach(function(e){var n=t.props.getPageComponent(e);n&&(t.props.visiblePageNumbers.includes(e)?r[e]=babelHelpers.extends({},n.position):r[e]=babelHelpers.extends({},n.viewportBBox))}),this.setState({pageViewportBBoxes:r,hidden:e})},t.prototype.render=function(){var e={display:this.state.hidden?"none":"block"};return i.a.createElement("div",{className:"dynamic-content__container",style:e},i.a.createElement(u.a,{pageViewportBBoxes:this.state.pageViewportBBoxes,hidden:this.state.hidden,metrics:this.props.metrics}))},t}(n.Component);l.displayName="InPubContent";var d=Object(o.b)(function(e){return{getPageComponent:e.canvasApi?e.canvasApi.getPageComponent:function(){return null},visiblePageNumbers:e.reader.visiblePageNumbers,currentPageNumbers:Object(c.j)(e)}},null,null,{pure:!1,withRef:!0})(l)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(11);function i(e,t,r,i){return r===n.SINGLE_PAGE_SPREAD?i?function(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:null,flat:e[0],bbox:r,edge:r.x},end:{bending:t[0],flat:null,bbox:n,edge:n.x+n.width}}}(e,t):function(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[0],flat:null,bbox:r,edge:r.x+r.width},end:{bending:null,flat:t[0],bbox:n,edge:n.x}}}(e,t):i?function(e,t){var r=e[0].viewportBBox,n=t[t.length-1].viewportBBox;return{start:{bending:e[0],flat:e.length>1?e[e.length-1]:null,bbox:Object.assign({},r,{x:r.x+r.width}),edge:r.x},end:{bending:t[t.length-1],flat:t.length>1?t[0]:null,bbox:n,edge:n.x+n.width}}}(e,t):function(e,t){var r=e[e.length-1].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[e.length-1],flat:e.length>1?e[0]:null,bbox:r,edge:r.x+r.width},end:{bending:t[0],flat:t.length>1?t[t.length-1]:null,bbox:Object.assign({},n,{x:n.x+n.width}),edge:n.x}}}(e,t)}},function(e,t,r){"use strict";function n(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);e.x/=t,e.y/=t,e.z/=t}function i(e,t,r,n,i,o,a){a.x+=o*t-i*r,a.y+=n*r-o*e,a.z+=i*e-n*t}function o(e,t,r,n,i){e<r-1&&i.push(n[t+0+3*r]-n[t+0],n[t+1+3*r]-n[t+1],n[t+2+3*r]-n[t+2])}function a(e,t,r,n,i){e>0&&i.push(n[t+0-3*r]-n[t+0],n[t+1-3*r]-n[t+1],n[t+2-3*r]-n[t+2])}function s(e,t,r,n,i){e>0&&i.push(n[t+0-3]-n[t+0],n[t+1-3]-n[t+1],n[t+2-3]-n[t+2])}function u(e,t,r,n,i){e<r-1&&i.push(n[t+0+3]-n[t+0],n[t+1+3]-n[t+1],n[t+2+3]-n[t+2])}function c(e,t,r,n,c,l,d){t===n-1?(s(e,r,0,c,l),a(t,r,n,c,l),u(e,r,n,c,l)):0===e?(a(t,r,n,c,l),u(e,r,n,c,l),o(t,r,n,c,l)):0===t?(u(e,r,n,c,l),o(t,r,n,c,l),s(e,r,0,c,l)):e===n-1?(o(t,r,n,c,l),s(e,r,0,c,l),a(t,r,n,c,l)):(o(t,r,n,c,l),s(e,r,0,c,l),a(t,r,n,c,l),u(e,r,n,c,l));for(var p=l.length/3,h=0;h<p-1;h++)i(l[3*h+0],l[3*h+1],l[3*h+2],l[3*(h+1)+0],l[3*(h+1)+1],l[3*(h+1)+2],d)}r.d(t,"a",function(){return p});var l={x:0,y:0,z:0},d=[];function p(e,t,r,i){for(var o=l,a=d,s=0;s<e;s++)for(var u=0;u<e;u++){o.x=0,o.y=0,o.z=0,a.length=0;var p=s*e*3+3*u;c(u,s,p,e,t,a,o),n(o),r[p+0]=o.x,r[p+1]=o.y,r[p+2]=o.z,i[p+0]=-o.x,i[p+1]=-o.y,i[p+2]=-o.z}}},function(e,t,r){"use strict";r.d(t,"a",function(){return w});var n=r(56),i=r(4),o=r(143),a=r(26),s=r(50),u=r(241),c=r(11),l=r(151),d=r(77),p=r(28),h=r(61),f=r(23),m=r(8),g=r(66),v=r(401),_=r(70),b=0,y=.001;function T(e){return e===c.SINGLE_PAGE_SPREAD?200:400}function E(e){var t=Math.abs(e);return t<.1?d.c(0,1,10*t):t>.9?d.c(0,1,10*(1-t)):1}var w=function(e){function t(r,n){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n));return i._bendingMesh=new u.a(25,y),i._flatMesh=new u.a(2,b),i._isSnapped=!0,i._wasAnimatingLastFrame=!1,i._lastSpreadIndex=-1,i._lastPositionInPercent=0,i._lastVisiblePages="",i._pendingTargetSpreadIndex=NaN,i._lightRatioEasing=E,i._progressEasing=function(e){return i.animation.value(e)},i._justStartedAnimation=!1,i._targetSpreadIndex=i.props.currentSpreadIndex,i.animation=new l.a(Number.MAX_VALUE,T(i.props.readMode)),i}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.props.featureTracker.opportunity(m.a.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(m.a.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(m.a.GESTURE_DRAG_PAGES)},t.prototype.onGestureStart=function(e,t,r,n){return!this.props.disableGestures&&(this.animation.isRunning(i.b.lastTick)&&this.jumpToSpread(this._targetSpreadIndex),this._gesture={startX:e,startY:t,endX:e,endY:t,velocity:0,timeStamp:n},!0)},t.prototype.onGestureChange=function(e,t,r,n,i,o){if(this.props.disableGestures)return!1;if((o===p.b||o===p.d)&&1===r.length){var a=-(e-this._gesture.endX)/Math.max(1,n-this._gesture.timeStamp)*.6+.4*this._gesture.velocity;this._gesture.endX=e,this._gesture.endY=t,this._gesture.timeStamp=n,this._gesture.velocity=a;var s=this.getCurrentSpreadIndex(),u=this._getValidSpreadIndex(s+(o===p.b?1:-1));return s!==u&&this._tweakAnimation({duration:Number.MAX_VALUE,targetSpreadIndex:u}),!0}return!1},t.prototype.onGestureEnd=function(e){if(this.props.disableGestures)return!1;if(this._isDraggingManually()){var t=this._getPageSetupForFlip(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=this._getProgressBasedOnFingerPosition(t.start.edge,t.end.edge),n=this._targetSpreadIndex>this.getCurrentSpreadIndex()?this._gesture.velocity>0:this._gesture.velocity<0,o=Math.abs(this._gesture.velocity),a=n&&(r>.6||o>.36),s=T(this.props.readMode)*(.95-Math.atan(o)/Math.PI);return this._tweakAnimation({duration:s,startTime:i.b.lastTick-s*(a?r:1-r),reverse:!a}),a&&this.props.featureTracker.usage(m.a.GESTURE_DRAG_PAGES),!0}return!1},t.prototype.onSingleTapConfirmed=function(e,t,r){var n=this.getCurrentSpread(),i=n.children[0].viewportBBox;if(n.children.length>1){var o=n.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(n);if(e<i.x)return this.props.disableGestures?this.jumpToSpread(Math.max(a-1,0)):this.goToSpread(Math.max(a-1,0)),!0;if(e>i.x+i.width)return this.props.disableGestures?this.jumpToSpread(Math.min(a+1,this.children.length-1)):this.goToSpread(Math.min(a+1,this.children.length-1)),!0}return!1},t.prototype.getCurrentSpreadIndex=function(){return this.props.currentSpreadIndex},t.prototype.getCurrentSpread=function(){return this.children[this.getCurrentSpreadIndex()]},t.prototype.getVisiblePageNumbers=function(){var e=[];if(this.getCurrentSpreadIndex()!==this._targetSpreadIndex){var t=Math.min(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=Math.max(this.getCurrentSpreadIndex(),this._targetSpreadIndex);e.push.apply(e,this.children[t].children.map(function(e){return e.model.pageNumber})),e.push.apply(e,this.children[r].children.map(function(e){return e.model.pageNumber}))}else{var n=i.b.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),o=this.getCurrentSpread().children,a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var c=u,l=c.viewportBBox;Object(h.a)(n,l)&&e.push(c.model.pageNumber),i.b.RectPool.release(l)}i.b.RectPool.release(n)}return e},t.prototype.setSnapping=function(e){},t.prototype.jumpToPositionByPercent=function(e){this.getCurrentSpread().setZoom(1),this.jumpToSpread(Math.round(e/100*(this.children.length-1)))},t.prototype.goToSpread=function(e){var t=i.b.lastTick;this.animation.isRunning(t)?this._pendingTargetSpreadIndex=e:this._animateToSpread(e,t,T(this.props.readMode))},t.prototype.jumpToSpread=function(e){this._animateToSpread(e,i.b.lastTick,0)},t.prototype._getValidSpreadIndex=function(e){return Math.max(0,Math.min(this.children.length-1,e))},t.prototype._animateToSpread=function(e,t,r){this._targetSpreadIndex=this._getValidSpreadIndex(e),this.getCurrentSpreadIndex()!==this._targetSpreadIndex&&(this.getCurrentSpread().setZoom(1),this._tweakAnimation({startTime:t,duration:r}))},t.prototype._tweakAnimation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.animation.duration=e.hasOwnProperty("duration")?e.duration:T(this.props.readMode),this._targetSpreadIndex=this._getValidSpreadIndex(e.hasOwnProperty("targetSpreadIndex")?e.targetSpreadIndex:this._targetSpreadIndex),this.animation.reset(e.startTime||0),this.animation.options.reverse=!!e.hasOwnProperty("reverse")&&e.reverse,this._justStartedAnimation=!0,this.requestRedraw()},t.prototype.getChildrenToTraverse=function(){var e=this.getCurrentSpreadIndex();return this.children.slice(e,e+1)},t.prototype.getChildTree=function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.xMargin),r=this.yMargin,a=new n.a;return a.mTranslate(t,r),this.props.documentPageSpreadList.map(function(n,s){return i.b.createElement(o.a,{dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,height:e.props.viewportHeight-2*r,hideLinkToolTip:e.props.hideLinkToolTip,isCurrentSpread:s===e.props.currentSpreadIndex,isLinksToggledOn:e.props.isLinksToggledOn,isSnapped:e._isSnapped,mayRenderLinks:e.props.mayRenderLinks&&e._isSnapped,pageModels:n.pages,paywalledPageStatus:n.pages.map(function(t){return e.props.paywalledPageNumbers.includes(t.pageNumber)}),readMode:e.props.readMode,renderManager:e.props.renderManager,showLinkToolTip:e.props.showLinkToolTip,transform:a,width:e.props.viewportWidth-2*t})})},t.prototype.beforeDraw=function(e){!this._wasAnimatingLastFrame&&this.animation.isRunning(i.b.lastTick)&&this.props.onAnimationStart(),(!this.animation.isRunning(i.b.lastTick)&&(this._wasAnimatingLastFrame||this._justStartedAnimation)||0===this.animation.duration)&&(this.animation.options.reverse&&(this._targetSpreadIndex=this.getCurrentSpreadIndex()),this._targetSpreadIndex!==this.getCurrentSpreadIndex()&&this.props.onSpreadChange(this._targetSpreadIndex),isNaN(this._pendingTargetSpreadIndex)||(this.goToSpread(this._pendingTargetSpreadIndex),this._pendingTargetSpreadIndex=NaN))},t.prototype.appendWebglOps=function(e,t,r){this.animation.isRunning(i.b.lastTick)?this._appendWebglOpsForFlipping(e,this.getCurrentSpreadIndex(),this._targetSpreadIndex,r):this._appendWebglOpsForPages(e,r),this._justStartedAnimation=!1},t.prototype.afterDraw=function(e){this._wasAnimatingLastFrame&&!this.animation.isRunning(i.b.lastTick)&&this.props.onAnimationEnd();var t=this._isDraggingManually();this._wasAnimatingLastFrame=this.animation.isRunning(i.b.lastTick),this._wasAnimatingLastFrame&&!t&&this.requestRedraw();var r=this.getVisiblePageNumbers(),n=this.getCurrentSpreadIndex(),o=this.getCurrentSpread().children.map(function(e){return e.model.pageNumber}),a=n/Math.max(this.children.length-1,1)*100,u=this._lastPositionInPercent!==a,c=-1===this._lastSpreadIndex,l=this._lastSpreadIndex!==n&&!c,d=r.join()!==this._lastVisiblePages,p=this.props.currentPageNumber;if(l)p=o[0];else if(!r.includes(p)){var h=r.find(function(e){return o.includes(e)});h&&(p=h)}if(this._lastPositionInPercent=a,this._lastSpreadIndex=n,this._lastVisiblePages=r.join(),(u||l||d)&&this.props.dispatch(Object(s.b)(r,n,p,o,a,u,l,d,t)),this._wasAnimatingLastFrame===this._isSnapped&&(this._isSnapped=!this._wasAnimatingLastFrame,this._isSnapped||this.props.hideLinkToolTip(),this.forceUpdate()),l||c){var f=Array.from(new Set([].concat(r,o)));this.props.renderManager.setActivePages(f)}},t.prototype._appendWebglOpsForFlipping=function(e,t,r,n){var o=this,a=this._getPageSetupForFlip(t,r),s=r<t,u=this._getConicContribution(),c=this._getProgressBasedOnFingerPosition(a.start.edge,a.end.edge),l=Object(_.c)(this._transformBBox(a.start.bbox,a.end.bbox,c),_.b),d=this._bendingMesh.calculateProgress(a.start.edge,a.end.edge,this._getFingerPosition(a.start.edge,a.end.edge),l,u);this._bendingMesh.bend(d,u);var p=this._lightRatioEasing(c),h=a.start.bending?this._loadPreviewTextureInfos(a.start.bending,l,n).ops:[],f=a.end.bending?this._loadPreviewTextureInfos(a.end.bending,l,n).ops:[];if(h.some(function(e){return e&&(e.type===g.b||e.type===g.c)})||(h=[null]),f.some(function(e){return e&&(e.type===g.b||e.type===g.c)})||(f=[null]),h.forEach(function(t){t&&t.type===g.a?e.push({type:i.d,args:[o._bendingMesh,t,l,p,s,!!a.start.bending,i.b.lastTick]}):e.push({type:i.a,args:[o._bendingMesh,t,l,p,s,!!a.start.bending,i.b.lastTick]})}),f.forEach(function(t){t&&t.type===g.a?e.push({type:i.d,args:[o._bendingMesh,t,l,p,!s,!!a.end.bending,i.b.lastTick]}):e.push({type:i.a,args:[o._bendingMesh,t,l,p,!s,!!a.end.bending,i.b.lastTick]})}),e.push({type:i.c,args:[this._bendingMesh,l]}),a.start.flat){var m=this._transformBBox(a.start.flat.viewportBBox,a.end.bending.viewportBBox,c);this._appendWebglOpsForPage(e,a.start.flat,m,n),e.push({type:i.h,args:[m,1e-4]})}if(a.end.flat){var v=this._transformBBox(a.start.bending.viewportBBox,a.end.flat.viewportBBox,c);this._appendWebglOpsForPage(e,a.end.flat,v,n),e.push({type:i.h,args:[v,1e-4]})}},t.prototype._transformBBox=function(e,t,r){var n=Math.abs(r);return{x:d.e(e.x,t.x,n),y:d.e(e.y,t.y,n),width:d.e(e.width,t.width,n),height:d.e(e.height,t.height,n)}},t.prototype._isDraggingManually=function(){return!(this.animation.duration!==Number.MAX_VALUE||!this._gesture)},t.prototype._getConicContribution=function(){if(this.animation.duration!==T(this.props.readMode)&&this._gesture){var e=(this._gesture.endY-this._gesture.startY)/(this.height-this._gesture.startY);return Math.min(1,Math.max(-1,e))}return-.5},t.prototype._getFingerPosition=function(e,t){return this._isDraggingManually()?this._gesture.endX-this._gesture.startX+e:e+(t-e)*this._progressEasing(i.b.lastTick)},t.prototype._getProgressBasedOnFingerPosition=function(e,t){var r=this._getFingerPosition(e,t);return Math.min(1,Math.max(0,(r-e)/(t-e)))},t.prototype._getPageSetupForFlip=function(e,t){var r=t<e,n=this.children[e].children,i=this.children[t].children;return Object(v.a)(n,i,this.props.readMode,r)},t.prototype._appendWebglOpsForPages=function(e,t){var r=this;this.getCurrentSpread().children.forEach(function(n){r._appendWebglOpsForPage(e,n,n.viewportBBox,t)})},t.prototype._appendWebglOpsForPage=function(e,t,r,n){var o=this;if(this.overlaps(r)){var a=Object(_.c)(r,t.pageType),s=this._lightRatioEasing(0),u=this._loadTextureInfos(t,r,n),c=u.done,l=u.ops;l.forEach(function(t){t.type===g.a?e.push({type:i.d,args:[o._flatMesh,t,a,s,!1,!0,i.b.lastTick]}):e.push({type:i.a,args:[o._flatMesh,t,a,s,!1,!0,i.b.lastTick]})}),c||0!==l.length||e.push({type:i.a,args:[this._flatMesh,null,a,s,!1,!0,i.b.lastTick]}),c||this.requestRedraw()}},t.prototype._loadPreviewTextureInfos=function(e,t,r){var n=this._loadTextureInfos(e,t,r);return n.ops=n.ops.filter(function(e){return e!==g.b}),n},t.prototype._loadTextureInfos=function(e,t,r){return e.getOperations(t,r.width,r.height)},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"PageFlip"}},{key:"width",get:function(){return this.props.viewportWidth}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"xMargin",get:function(){var e=a.f;return Object(f.a)()*e}},{key:"yMargin",get:function(){var e=this.props.allowUIToOverlayCover?a.h:a.i;return Object(f.a)()*e}}]),t}(i.b)},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(84),i=r(4),o=r(52),a=r(23),s="'Open Sans', Helvetica, Arial, Tahoma, Sans-serif",u=function(e){function t(r,i){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,r,i));return o._renderedText="",o._textWidth=0,Object(n.b)(o.root.props.ctx)&&(o.gl=o.root.props.ctx,o.initializeTexture()),o}return babelHelpers.inherits(t,e),t.prototype.componentWillUnmount=function(){this.gl&&this._texture&&this.gl.deleteTexture(this._texture)},t.prototype.initializeTexture=function(){if(this.gl){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}},t.prototype.drawRoundRect=function(e,t,r,n,i,o){e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath(),e.fill(),e.stroke()},t.prototype.updateOffscreenCanvases=function(){var e=this._alphaCanvas||document.createElement("canvas"),t=e.getContext("2d",{alpha:!1});t.font="12px "+s;var r=Math.ceil(t.measureText(this.text).width+12),n=Object(a.a)(),i=r*n,o=20*n,u=4*n,c=3.5*n;e.width=i,e.height=o,t.fillStyle="#4c4c4c",t.strokeStyle="#4c4c4c",t.clearRect(0,0,i,o),this.drawRoundRect(t,0,0,i,o,u),t.fillStyle="#ffffff",t.textBaseline="alphabetic",t.textAlign="center",t.font=12*n+"px "+s,t.fillText(this.text,i/2,o/2+c),this._textWidth=r,this._renderedText=this.text,this._alphaCanvas=e},t.prototype.updateTexture=function(){if(this.gl&&this._alphaCanvas){var e=this.gl,t=this._alphaCanvas;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}},t.prototype.appendWebglOps=function(e,t,r){this._renderedText!==this.text&&(this.updateOffscreenCanvases(),this.updateTexture());var n=Object(a.a)(),o=this._textWidth*n,s=20*n,u=15*n,c=this.props.link.viewportBBox,l={x:c.x+c.width/2-o/2,y:c.y+c.height+(u-s/2),width:o,height:s};e.push({type:i.i,args:[this._texture,l,{x:0,y:0,width:1,height:1}]})},t.prototype.draw=function(e,t){this._renderedText!==this.text&&this.updateOffscreenCanvases();var r=Object(a.a)(),n=this._textWidth*r,i=20*r,o=15*r,s=this.props.link.viewportBBox,u=Math.round(s.x+s.width/2-n/2),c=Math.round(s.y+s.height+o-i/2);this._alphaCanvas&&e.drawImage(this._alphaCanvas,u,c,n,i)},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"LinkTooltip"}},{key:"width",get:function(){return this.props.link?this.props.link.width:0}},{key:"height",get:function(){return this.props.link?20:0}},{key:"isVisible",get:function(){return this.props.link&&this.props.link.isVisible}},{key:"model",get:function(){return this.props.link.model}},{key:"text",get:function(){return this.model.type===o.b.GOTO_PAGE?"Navigate to page "+this.model.gotoPageNumber:this.model.type===o.b.OPEN_URL?""+this.model.url:""}}]),t}(i.b)},function(e,t,r){"use strict";t.a='<svg width="36px" height="36px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke-width="2" stroke="#F2F2F2" fill="#F2F2F2">\n            <path d="M12.3408714,10.0141234 C12.4387046,9.9874359 12.5458435,9.99787995 12.6384534,10.0513483 L25.7231942,17.6058269 C25.7441713,17.6179381 25.7635499,17.6317943 25.7812762,17.6471132 C25.8505849,17.6811974 25.9106579,17.7350136 25.9510292,17.8049388 C26.0614195,17.9961404 25.9953885,18.2409294 25.8085954,18.3487745 L12.645177,25.9486776 C12.5764657,25.9883481 12.5002354,26.0040755 12.4258831,25.9991127 C12.4172304,25.9996948 12.4085186,25.9999904 12.3997586,25.9999904 C12.178978,25.9999904 12,25.8204113 12,25.6047213 L12,10.404915 C12,10.2069041 12.152566,10.0428998 12.3408714,10.0141234 L12.3408714,10.0141234 Z">\n            </path>\n        </g>\n    </g>\n</svg>\n'},,function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(406),i=r(72),o=function(){function e(t,r){var n=this;babelHelpers.classCallCheck(this,e),this._isPlaying=!1,this._isFullscreen=!1,this._onPlay=function(){n._isPlaying=!0,n._invokePlayStatusCallback()},this._onPause=function(){n._isPlaying=!1,n._invokePlayStatusCallback()},this._onEnded=function(){n._isPlaying=!1,n._invokePlayStatusCallback()},this._onFullscreenChange=function(){var e=document.getElementById(n.id);n._isFullscreen=!!e&&e.contains(Object(i.d)()),n.fullscreenCallback&&n.fullscreenCallback()},this._player=r,this.id=t,this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded),Object(i.a)(this._onFullscreenChange)}return e.prototype.play=function(){return this._player.play()},e.prototype.pause=function(){this._player.pause()},e.prototype.destroy=function(){Object(i.f)(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.unload()},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isFullscreen=function(){return this._isFullscreen},e.prototype._invokePlayStatusCallback=function(){this.playStatusCallback&&this.playStatusCallback()},e}();function a(e,t,r){var i=new n.a(t,{id:e,muted:r,autoplay:!1,autopause:!1,title:!1,portrait:!1,byline:!1,transparent:!1});return i.on("error",function(t){i.loadVideo(e)}),i.ready().then(function(){return Promise.resolve(new o(t,i))})}},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(0),i=r.n(n),o=r(128),a=r.n(o),s=r(179),u=r(407),c=r(8),l=r(18),d=r(23),p=r(99),h=r(405),f={x:0,y:0,width:1,height:1},m=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n._played=!1,n._playerInitialized=!1,n._videoImpressed=!1,n._videoSeen=!1,n.state={inlinePlayer:null,errorOccurred:!1},n._playStatusCallback=function(){n._played=n._played||n._isPlaying(),n.props.interactionCallback(n.props.inlineVideo,n._isPlaying(),n._isFullscreen()),n._played&&n._trackUsage()},n._fullscreenCallback=function(){n.props.interactionCallback(n.props.inlineVideo,n._isPlaying(),n._isFullscreen())},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.props.shouldBeLoaded&&!this.props.isExplicit&&this._createPlayer()},t.prototype.shouldComponentUpdate=function(e,t){return!a()(this.props,e)||!a()(this.state,t)},t.prototype.componentDidUpdate=function(e){this.props.shouldBeLoaded&&!this.props.isExplicit?this._createPlayer():this._destroyPlayer();var t=this.state.inlinePlayer;if(t){t.fullscreenCallback=this._fullscreenCallback,t.playStatusCallback=this._playStatusCallback;var r=this.props,n=r.hidden,i=r.shouldBePaused,o=r.shouldAutoplay;this._isPlaying()&&(n||i)&&t.pause(),this._shouldVideoBeRendered()&&!n&&o&&!this._played&&t.play()}},t.prototype._createPlayer=function(){var e=this;if(!this._playerInitialized){var t=this.props.inlineVideo.link,r=t.videoService,n=t.videoId,i=t.inlineData,o=!!i&&i.autoplay,a=this._getVideoContainerId();"youtube"===r?Object(s.a)(n,a,o,function(){return e._trackError()}).then(function(t){return e.setState({inlinePlayer:t})}):"vimeo"===r&&Object(u.a)(n,a,o).then(function(t){return e.setState({inlinePlayer:t})}).catch(function(t){return e._trackError()}),this._playerInitialized=!0}},t.prototype._getVideoContainerId=function(){var e=this.props.inlineVideo.link;return"videoplayer_"+e.videoService+"_"+e.id},t.prototype._destroyPlayer=function(){var e=this;Object(l.a)().rIC(function(){var t=e.state.inlinePlayer;!t||e.props.shouldBeLoaded&&!e.state.errorOccurred||(t.fullscreenCallback=null,t.playStatusCallback=null,t.destroy(),e.setState({inlinePlayer:null}),e._playerInitialized=!1,e._played=!1)})},t.prototype._isPlaying=function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isPlaying()},t.prototype._isFullscreen=function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isFullscreen()},t.prototype._playerSizeOk=function(e){var t=this.props.inlineVideo,r=t.link,n=t.pageWidth,i=t.pageHeight,o=Object(d.a)();return e.width/o*(r.width/n)>210&&e.height/o*(r.height/i)>120},t.prototype._shouldVideoBeRendered=function(){var e=this.props.pageViewportBBox;return!!e&&(!(!this._isPlaying()&&!this._isFullscreen())||this._playerSizeOk(e)&&!!this.state.inlinePlayer&&!this.state.errorOccurred)},t.prototype._shouldIconBeRendered=function(){var e=this.props.pageViewportBBox;return!!e&&(!this._isPlaying()&&!this._isFullscreen()&&!this._playerSizeOk(e))},t.prototype._trackOpportunity=function(){this._videoImpressed||(this.props.featureTracker.opportunity(c.a.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-opportunity",{view:1,service:this.props.inlineVideo.link.videoService}),this._videoImpressed=!0)},t.prototype._trackUsage=function(){this._videoSeen||(this.props.featureTracker.usage(c.a.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-view",{view:1,service:this.props.inlineVideo.link.videoService}),this._videoSeen=!0)},t.prototype._trackError=function(){this.props.metrics.monitor("reader3-inpub-video-error",{failure:1,service:this.props.inlineVideo.link.videoService}),this._destroyPlayer(),this.setState({errorOccurred:!0})},t.prototype.renderPlayer=function(){var e=this._shouldVideoBeRendered();e&&this._trackOpportunity();var t={display:e?"block":"none"};return i.a.createElement("div",{className:"inline-video__player",style:t},i.a.createElement("div",{id:this._getVideoContainerId()}))},t.prototype.renderArrow=function(){var e={display:this._shouldIconBeRendered()?"block":"none"};return i.a.createElement("div",{className:"inline-video__cta",style:e,dangerouslySetInnerHTML:{__html:h.a}})},t.prototype.renderMessage=function(){var e=this.props,t=e.pageViewportBBox,r=e.inlineVideo.link,n=r.videoService,o=r.url,a={display:!!t&&this._playerSizeOk(t)?"block":"none"};return this.props.isExplicit?i.a.createElement("div",{className:"inline-video__message",style:a},i.a.createElement(p.c,{onSubmit:function(){return window.open(o,"_blank")},service:n})):this.state.errorOccurred?i.a.createElement("div",{className:"inline-video__message",style:a},i.a.createElement(p.b,{onSubmit:function(){return window.open(o,"_blank")},service:n})):null},t.prototype.render=function(){var e=this.props.inlineVideo,t=e.link,r=e.pageWidth,n=e.pageHeight,o=this.props.pageViewportBBox||f,a=Object(d.a)(),s=o.width/a/r,u=o.height/a/n,c={top:t.y*u+o.y/a,left:t.x*s+o.x/a,width:t.width*s,height:t.height*u};return i.a.createElement("div",{className:"inline-video__container",style:c},this.renderPlayer(),this.renderArrow(),this.renderMessage())},t}(n.Component)},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(105),i=r(142),o=r(53),a=6,s=0,u=1,c=2,l=0;function d(e,t){return function(e,t){return e.layersInfo?Object(n.d)({url:e.layersInfo.uri,pageNumber:e.pageNumber,version:e.layersInfo.version,loadStatsTracker:t}):Object(n.c)({url:e.imageUri,pageNumber:e.pageNumber,width:e.width,height:e.height,loadStatsTracker:t})}(e,t).catch(function(r){if(e.layersInfo)return r&&r.skipTracking||t.onLoaderError(),t.onLayersImageFallback(),e.layersInfo=void 0,d(e,t);throw r})}var p=function(){function e(t,r,n){babelHelpers.classCallCheck(this,e),this.videoDatas={},this.apiOrigin=t,this.pageModels=r,this.loadStatsTracker=n,this.pageDatas=new Array(r.length)}return e.prototype._getPageData=function(e){return this.pageDatas[e-1]||(this.pageDatas[e-1]={state:s}),this.pageDatas[e-1]},e.prototype.getPageModel=function(e){return this.pageModels[e-1]},e.prototype.getPageLayers=function(e){return function e(t,r,n){switch(r.state){case s:return l<a&&(l++,r.state=u,d(t,n).then(function(e){r.state=c,r.data=e,l--},function(){l--})),null;case u:return null;case c:return r.data.images.some(function(e){return 0===e.width||0===e.height})?(delete r.data,r.state=s,e(t,r,n)):r.data;default:return null}}(this.getPageModel(e),this._getPageData(e),this.loadStatsTracker)},e.prototype.isPageReady=function(e){return this._getPageData(e).state===c},e.prototype._getVideoData=function(e){var t=e.page.pageNumber+"_"+e.id;return this.videoDatas[t]||(this.videoDatas[t]={state:s}),this.videoDatas[t]},e.prototype.getVideoThumb=function(e){var t=this._getVideoData(e);return function(e,t,r){if(r.state===s){r.state=u;var n=t.videoService,o=t.videoId;Object(i.c)(e,n,o).then(function(e){r.state=c,r.data=e},function(){})}return r.data}(this.apiOrigin,e,t)},e.prototype.getVideoThumbs=function(e){var t=this;this.getPageModel(e).links.forEach(function(e){Object(o.b)(e)&&t.getVideoThumb(e)})},e.prototype.setActivePages=function(e){var t=this;e.forEach(function(e){t.getPageLayers(e),t.getVideoThumbs(e)});for(var r=[],n=e[0]-2,i=e[e.length-1]+2;i>=n;i--)i>0&&i<=this.pageModels.length&&(this.getPageLayers(i),this.getVideoThumbs(i),r.push(i));return this.pageDatas.forEach(function(e,t){e&&e.state===c&&!r.includes(t+1)&&(delete e.data,e.state=s)}),Object.keys(this.videoDatas).forEach(function(e){var n=t.videoDatas[e],i=parseInt(e,10);n.state!==c||r.includes(i)||(delete n.data,n.state=s)}),r},e}()},function(e,t){e.exports="precision highp float;\nattribute vec2 a_vertex;\nattribute vec2 a_texCoord;\nuniform mat3 u_displayMatrix;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  v_texCoord = a_texCoord;\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = ((texture2D (u_texture, v_texCoord).xyz * u_color.w) + (u_color.xyz * u_color.w));\n  gl_FragColor = tmpvar_1;\n}\n\n"},function(e,t){e.exports="attribute vec2 a_vertex;\nuniform mat3 u_displayMatrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nvoid main ()\n{\n  gl_FragColor = u_color;\n}\n\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(4),i=r(56),o=r(10),a=r(39),s=r(70),u=r(77),c=r(150),l=r(45),d=r.n(l);function p(e,t,r){var n=o.c.create(),i=o.c.create();return o.c.set(n,t,r),o.c.transformMat2d(i,n,e),{x:i[0],y:i[1]}}function h(e,t){var r=o.a.create();return o.a.multiply(r,t,e.matrix),{p1:p(r,e.x,e.y),p2:p(r,e.x+e.width,e.y),p3:p(r,e.x,e.y+e.height),p4:p(r,e.x+e.width,e.y+e.height)}}var f=function(e){function t(r,n){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n));return i._lastActionTick=0,i}return babelHelpers.inherits(t,e),t.prototype.componentDidUpdate=function(e){d()(e.selectedResult,this.props.selectedResult)||(this._lastActionTick=this.props.selectedResult?n.b.lastTick:0)},t.prototype.isAnimating=function(e){return e-500<this._lastActionTick},t.prototype.draw=function(e,t){var r=Object(s.c)(t,this.props.pageType),n=this.getViewportCTM().matrix;if(e.save(),this.selectedResult){e.fillStyle="rgba(255, 255, 0, 0.5)";var i=this.selectedResult,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var u;if(o){if(a>=i.length)break;u=i[a++]}else{if((a=i.next()).done)break;u=a.value}var c=u,l=c.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(l[0],l[1],l[2],l[3],l[4],l[5]),e.fillRect(c.x,c.y,c.width,c.height)}}var d=this.results,p=Array.isArray(d),h=0;for(d=p?d:d[Symbol.iterator]();;){var f;if(p){if(h>=d.length)break;f=d[h++]}else{if((h=d.next()).done)break;f=h.value}var m=f,g=Array.isArray(m),v=0;for(m=g?m:m[Symbol.iterator]();;){var _;if(g){if(v>=m.length)break;_=m[v++]}else{if((v=m.next()).done)break;_=v.value}var b=_;e.beginPath(),e.setTransform(1,0,0,1,0,0),e.rect(r.x,r.y,r.width,r.height);var y=b.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(y[0],y[1],y[2],y[3],y[4],y[5]),e.rect(b.x,b.y,b.width,b.height),e.clip("evenodd")}}e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(r.x,r.y,r.width,r.height),e.restore()},t.prototype.appendWebglOps=function(e,t,r){var i=Object(s.c)(t,this.props.pageType),o=this.getViewportCTM().matrix,a=this.transform.matrix,l=this.model.pageNumber,d=[],p=this.results,f=Array.isArray(p),m=0;for(p=f?p:p[Symbol.iterator]();;){var g;if(f){if(m>=p.length)break;g=p[m++]}else{if((m=p.next()).done)break;g=m.value}var v=g,_=Array.isArray(v),b=0;for(v=_?v:v[Symbol.iterator]();;){var y;if(_){if(b>=v.length)break;y=v[b++]}else{if((b=v.next()).done)break;y=b.value}var T=y;d.push(h(T,o))}}var E=this.selectedResult,w=[],C=[];if(E){var x=E,S=Array.isArray(x),O=0;for(x=S?x:x[Symbol.iterator]();;){var R;if(S){if(O>=x.length)break;R=x[O++]}else{if((O=x.next()).done)break;R=O.value}var I=R,A=h(I,o),P=Object(c.b)(A);if(w.push(A),this.isAnimating(n.b.lastTick)){var k=h(I,a),N=Object(c.b)(k),L=null;if(N.max.x-N.min.x>=1&&N.max.y-N.min.y>=1){var D=(P.max.x-P.min.x+40)/(N.max.x-N.min.x);L=this.props.renderManager.generateSurfacesUncached([D,0,0,D,N.min.x*D*-1,N.min.y*D*-1],(N.max.x-N.min.x)*D,(N.max.y-N.min.y)*D,l)}C.push(L)}}}if(e.push({type:n.f,args:[i,d]}),w.length){var M=w.reduce(function(e,t){var r=Object(c.b)(t);return e.left=Math.min(r.min.x,e.left),e.top=Math.min(r.min.y,e.top),e.right=Math.max(r.max.x,e.right),e.bottom=Math.max(r.max.y,e.bottom),e},{left:1/0,top:1/0,right:-1/0,bottom:-1/0}),H=Math.max(M.right-M.left,M.bottom-M.top),F=(n.b.lastTick-this._lastActionTick)/500,U=F<.5?(H+Object(u.d)(0,40,2*F))/H:(H+Object(u.b)(40,0,2*(F-.5)))/H,B={x:(M.left+M.right)/2,y:(M.top+M.bottom)/2};e.push({type:n.e,args:[w,C,B,U]})}},t.prototype.afterDraw=function(e){this.isAnimating(n.b.lastTick)&&this.requestRedraw()},babelHelpers.createClass(t,[{key:"isVisible",get:function(){return!!this.model&&a.d.isVisible(this.root.__store__.getState())}},{key:"width",get:function(){return this.model?this.model.width:0}},{key:"height",get:function(){return this.model?this.model.height:0}},{key:"results",get:function(){return this.props.results}},{key:"selectedResult",get:function(){return this.props.selectedResult}},{key:"model",get:function(){return this.props.model}},{key:"transform",get:function(){return this._transform||(this._transform=new i.a),this.width&&this.height&&this._transform.mSet(this.parent.width/this.width,0,0,this.parent.height/this.height,0,0),this._transform}}]),t}(n.b)},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(197),i=r(23),o={draw:function(e,t,r,o){var a=Object(i.a)();e.save(),e.translate(t,r),e.scale(a,a),e.rotate(o/230),e.translate(-n.a.w/2,-n.a.h/2),n.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(56),i=r(4),o=r(143),a=r(182),s=r(50),u=r(28),c=r(61),l=r(23),d=r(8),p=r(11),h=r(26),f=function(e){function t(r,n){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n));return o.snapFunction=function(e,t,r){var n=o.clampChildrenIndex(o.getSpreadIndexAt(t+o.props.viewportWidth/2)),a=o.children[n];if(!a)return{left:t,top:0,zoom:1};var s=a.unzoomedBBox,u=s.x-o.xMargin;return i.b.RectPool.release(s),{left:u,top:0,zoom:1}},o._lastCenterSpreadIndex=-1,o._isSnapped=!0,o._scrollerMovedLastFrame=!1,o._lastVisiblePages="",o._lastPositionInPercent=0,o._spreadIndexBeforeGestureStart=0,o.scroller=new a.a(0,0,1,o.props.viewportWidth,o.props.viewportHeight,o.width,o.height),o}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.scroller.resize(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),this.scroller.setSnap(!0,this.snapFunction,!1);var e=this.clampChildrenIndex(this.props.currentSpreadIndex),t=this.children[e].unzoomedBBox;this.scroller.jumpTo(0,t.x-this.xMargin,1),i.b.RectPool.release(t),this.props.featureTracker.opportunity(d.a.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(d.a.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(d.a.GESTURE_DRAG_PAGES)},t.prototype.componentDidUpdate=function(e){if(this.props.viewportWidth!==e.viewportWidth||this.props.viewportHeight!==e.viewportHeight){var t=this.children[this.props.currentSpreadIndex].unzoomedBBox,r=t.x-this.xMargin;this.scroller.resize(0,r,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),i.b.RectPool.release(t)}},t.prototype.getChildrenToTraverse=function(){var e=this.getSpreadIndexAt(this.scroller.left),t=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1);return this.children.slice(Math.max(e,0),Math.min(t,this.children.length-1)+1)},t.prototype.clampChildrenIndex=function(e){return Math.max(Math.min(e,this.children.length-1),0)},t.prototype.onGestureStart=function(e,t,r,n){return this._spreadIndexBeforeGestureStart=this.props.currentSpreadIndex,this.scroller.touchStart(e,t,n),1===r.length},t.prototype.onGestureChange=function(e,t,r,n,i,o){return(o===u.b||o===u.d)&&1===r.length&&(this.scroller.touchMove(e,t,n,i),this.requestRedraw(),!0)},t.prototype.onGestureEnd=function(e){return this.scroller.touchEnd(e,i.b.lastTick),this.props.currentSpreadIndex!==this._spreadIndexBeforeGestureStart&&this.props.featureTracker.usage(d.a.GESTURE_DRAG_PAGES),this.scroller.isMoving&&this.requestRedraw(),!0},t.prototype.onSingleTapConfirmed=function(e,t,r){var n=this.getCurrentSpread(),i=n.children[0].viewportBBox;if(n.children.length>1){var o=n.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(n);if(e<i.x)return this.goToSpread(a-1),!0;if(e>i.x+i.width)return this.goToSpread(a+1),!0}return!1},t.prototype.getCurrentSpreadIndex=function(){return this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth/2)},t.prototype.getCurrentSpread=function(){return this.children[this.getCurrentSpreadIndex()]},t.prototype.getVisiblePageNumbers=function(){for(var e=[],t=Math.max(this.getSpreadIndexAt(this.scroller.left),0),r=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1),n=i.b.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),o=t;o<=r;o++){var a=this.children[o].children,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var l;if(s){if(u>=a.length)break;l=a[u++]}else{if((u=a.next()).done)break;l=u.value}var d=l,p=d.viewportBBox;Object(c.a)(n,p)&&e.push(d.model.pageNumber),i.b.RectPool.release(p)}}return i.b.RectPool.release(n),e},t.prototype.setSnapping=function(e){this.scroller.setSnap(e,null,!0,i.b.lastTick),this.requestRedraw()},t.prototype.jumpToPositionByPercent=function(e){this.getCurrentSpread().setZoom(1),this.scroller.jumpTo(0,e*(this.width-this.props.viewportWidth)/100),this.requestRedraw()},t.prototype.goToSpread=function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.scrollTo(0,r.x-this.xMargin,1,i.b.lastTick),i.b.RectPool.release(r),this.requestRedraw()}},t.prototype.jumpToSpread=function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.jumpTo(0,r.x-this.xMargin,1),i.b.RectPool.release(r),this.requestRedraw()}},t.prototype.getSpreadIndexAt=function(e){var t=Math.floor((e-this.xMargin)/(this.props.viewportWidth-this.xMargin-this.xOverlap));return Math.min(Math.max(t,0),this.children.length-1)},t.prototype.getChildTree=function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.props.documentPageSpreadList.map(function(t,r){var a=(e.props.viewportWidth-e.xMargin-e.xOverlap)*r+e.xMargin,s=new n.a;return s.mTranslate(a,e.yMargin),i.b.createElement(o.a,{dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,height:e.props.viewportHeight-2*e.yMargin,hideLinkToolTip:e.props.hideLinkToolTip,isCurrentSpread:r===e.props.currentSpreadIndex,isLinksToggledOn:e.props.isLinksToggledOn,isSnapped:e._isSnapped,mayRenderLinks:e.props.mayRenderLinks,pageModels:t.pages,paywalledPageStatus:t.pages.map(function(t){return e.props.paywalledPageNumbers.includes(t.pageNumber)}),readMode:e.props.readMode,showLinkToolTip:e.props.showLinkToolTip,transform:s,width:e.props.viewportWidth-2*e.xMargin,renderManager:e.props.renderManager})})},t.prototype.afterDraw=function(e){var t=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;this.scroller.update(i.b.lastTick);var r=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;(r||t)&&(this._isSnapped?(this._isSnapped=!1,this.forceUpdate()):this.requestRedraw()),r||!this.scroller.isSnapped()||this._isSnapped?this._isSnapped||this.requestRedraw():(this._isSnapped=!0,this.forceUpdate()),!this._scrollerMovedLastFrame&&r?this.props.onAnimationStart():this._scrollerMovedLastFrame&&!r&&this.props.onAnimationEnd(),this._scrollerMovedLastFrame=r;var n=this.getCurrentSpreadIndex();n!==this.props.currentSpreadIndex&&this.props.onSpreadChange(n);var o=this.getVisiblePageNumbers(),a=o.join()!==this._lastVisiblePages;this._lastVisiblePages=o.join();var u=-1===this._lastCenterSpreadIndex,c=this._lastCenterSpreadIndex!==n&&!u,l=this.children[n].children.map(function(e){return e.model.pageNumber}),d=this.props.currentPageNumber;if(c)d=l[0];else if(!o.includes(function(e){return e===d})){var p=o.find(function(e){return l.includes(e)});p&&(d=p)}this._lastCenterSpreadIndex=n;var h=this.scroller.getHorizontalPositionInPercent(),f=h!==this._lastPositionInPercent;if(this._lastPositionInPercent=h,(f||c||a)&&this.props.dispatch(Object(s.b)(o,n,d,l,h,f,c,a,this.scroller.isDragging)),c||u){var m=Array.from(new Set([].concat(o,l)));this.props.renderManager.setActivePages(m)}},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"HorizontalList"}},{key:"width",get:function(){var e=this.children?this.children.length:0;return this.props.viewportWidth*e-(this.xMargin+this.xOverlap)*(e-1)}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"transform",get:function(){return this._transform||(this._transform=new n.a),this._transform.mReset().mTranslate(-this.scroller.left,-this.scroller.top),this._transform}},{key:"inAnimation",get:function(){return!!this.scroller.isMoving||this.parent.inAnimation}},{key:"xMargin",get:function(){var e=this.props.readMode===p.DOUBLE_PAGE_SPREAD?h.f:h.g;return Object(l.a)()*e}},{key:"yMargin",get:function(){var e=0;return e=this.props.readMode===p.DOUBLE_PAGE_SPREAD?this.props.allowUIToOverlayCover?h.h:h.i:this.props.allowUIToOverlayCover?h.k:h.j,Object(l.a)()*e}},{key:"xOverlap",get:function(){return 0}}]),t}(i.b)},function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n=r(130),i=r(71),o=r(6),a=r(129),s=r(38),u=r(39),c=r(35),l=r(61),d=r(4),p=r(416),h=r(404),f=r(403),m=r(143),g=function(e){function t(r,n){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n));return i._isLinkToggledOn=!1,i._showTooltip=null,i._frameCountAtAnimationStart=-1,i._interactionStartTime=-1,i._inAnimation=!1,i.onSpreadChange=function(e){i._currentSpreadIndex=e,i._isLinkToggledOn=!1,i.forceUpdate()},i.onAnimationStart=function(){i._frameCountAtAnimationStart=i.frameCount,i._interactionStartTime=d.b.lastTick,i._inAnimation=!0},i.onAnimationEnd=function(){if(i._inAnimation=!1,i._frameCountAtAnimationStart>=0&&i._interactionStartTime>=0){var e=d.b.lastTick-i._interactionStartTime,t=e/(1e3/60)-(i.frameCount-i._frameCountAtAnimationStart);t>0&&i.props.metrics.onFrameDrop({droppedFrames:t,duration:e,webgl:i.props.usePageFlip})}},i.showLinkToolTip=function(e){i._showTooltip!==e&&(i._showTooltip=e,i.forceUpdate())},i.hideLinkToolTip=function(){i._showTooltip&&(i._showTooltip=null,i.forceUpdate())},i.__store__=r.store,i._currentSpreadIndex=Object(c.a)(r.readMode,r.currentPageNumber),i}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.spreadAnimator=this.children[0];var t={getVisibleComponents:function(){return e.getVisibleDescendants()},getRenderedViews:function(t){return e.getRenderedViews(t)},getReadMode:function(){return e.props.readMode},getPageComponent:function(t){var r=Object(c.a)(e.props.readMode,t),n=e.spreadAnimator.children[r];return n.children[0].pageNumber===t?n.children[0]:n.children[1]},goToPage:function(e){t.goToSpread(Object(c.a)(t.getReadMode(),e))},goToSpread:function(t){if(e.props.findIsVisible)e.spreadAnimator.jumpToSpread(t);else{var r=e.owner;e.props.usePageFlip||e.props.dispatch(Object(i.c)()),setTimeout(function(){r.canvasObjectTree&&r.canvasObjectTree.spreadAnimator.goToSpread(t)},0)}},jumpToPage:function(e){t.jumpToSpread(Object(c.a)(t.getReadMode(),e))},jumpToSpread:function(t){e.spreadAnimator.jumpToSpread(t)},setSnapping:function(t){return e.spreadAnimator.setSnapping(t)},jumpToPositionByPercent:function(t){return e.spreadAnimator.jumpToPositionByPercent(t)},zoomCurrentView:function(t){return e.spreadAnimator.getCurrentSpread().setZoom(t,!1)},getPosition:function(){return e.getPosition()},setPosition:function(t){return e.setPosition(t)}};this.props.dispatch(n.b(t))},t.prototype.componentDidUpdate=function(e){!e.browserTabIsVisible&&this.props.browserTabIsVisible&&(this._interactionStartTime=-1,this._frameCountAtAnimationStart=-1)},t.prototype.componentWillUnmount=function(){this.props.dispatch(n.c())},t.prototype.getChildTree=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e={allowUIToOverlayCover:this.props.allowUIToOverlayCover,canChangePages:this.props.documentPageSpreadList.length>1,currentSpreadIndex:this._currentSpreadIndex,currentPageNumber:this.props.currentPageNumber,disableGestures:this.props.findIsVisible,dispatch:this.props.dispatch,documentPageSpreadList:this.props.documentPageSpreadList,featureTracker:this.props.featureTracker,hideLinkToolTip:this.hideLinkToolTip,isLinksToggledOn:this._isLinkToggledOn,mayRenderLinks:this.props.mayRenderLinks,paywalledPageNumbers:this.props.paywalledPageNumbers,onAnimationEnd:this.onAnimationEnd,onAnimationStart:this.onAnimationStart,onSpreadChange:this.onSpreadChange,readMode:this.props.readMode,showLinkToolTip:this.showLinkToolTip,viewportHeight:this.props.height,viewportWidth:this.props.width,renderManager:this.props.renderManager};return[this.props.usePageFlip?d.b.createElement(f.a,e):d.b.createElement(p.a,e),d.b.createElement(h.a,{link:this._showTooltip})]},t.prototype.onSingleTapConfirmed=function(e,t,r){return this._isLinkToggledOn=!this._isLinkToggledOn,this.forceUpdate(),!0},t.prototype.getPosition=function(){var e=this,t=this.spreadAnimator.getCurrentSpread(),r=t.children,n=this.props.activeVideoLink,i=void 0;if(r.length<2?i=r[0]:n&&(i=r.find(function(e){return e.model.pageNumber===n.page.pageNumber})),!i){var o=d.b.RectPool.get(0,0,this.width,this.height),a=r[0].viewportBBox,s=r[1].viewportBBox,u=Object(l.a)(o,a)-Object(l.a)(o,s);i=u>0?r[0]:u<0?r[1]:r.find(function(t){return t.model.pageNumber===e.props.currentPageNumber}),d.b.RectPool.release(o)}if(!i)return null;var c=t.getCenter(),p=i.transform.inverse().transformPoint(c.x*t.width,c.y*t.height);return{x:p[0]/i.width,y:p[1]/i.height,zoom:t.getZoom(),pageNumber:i.pageNumber}},t.prototype.setPosition=function(e){var t=Object(c.a)(this.props.readMode,e.pageNumber),r=this.spreadAnimator.children[t],n=r.children.find(function(t){return t.pageNumber===e.pageNumber});if(m.a.scroller.zoom=e.zoom,n){var i=n.transform.transformPoint(e.x*n.width,e.y*n.height);r.setCenter({x:i[0],y:i[1]}),this.spreadAnimator.jumpToSpread(t),this.requestRedraw()}},t.prototype.getRenderedViews=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={},r={x:0,y:0,width:this.width,height:this.height};return d.b.traverse(this,function(n,i,o,a){if(!Object(l.a)(r,i))return!1;if(e&&!n.isVisible)return!0;t.hasOwnProperty(n.displayName)||(t[n.displayName]=[]);var s={},u=Object.keys(n).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(n))),c=Array.isArray(u),d=0;for(u=c?u:u[Symbol.iterator]();;){var p;if(c){if(d>=u.length)break;p=u[d++]}else{if((d=u.next()).done)break;p=d.value}var h=p,f=n[h];"number"!=typeof f&&"string"!=typeof f&&"boolean"!=typeof f||(s[h]=f)}var m=n.model||{};return t[n.displayName].push(Object.assign(n.viewportBBox,{model:m,view:s})),!0}),JSON.parse(JSON.stringify(t))},babelHelpers.createClass(t,[{key:"frameCount",get:function(){return this.owner.frameCount}},{key:"inAnimation",get:function(){return this._inAnimation}}]),t}(d.b),v=d.b.connect(g,function(e){return{allowUIToOverlayCover:o.p(e)||e.features.allowUIToOverlayCover,browserTabIsVisible:!e.visibility.isHidden,activeVideoLink:e.inlineVideo.activeVideoLink,currentPageNumber:e.reader.currentPageNumber,currentSpreadIndex:e.reader.currentSpreadIndex,documentPageSpreadList:o.y(e),findIsVisible:u.d.isVisible(e),featureTracker:e.featureTracker,mayRenderLinks:Object(a.a)(e)&&!u.d.isVisible(e),paywalledPageNumbers:Object(s.c)(e)}})},function(e,t,r){"use strict";r.d(t,"a",function(){return A});var n=r(13),i=r.n(n),o=r(0),a=r.n(o),s=r(34),u=r(15),c=r(4),l=r(417),d=r(400),p=r(98),h=r(12),f=r(130),m=r(82),g=r(23),v=r(61),_=r(6),b=r(17),y=r(71),T=r(38),E=r(129),w=r(84),C=r(399),x=r(66);function S(e){for(var t={x:0,y:0},r=0;r<e.length;r++)t.x+=e[r].x,t.y+=e[r].y;return{x:t.x/e.length,y:t.y/e.length}}function O(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(t(n))return n}}var R=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),I.call(n),i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.createContextAndInitializeCanvas(),this.fallbackTo2DIfViewportExceedGPULimit(),this.buildCanvasObjectTree(),this.canvasObjectTree?this.canvasObjectTree.requestRedraw():this.props.dispatch(f.c()),this.inputHandler=new m.a(this.refs.canvasContainer,{getScalingFactor:function(){return Object(g.a)()},catchWheelEvent:function(){return e.props.fullscreenEnabled},onSingleTap:function(t,r){e._singleTapWasHandled=e.bubbleEvent(function(e){return e.onSingleTap},t,r).handled,e.inputHandler.requestToIntercept()},onSingleTapConfirmed:function(t,r){e.bubbleEvent(function(e){return e.onSingleTapConfirmed},t,r,e._singleTapWasHandled),e._singleTapWasHandled=!1,e.props.dispatch(h.l())},onDoubleTap:function(t,r){e.bubbleEvent(function(e){return e.onDoubleTap},t,r),e.props.dispatch(h.b())},onGestureStart:function(t,r){e.props.usePageFlip||e.props.dispatch(Object(y.c)());var n=S(t),i=n.x,o=n.y;e.bubbleEvent(function(e){return e.onGestureStart},i,o,t,r).possibleHandlers.forEach(function(t){e._handlersOfCurrentGesture.push(t)}),e.props.dispatch(h.e())},onGestureChange:function(t,r,n,i){e.releaseMouseHitlist(r);var o=S(t),a=o.x,s=o.y;O(e._handlersOfCurrentGesture,function(o){return!(!o.onGestureChange||!o.onGestureChange(a,s,t,r,n,i))&&(e.inputHandler.requestToIntercept(),!0)}),e.props.dispatch(h.c())},onGestureEnd:function(t){O(e._handlersOfCurrentGesture,function(e){return e.onGestureEnd&&e.onGestureEnd(t)}),e._handlersOfCurrentGesture.length=0,e.props.dispatch(h.d())},onMouseEnter:function(t){e.props.usePageFlip||e.props.dispatch(Object(y.c)())},onMouseMove:function(t,r,n){e.updateMouseHitlist(t,r,n)},onMouseLeave:function(t){e.releaseMouseHitlist(t)}});requestAnimationFrame(function t(r){c.b.lastTick=r;var n=Object(g.a)(),i=e.canvas.clientWidth*n,o=e.canvas.clientHeight*n;i!==e.props.width||o!==e.props.height?(e.props.dispatch(Object(p.d)(i,o)),e.props.dispatch(h.k())):e.canvasObjectTree&&e.canvasObjectTree.hasPendingRedraw&&e.drawCanvasObjectTree(),e.updateInPubContent(),requestAnimationFrame(t)})},t.prototype.componentWillReceiveProps=function(e){var t=this,r=this.props;this.props=e;var n=r.readMode!==this.props.readMode||r.usePageFlip!==this.props.usePageFlip||r.visible!==this.props.visible||r.linksLoaded!==this.props.linksLoaded;if(this.canvasObjectTree&&n){var i=this.canvasObjectTree;this.previousPosition=i.getPosition(),c.b.unmountTree(i),this.canvasObjectTree=null}r.usePageFlip!==this.props.usePageFlip&&this.createContextAndInitializeCanvas();var o=r.width!==this.props.width||r.height!==this.props.height;o&&(this.canvas.width=this.props.width,this.canvas.height=this.props.height,this.fallbackTo2DIfViewportExceedGPULimit()),this.props.usePageFlip&&(o&&this.ctx&&this.ctx.viewport(0,0,this.ctx.drawingBufferWidth,this.ctx.drawingBufferHeight),/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Version\/9\.).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent)&&(r.visible&&!this.props.visible&&(this.canvas.style.display=""),!r.visible&&this.props.visible&&(this.canvas.style.display="none",setTimeout(function(){t.canvas.style.display=""},250)))),this.buildCanvasObjectTree(o),this.canvasObjectTree&&this.canvasObjectTree.requestRedraw(),1===this.props.zoomLevel?this.inputHandler.enableBrowserHandlingOfVerticalPanningGestures():this.inputHandler.disableBrowserHandlingOfAllPanningGestures()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.inputHandler&&this.inputHandler.destroy(),this.renderManager&&this.renderManager.release(),this.glManager&&(this.glManager.destroy(),this.glManager=null),this.ctx=null,this._glExtOesStandardDerivatives=null,this.canvas.removeEventListener("webglcontextlost",this.handleContextLost,!1),this.canvas.removeEventListener("webglcontextrestored",this.handleContextRestored,!1)},t.prototype.updateInPubContent=function(){var e=this.refs.inPubContent.getWrappedInstance(),t=!!this.canvasObjectTree&&this.canvasObjectTree.inAnimation;e.updatePagePositions(t)},t.prototype.render=function(){return a.a.createElement("div",null,a.a.createElement("div",{ref:"canvasContainer",style:{width:"100%",height:"100%",position:"absolute"}}),a.a.createElement(d.a,{ref:"inPubContent",metrics:this.props.metrics}))},t}(o.Component);R.displayName="Canvas",R.contextTypes={store:i.a.object};var I=function(){var e=this;this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.onFallbackTo2D=function(){e.inputHandler&&e.inputHandler.reset(),e.props.metrics.monitor("reader3-fallback-to-2d",{fallback:1})},this.getCustomCursor=function(){for(var t=e._lastMoveHitlist.length-1;t>=0;t--)if(e._lastMoveHitlist[t].getCustomCursor&&e._lastMoveHitlist[t].getCustomCursor())return e._lastMoveHitlist[t].getCustomCursor();return"default"},this.createRenderManager=function(){var t=e.renderManager;e.renderManager=new x.d({apiOrigin:e.props.config.origins.api,useWebGL:e.props.usePageFlip,ctx:e.ctx,hintMaxWidth:e.props.width,hintMaxHeight:e.props.height,pageModels:e.props.documentPages,loadStatsTracker:e.props.loadStatsTracker,renderManager:t,checkExplicit:e.props.checkIfVideoExplicit})},this.createContextAndInitializeCanvas=function(){var t=document.createElement("canvas");if(t.className="document-canvas",t.style.width=t.style.height="100%",t.width=e.props.width,t.height=e.props.height,e.glManager&&(e.glManager.destroy(),e.glManager=null),e.canvas?(e._glExtOesStandardDerivatives=null,e.canvas.removeEventListener("webglcontextlost",e.handleContextLost,!1),e.canvas.removeEventListener("webglcontextrestored",e.handleContextRestored,!1),e.refs.canvasContainer.replaceChild(t,e.canvas)):e.refs.canvasContainer.appendChild(t),e.canvas=t,e.props.usePageFlip){var r=Object(w.a)(e.canvas,e.props.withStencilBuffer);e.ctx=r,r?(e._glExtOesStandardDerivatives=r.getExtension("OES_standard_derivatives"),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),e.glManager=new C.a(r),e.canvas.addEventListener("webglcontextlost",e.handleContextLost,!1),e.canvas.addEventListener("webglcontextrestored",e.handleContextRestored,!1)):e.handleWebGLError()}else e.ctx=e.canvas.getContext("2d")},this.findComponentsAtPoint=function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[];return e.canvasObjectTree&&c.b.traverse(e.canvasObjectTree,function(e,o,a,s){return!(n&&!e.isVisible)&&(!!Object(v.b)(t,r,o)&&(i.push(e),!0))}),i},this.bubbleEvent=function(t,r,n){for(var i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var s={handled:!1,possibleHandlers:[]},u=e.findComponentsAtPoint(r,n),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var p=d;t(p)&&s.possibleHandlers.push(p)}return O(s.possibleHandlers,function(e){var i=t(e);return!(!i||!i.call.apply(i,[e,r,n].concat(o)))&&(s.handled=!0,!0)}),s},this.updateMouseHitlist=function(t,r,n){var i=e.findComponentsAtPoint(t,r,!1),o=i[i.length-1],a=e._lastMoveHitlist[e._lastMoveHitlist.length-1];o!==a&&(a&&a.onMouseLeave&&a.onMouseLeave(n),o&&o.onMouseEnter&&o.onMouseEnter(n)),e._lastMoveHitlist=i,O(i,function(e){return e.onMouseMove&&e.onMouseMove(t,r,n)})},this.releaseMouseHitlist=function(t){var r=e._lastMoveHitlist[e._lastMoveHitlist.length-1];r&&r.onMouseLeave&&r.onMouseLeave(t),e._lastMoveHitlist=[]},this.fallbackTo2DIfViewportExceedGPULimit=function(){if(e.ctx&&Object(w.b)(e.ctx)){var t=e.props.width-e.ctx.drawingBufferWidth>1,r=e.props.height-e.ctx.drawingBufferHeight>1;(t||r)&&(t&&e.props.dispatch(Object(y.g)(e.ctx.drawingBufferWidth)),r&&e.props.dispatch(Object(y.f)(e.ctx.drawingBufferHeight)),e.onFallbackTo2D())}},this.handleWebGLError=function(t){t&&Object(u.b)(t,{extra:{"fallback-to-2d":!0}}),e.onFallbackTo2D(),e.props.dispatch(Object(y.d)())},this.buildCanvasObjectTree=function(t){if(e.props.visible&&!(!e.ctx||Object(w.b)(e.ctx)&&e.ctx.isContextLost())){try{e.canvasObjectTree&&!t||e.createRenderManager(),e.canvasObjectTree=c.b.buildTree(c.b.createElement(l.a,{ctx:e.ctx,height:e.props.height,loadStatsTracker:e.props.loadStatsTracker,readMode:e.props.readMode,renderManager:e.renderManager,store:e.context.store,usePageFlip:e.props.usePageFlip,width:e.props.width,metrics:e.props.metrics}),e.canvasObjectTree,e)}catch(t){if(!Object(w.b)(e.ctx))throw t;e.handleWebGLError(t)}e.canvasObjectTree&&e.previousPosition&&(e.canvasObjectTree.setPosition(e.previousPosition),e.previousPosition=null)}},this.drawCanvasObjectTree=function(){var t=e.canvasObjectTree,r=e.glManager;if(e.ctx&&e.props.visible&&t&&(!Object(w.b)(e.ctx)||!e.ctx.isContextLost())){try{var n={x:0,y:0,width:e.props.width,height:e.props.height};r&&Object(w.b)(e.ctx)?c.b.drawWebgl(t,r,n):c.b.draw2d(t,e.ctx,n)}catch(t){if(!Object(w.b)(e.ctx))throw t;e.handleWebGLError(t)}var i=e.getCustomCursor();e.refs.canvasContainer.style.cursor!==i&&(e.refs.canvasContainer.style.cursor=i),e.frameCount+=1}},this.handleContextLost=function(t){t.preventDefault(),e.props.metrics.monitor("reader3-webgl-context-lost"),e.props.dispatch(Object(y.b)())},this.handleContextRestored=function(t){e.props.metrics.monitor("reader3-webgl-context-restored"),e.buildCanvasObjectTree(),e.canvasObjectTree&&e.canvasObjectTree.requestRedraw()}},A=Object(s.b)(function(e){return{height:e.size.height,width:e.size.width,readMode:Object(_.A)(e),visible:!e.visibility.supported||!e.visibility.isHidden,usePageFlip:Object(y.e)(e),fullscreenEnabled:Object(b.d)(e),config:e.config,documentPages:Object(T.b)(e),dropdownOpen:Object(_.b)(e),linksLoaded:Object(E.d)(e),zoomLevel:e.reader.zoomLevel,checkIfVideoExplicit:Object(_.i)(e),isIdle:e.reader.isIdle}},null,null,{pure:!1,withRef:!0})(R)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n  <svg width="20" height="15" viewBox="0 0 20 15" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.336-15.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M.845 12.877c0 .315.112.583.336.806.225.222.495.333.812.333h16.05c.317 0 .587-.11.81-.333.225-.223.337-.49.337-.806V3.534l-9.173 6.834L.845 3.534v9.343zm0-11.39l9.172 6.834 9.172-6.833c0-.314-.113-.582-.337-.805-.224-.222-.494-.334-.81-.334H1.992c-.318 0-.588.112-.812.334-.223.223-.335.49-.335.805z"/>\n    </g>\n  </svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n  <svg width="18" height="19" viewBox="0 0 18 19" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.695-11.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M8.898.796C4.028.796.078 4.72.078 9.558c0 3.588 2.172 6.67 5.28 8.025-.025-.612-.005-1.347.153-2.012l1.136-4.773s-.282-.56-.282-1.387c0-1.298.758-2.268 1.7-2.268.803 0 1.19.6 1.19 1.316 0 .8-.513 2-.778 3.11-.22.928.47 1.686 1.392 1.686 1.67 0 2.796-2.132 2.796-4.658 0-1.92-1.302-3.357-3.67-3.357-2.675 0-4.34 1.98-4.34 4.194 0 .764.225 1.302.58 1.72.163.19.186.267.127.487-.04.162-.14.55-.18.704-.058.222-.238.302-.44.22-1.233-.5-1.806-1.84-1.806-3.348 0-2.49 2.112-5.473 6.303-5.473 3.367 0 5.583 2.42 5.583 5.02 0 3.436-1.923 6.004-4.76 6.004-.95 0-1.846-.51-2.153-1.092 0 0-.512 2.02-.62 2.408-.188.676-.554 1.35-.888 1.877.792.233 1.63.36 2.498.36 4.87 0 8.82-3.923 8.82-8.762 0-4.84-3.95-8.762-8.82-8.762z"/>\n    </g>\n  </svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n  <svg width="21" height="18" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.12-12.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M0 15.526c1.757 1.122 3.886 1.683 6.39 1.683 1.22 0 2.39-.162 3.506-.483 1.116-.322 2.106-.774 2.97-1.358.853-.572 1.622-1.238 2.31-2 .686-.76 1.247-1.577 1.683-2.45.904-1.816 1.356-3.64 1.356-5.47v-.542c.812-.584 1.502-1.3 2.07-2.145-.818.36-1.618.58-2.397.66.89-.526 1.502-1.29 1.832-2.294-.852.49-1.727.826-2.625 1.003-.403-.413-.87-.733-1.397-.96-.528-.226-1.083-.34-1.664-.34-1.15 0-2.128.403-2.937 1.206-.81.803-1.214 1.776-1.214 2.917 0 .374.03.692.09.955C8.27 5.82 6.68 5.407 5.2 4.672S2.457 2.937 1.407 1.67C1.03 2.313.842 2.983.842 3.678c0 .695.165 1.345.495 1.948.33.604.786 1.096 1.367 1.477-.667-.02-1.294-.19-1.882-.512v.05c0 .99.315 1.867.946 2.628.63.76 1.428 1.236 2.392 1.426-.396.1-.766.148-1.11.148-.217 0-.475-.026-.772-.08.264.835.755 1.52 1.47 2.058.718.538 1.518.81 2.403.817-1.63 1.305-3.35 1.958-5.16 1.958-.376 0-.706-.023-.99-.07z"/>\n    </g>\n  </svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n  <svg width="17" height="18" viewBox="0 0 17 18" xmlns="http://www.w3.org/2000/svg">\n    <path class="icon" d="M16.082.34H.964c-.518 0-.938.42-.938.94v15.116c0 .518.42.938.938.938h8.14v-6.58H6.887V8.188h2.215V6.296c0-2.195 1.34-3.39 3.298-3.39.94 0 1.745.07 1.98.1v2.295h-1.358c-1.064 0-1.27.507-1.27 1.25v1.637h2.54l-.332 2.563h-2.21v6.58h4.332c.518 0 .938-.42.938-.937V1.28c0-.52-.42-.94-.938-.94" fill-rule="evenodd"></path>\n  </svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return _});var n=r(0),i=r.n(n),o=r(27),a=r.n(o),s=r(24),u=r.n(s),c=r(82),l=r(133),d=r(68),p=r(65),h=r(9),f=r(12),m=r(51),g=r(183),v=r(8),_=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.onMoreToggleClick=function(){n.props.readMoreDropdownVisible?n.props.dispatch(Object(m.e)()):n.props.readMorePlugin&&(n.props.readMorePlugin.clearButtonUnreadCount(),n.props.dispatch(Object(m.i)()),n.props.featureTracker.usage(v.a.BUTTON_MORE)),n.props.dispatch(Object(f.a)())},n.onNavigationLinkClick=function(){if(n.props.navigationLinkFeature){var e=n.props.navigationLinkFeature.url;n.props.dispatch(Object(f.a)()),n.props.featureTracker.usage(v.a.NAVIGATION_LINK),window.open(e,"_self")}},n.toggleShareDropdown=function(e){n.props.dispatch(Object(g.b)(e))},n.trackOpportunities=function(){n.props.shouldRenderReadMoreButton&&n.props.featureTracker.opportunity(v.a.BUTTON_MORE),n.props.shouldRenderShareButton&&n.props.featureTracker.opportunity(v.a.BUTTON_SHARE),n.props.shouldRenderDownloadButton&&n.props.featureTracker.opportunity(v.a.BUTTON_DOWNLOAD),n.props.navigationLinkFeature&&n.props.featureTracker.opportunity(v.a.NAVIGATION_LINK)},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.inputHandler=new c.a(a.a.findDOMNode(this.refs.headerControlsContainer),{onMouseEnter:function(t){e.props.isVisible&&e.props.dispatch(Object(h.l)(!0))},onMouseLeave:function(t){e.props.dispatch(Object(h.l)(!1))}}),this.trackOpportunities()},t.prototype.componentDidUpdate=function(e){this.trackOpportunities()},t.prototype.render=function(){var e=u()("header-controls",{"is-visible":this.props.isVisible}),t=u()("header-controls__share-dropdown-wrapper",{"is-visible":this.props.shareDropdownVisible}),r=u()({"is-visible":!p.a.isMobile()});return i.a.createElement("div",{ref:"headerControlsContainer",className:e},i.a.createElement("div",{className:"header-controls__background"}),i.a.createElement("div",{className:"header-controls__items"},this.props.navigationLinkFeature&&i.a.createElement("div",{className:"header-controls__item"},i.a.createElement("div",{className:"header-controls__navigation-link",onClick:this.onNavigationLinkClick},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.navigationLinkFeature.icon}}),this.props.navigationLinkFeature.text&&i.a.createElement("span",{className:r},this.props.navigationLinkFeature.text))),this.props.shouldRenderDownloadButton&&i.a.createElement(d.e,{featureTracker:this.props.featureTracker}),i.a.createElement("div",{className:"header-controls__item header-controls__item--spacer"}),this.props.shouldRenderReadMoreButton&&i.a.createElement("div",{className:u()("header-controls__item",{"header-controls__item--centered":p.a.isMobile()&&this.props.readMoreButtonCentered})},i.a.createElement("div",{className:u()("header-controls__more-toggle",{"header-controls__more-toggle--activated":this.props.readMoreDropdownVisible}),onClick:this.onMoreToggleClick},i.a.createElement("span",{className:"header-controls__more-toggle-text-wrapper"},"See More",this.props.readMoreButtonUnreadCount>0&&i.a.createElement("div",{className:"header-controls__morecount"},this.props.readMoreButtonUnreadCount)))),this.props.shouldRenderShareButton&&i.a.createElement("div",{className:"header-controls__item"},i.a.createElement(l.a,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,toggleShareDropdown:this.toggleShareDropdown}),i.a.createElement("div",{className:t},i.a.createElement(l.b,{dispatch:this.props.dispatch,documentTitle:this.props.documentTitle,documentUrl:this.props.documentUrl,coverImageUrl:this.props.coverImageUrl,featureTracker:this.props.featureTracker,toggleShareDropdown:this.toggleShareDropdown,visible:this.props.shareDropdownVisible})))))},t}(n.Component);_.displayName="HeaderControls"},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n='d="M7.593 13.866c.07.072.153.13.247.165.08.04.16.06.26.06l.01.005c.18 0 .36-.08.5-.223l4.037-4.016c.282-.253.282-.688 0-.967-.258-.277-.697-.277-.978 0L8.8 11.723V.732C8.8.357 8.48.04 8.1.04 7.72.04 7.4.356 7.4.73v10.992L4.52 8.885c-.26-.277-.7-.277-.98 0-.28.258-.28.693 0 .97l4.053 4.01zm6.398 3.228L2 17.1c-2.02 0-1.24-1.356.02-1.356l11.975-.005c1.26 0 2.024 1.36.005 1.36l-.01-.006z" fill="#F2F2F2" fill-rule="evenodd"',i='<svg width="16" height="18" viewBox="-2 0 20 18" xmlns="http://www.w3.org/2000/svg">\n  <path class="shadow" '+n+'></path>\n  <path class="icon" '+n+"></path>\n</svg>"},function(e,t,r){"use strict";var n=r(0),i=r.n(n),o=r(24),a=r.n(o),s=r(54),u=r(424),c=r(157),l=r(191);t.a=function(e){var t=e.downloadButtonStatus,r=e.onDownloadButtonClick,n=a()("header-controls__button","header-controls__download",{"is-visible":!0,"is-loading":t===s.b,"is-failure":t===s.a,spinner:t===s.b}),o=void 0,d=void 0;switch(t){case s.b:o=l.a,d="Downloading";break;case s.a:o=c.a,d="Failed to download";break;default:o=u.a,d="Download"}return i.a.createElement("div",{className:"header-controls__item"},i.a.createElement("div",{className:"header-controls__download--tooltip header-controls__download-protected--tooltip","data-tooltip":d},i.a.createElement("div",{className:n,onClick:r,dangerouslySetInnerHTML:{__html:o}})))}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n='d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"',i='d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"',o='d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"',a='d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"',s='d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"',u='d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"',c='d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"',l='\n<svg width="100%" height="100%" viewBox="-2 0 60 14">\n    <g class="logo__icon">\n        <path class="shadow" '+n+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="icon" '+n+'></path>\n        <path class="icon" '+i+'></path>\n    </g>\n    <g class="logo__title" transform="translate(17.000000, 0.000000)">\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="shadow" '+s+'></path>\n        <path class="shadow" '+u+'></path>\n        <path class="shadow" '+c+'></path>\n\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+'></path>\n        <path class="icon" '+s+'></path>\n        <path class="icon" '+u+'></path>\n        <path class="icon" '+c+"></path>\n    </g>\n</svg>\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(0),i=r.n(n),o=r(55),a=r(24),s=r.n(a),u=r(428),c=r(427),l=r(8),d=function(e){function t(r){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return n.handleClick=n.handleClick.bind(n),n}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.trackOpportunities()},t.prototype.componentDidUpdate=function(){this.trackOpportunities()},t.prototype.trackUsage=function(){var e=this.props.largeViewEngaged?l.a.BUTTON_DISENGAGE_LARGEVIEW:l.a.BUTTON_ENGAGE_LARGEVIEW;this.props.featureTracker.usage(e)},t.prototype.trackOpportunities=function(){var e=this.props.largeViewEngaged?l.a.BUTTON_DISENGAGE_LARGEVIEW:l.a.BUTTON_ENGAGE_LARGEVIEW;this.props.featureTracker.opportunity(e)},t.prototype.handleClick=function(){this.trackUsage(),this.props.handleClick()},t.prototype.render=function(){var e=this.props,t=e.largeViewEngaged,r=e.largeViewPromoted,n=t?u.a:c.a,a=t?"Standard View":"Larger View";return i.a.createElement("div",{className:s()("large-view-controls",{"large-view-controls--promoted":r})},i.a.createElement("div",{className:"large-view-controls__button","data-tooltip":a},i.a.createElement(o.a,{id:"ird3-button-large-view",className:"svg-btn ",onClick:this.handleClick,content:n})))},t}(i.a.PureComponent);d.displayName="LargeViewControls"},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(0),i=r.n(n),o=r(55),a=r(186),s=r(185),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.props.fullscreenEnabled!==e.fullscreenEnabled},t.prototype.render=function(){var e=this.props.fullscreenEnabled?a.a:s.a,t=this.props.fullscreenEnabled?"Exit":"Fullscreen";return i.a.createElement("div",{className:"fullscreen-controls"},i.a.createElement("div",{className:"fullscreen-controls__button","data-tooltip":t},i.a.createElement(o.a,{id:"ird3-button-fullscreen",className:"svg-btn ",onClick:this.props.toggleFullscreen,content:e})))},t}(n.Component);u.displayName="FullscreenControls"},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n='x="17" y="10" width="2" height="16" rx="2"',i='transform="translate(18.000000, 18.000000) scale(-1, -1) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',o='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '+n+"></rect>\n                <rect "+i+'></rect>\n            </g>\n        </g>\n        <rect class="shadow" '+n+'></rect>\n        <rect class="shadow" '+i+'></rect>\n        <rect class="icon" '+n+'></rect>\n        <rect class="icon" '+i+"></rect>\n    </svg>\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n='transform="translate(18.000000, 18.000000) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',i='\n    <svg width="36px" height="36px" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '+n+'></rect>\n            </g>\n        </g>\n        <rect class="shadow" '+n+'></rect>\n        <rect class="icon" '+n+"></rect>\n    </svg>\n"},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(0),i=r.n(n),o=r(45),a=r.n(o),s=r(55),u=r(112),c=r(26),l=r(12),d=r(432),p=r(431),h=r(8),f=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.trackOpportunities=function(){n.isZoomControlsVisible()&&(n.props.featureTracker.opportunity(h.a.BUTTON_ZOOMIN),n.props.featureTracker.opportunity(h.a.BUTTON_ZOOMOUT),n.props.featureTracker.opportunity(h.a.SLIDER_ZOOM))},n.isZoomControlsVisible=function(){var e=window.getComputedStyle(n.refs.zoomControls.parentNode);return e&&"none"!==e.display},n.handleZoomInButtonClick=function(){n.props.currentZoomLevel>=c.b||(n.props.zoomSliderOnChange(n.props.currentZoomLevel+1),n.props.featureTracker.usage(h.a.BUTTON_ZOOMIN),n.props.dispatch(l.a()))},n.handleZoomOutButtonClick=function(){n.props.zoomSliderOnChange(n.props.currentZoomLevel-1),n.props.featureTracker.usage(h.a.BUTTON_ZOOMOUT),n.props.dispatch(l.a())},n.handleZoomSliderChangeStart=function(){n.props.zoomSliderOnChangeStart(),n._zoomBeforeSliderStart=n.props.currentZoomLevel},n.handleZoomSliderChange=function(e){var t=(c.b-c.c)*(e/100)+c.c;n.props.zoomSliderOnChange(t)},n.handleZoomSliderChangeEnd=function(){n.props.zoomSliderOnChangeEnd(),n.props.currentZoomLevel!==n._zoomBeforeSliderStart&&n.props.featureTracker.usage(h.a.SLIDER_ZOOM)},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.trackOpportunities()},t.prototype.shouldComponentUpdate=function(e,t){return!(a()(this.props,e)&&a()(this.state,t))},t.prototype.componentDidUpdate=function(){this.trackOpportunities()},t.prototype.render=function(){var e=100/(c.b-c.c)*(this.props.currentZoomLevel-c.c);return i.a.createElement("div",{className:"zoom-controls",ref:"zoomControls"},i.a.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom out"},i.a.createElement(s.a,{id:"ird3-button-zoomout",className:"svg-btn",onClick:this.handleZoomOutButtonClick,content:d.a})),i.a.createElement("div",{className:"zoom-controls__slider"},i.a.createElement(u.a,{value:e,onChange:this.handleZoomSliderChange,onChangeStart:this.handleZoomSliderChangeStart,onChangeEnd:this.handleZoomSliderChangeEnd,segments:this.props.segments,type:u.a.SLIDER_TYPE_ALTERNATE})),i.a.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom in"},i.a.createElement(s.a,{id:"ird3-button-zoomin",className:"svg-btn",onClick:this.handleZoomInButtonClick,content:p.a})))},t}(n.Component);f.displayName="ZoomControls"},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(145),i=r(28),o=1,a=function(e){function t(r,n,a){babelHelpers.classCallCheck(this,t);var s=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n,a));return s._totalDeltaY=0,s._idleTimeoutId=null,s._elementWheelHandler=function(e){if(!e.ctrlKey&&s.callbacks.catchWheelEvent&&s.callbacks.catchWheelEvent()&&!s.isDeactivated()){if(s.options.activeHandler=s,s.savePointer(o,e.pageX,e.pageY,e.timeStamp),s.initialGesture===i.f&&(s.initialGesture=e.deltaY>0?i.h:i.g),0===s._totalDeltaY)s.fireGestureStart(),s._totalDeltaY+=e.deltaY;else{s._totalDeltaY+=e.deltaY;var t=1-s._totalDeltaY/200;s.fireGestureChange(t)}s._resetIdleTimeout(),s.options.shouldInvokePreventDefault()&&e.preventDefault()}},s.targetElement.addEventListener("wheel",s._elementWheelHandler,!1),s}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)},t.prototype.reset=function(){e.prototype.reset.call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=null},t.prototype._resetIdleTimeout=function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout(function(){e._idleTimeoutId=null,e._onIdle()},250)},t.prototype._cancelIdleTimeout=function(){null!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=null)},t.prototype._onIdle=function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(o),this.options.resetInterception()},t}(n.a)},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(145),i=r(28),o=1,a=100,s=function(e){function t(r,n,s){babelHelpers.classCallCheck(this,t);var u=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n,s));return u._totalDeltaY=0,u._idleTimeoutId=null,u._elementGestureStartHandler=function(e){if(!u.isDeactivated()){u.options.activeHandler=u,u.saveTargetElementOffset();var t=e.pageX,r=e.pageY;u.savePointer(o,t,r,e.timeStamp),u.fireGestureStart(),e.preventDefault()}},u._elementGestureChangeHandler=function(e){if(!u.isDeactivated()){var t=e.pageX,r=e.pageY;u.savePointer(o,t,r,e.timeStamp);var n=e.scale;!isNaN(n)&&isFinite(n)&&(u.initialGesture===i.f&&(u.initialGesture=n>1?i.g:i.h),u.fireGestureChange(n)),u.options.shouldInvokePreventDefault()&&e.preventDefault()}},u._elementGestureEndHandler=function(e){if(!u.isDeactivated()){var t=e.pageX,r=e.pageY;u.savePointer(o,t,r,e.timeStamp),u.fireGestureEnd(),u.deletePointer(o),u.options.shouldInvokePreventDefault()&&e.preventDefault(),u.options.resetInterception()}},u._elementWheelHandler=function(e){if(e.ctrlKey&&!u.isDeactivated()){u.options.activeHandler=u,u.savePointer(o,e.pageX,e.pageY,e.timeStamp),u.initialGesture===i.f&&(u.initialGesture=e.deltaY>0?i.h:i.g);var t=!1;if(0===u._totalDeltaY)u.fireGestureStart(),u._totalDeltaY+=e.deltaY,u._resetIdleTimeout();else if(0===e.deltaY)u._totalDeltaY=0,u.fireGestureEnd(),u.deletePointer(o),t=!0,u._cancelIdleTimeout();else{u._totalDeltaY+=e.deltaY;var r=1-u._totalDeltaY/a;u.fireGestureChange(r),u._resetIdleTimeout()}u.options.shouldInvokePreventDefault()&&e.preventDefault(),t&&u.options.resetInterception()}},u.targetElement.addEventListener("gesturestart",u._elementGestureStartHandler,!1),u.targetElement.addEventListener("gesturechange",u._elementGestureChangeHandler,!1),u.targetElement.addEventListener("gestureend",u._elementGestureEndHandler,!1),u.targetElement.addEventListener("wheel",u._elementWheelHandler,!1),u}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener("gesturestart",this._elementGestureStartHandler,!1),this.targetElement.removeEventListener("gesturechange",this._elementGestureChangeHandler,!1),this.targetElement.removeEventListener("gestureend",this._elementGestureEndHandler,!1),this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)},t.prototype.reset=function(){e.prototype.reset.call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=null},t.prototype._resetIdleTimeout=function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout(function(){e._idleTimeoutId=null,e._onIdle()},250)},t.prototype._cancelIdleTimeout=function(){null!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=null)},t.prototype._onIdle=function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(o),this.options.resetInterception()},t}(n.a)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=2,i=function(e){function t(r,i,o){babelHelpers.classCallCheck(this,t);var a,s=babelHelpers.possibleConstructorReturn(this,e.call(this,r,i,o));return s._elementPointerDownHandler=function(e){if(!s.isDeactivated()){s.options.activeHandler=s,s.options.updateLastPointerEventTimeStamp(e);var t=e.pointerId,r=e.pageX,n=e.pageY;if(s.options.shouldInvokeSetPointerCapture())try{s.targetElement.setPointerCapture?s.targetElement.setPointerCapture(""+t):s.targetElement.msSetPointerCapture&&s.targetElement.msSetPointerCapture(t)}catch(e){}0===s.getPointerCount()&&s.saveTargetElementOffset(),s.savePointer(t,r,n,e.timeStamp),s.saveInitialPinchDistance(),s.saveInitialGestureIfUndefined(),s.fireGestureStart(),s.registerTapHandlers()}},s._elementPointerMoveHandler=function(e){if(!s.isDeactivated()){s.options.updateLastPointerEventTimeStamp(e),s.fireMouseMove(e);var t=e.pointerId,r=e.pageX,i=e.pageY;s.isValidPointer(t)&&(s.isPointerMoved(t,r,i,n)&&(s.savePointer(t,r,i,e.timeStamp),s.saveInitialGestureIfUndefined(),s.fireGestureChange()),s.validateTapHandlers(),s.options.shouldInvokePreventDefault()&&e.preventDefault())}},s._elementPointerUpHandler=function(e){if(!s.isDeactivated()){s.options.updateLastPointerEventTimeStamp(e);var t=e.pointerId,r=e.pageX,n=e.pageY;if(s.isValidPointer(t)){s.savePointer(t,r,n,e.timeStamp);var i=!1;1===s.getPointerCount()?(s.fireGestureEnd(),s.executeTapHandlers(),s.deletePointer(t),i=!0):(s.fireGestureStart(),s.deletePointer(t),s.saveInitialPinchDistance()),s.options.shouldInvokePreventDefault()&&e.preventDefault(),i&&s.options.resetInterception()}}},s._elementPointerCancelHandler=function(e){s.unregisterTapHandlers(),s._elementPointerUpHandler(e)},s._elementPointerEnterHandler=function(e){s.options.updateLastPointerEventTimeStamp(e),s.fireMouseEnter(e)},s._elementPointerLeaveHandler=function(e){s.options.updateLastPointerEventTimeStamp(e),s.fireMouseLeave(e)},s.pointerEventTypes={DOWN:(a=!!window.PointerEvent)?"pointerdown":"MSPointerDown",MOVE:a?"pointermove":"MSPointerMove",UP:a?"pointerup":"MSPointerUp",CANCEL:a?"pointercancel":"MSPointerCancel",ENTER:a?"pointerenter":"MSPointerEnter",LEAVE:a?"pointerleave":"MSPointerLeave"},s.targetElement.addEventListener(s.pointerEventTypes.DOWN,s._elementPointerDownHandler,!1),s.targetElement.addEventListener(s.pointerEventTypes.MOVE,s._elementPointerMoveHandler,!1),s.targetElement.addEventListener(s.pointerEventTypes.UP,s._elementPointerUpHandler,!1),s.targetElement.addEventListener(s.pointerEventTypes.CANCEL,s._elementPointerCancelHandler,!1),s.targetElement.addEventListener(s.pointerEventTypes.ENTER,s._elementPointerEnterHandler,!1),s.targetElement.addEventListener(s.pointerEventTypes.LEAVE,s._elementPointerLeaveHandler,!1),s}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)},t}(r(146).a)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){function t(r,n,i){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n,i));return o._elementTouchStartHandler=function(e){o.isDeactivated()||(o.options.activeHandler=o,o.options.updateLastTouchEventTimeStamp(e),0===o.getPointerCount()&&o.saveTargetElementOffset(),o._saveChangedPointers(e),o.saveInitialPinchDistance(),o.saveInitialGestureIfUndefined(),o.fireGestureStart(),o.registerTapHandlers(),o.options.updateInterceptionWithTouchEvent(e),o.options.shouldInvokePreventDefault()&&e.preventDefault())},o._elementTouchMoveHandler=function(e){o.isDeactivated()||(o.options.updateLastTouchEventTimeStamp(e),0!==o._getValidChangedPointers(e).length&&(o._saveValidChangedPointers(e),o.saveInitialGestureIfUndefined(),o.options.updateInterceptionWithTouchEvent(e),o.options.hasBrowserIntercepted()?o.unregisterTapHandlers():(o.fireGestureChange(),o.validateTapHandlers()),o.options.shouldInvokePreventDefault()&&e.preventDefault()))},o._elementTouchEndHandler=function(e){if(!o.isDeactivated()){o.options.updateLastTouchEventTimeStamp(e);var t=o._getValidChangedPointers(e);if(0!==t.length){o._saveValidChangedPointers(e),o.options.updateInterceptionWithTouchEvent(e);var r=!1;o.getPointerCount()===t.length?(o.fireGestureEnd(),o.executeTapHandlers(),o._deleteValidChangedPointers(e),r=!0):(o._deleteValidChangedPointers(e),o.fireGestureStart(),o.saveInitialPinchDistance()),o.options.shouldInvokePreventDefault()&&e.preventDefault(),r&&o.options.resetInterception()}}},o._elementTouchCancelHandler=function(e){o._elementTouchEndHandler(e)},o.targetElement.addEventListener("touchstart",o._elementTouchStartHandler,!1),o.targetElement.addEventListener("touchmove",o._elementTouchMoveHandler,!1),o.targetElement.addEventListener("touchend",o._elementTouchEndHandler,!1),o.targetElement.addEventListener("touchcancel",o._elementTouchCancelHandler,!1),o}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener("touchstart",this._elementTouchStartHandler,!1),this.targetElement.removeEventListener("touchmove",this._elementTouchMoveHandler,!1),this.targetElement.removeEventListener("touchend",this._elementTouchEndHandler,!1),this.targetElement.removeEventListener("touchcancel",this._elementTouchCancelHandler,!1)},t.prototype._getValidChangedPointers=function(e){for(var t=[],r=0;r<e.changedTouches.length;r++){var n=e.changedTouches.item(r);n&&this.isValidPointer(n.identifier)&&t.push(n)}return t},t.prototype._saveValidChangedPointers=function(e){var t=this;this._getValidChangedPointers(e).forEach(function(r){t.savePointer(r.identifier,r.pageX,r.pageY,e.timeStamp)})},t.prototype._saveChangedPointers=function(e){for(var t=0;t<e.changedTouches.length;t++){var r=e.changedTouches.item(t);r&&this.savePointer(r.identifier,r.pageX,r.pageY,e.timeStamp)}},t.prototype._deleteValidChangedPointers=function(e){var t=this;this._getValidChangedPointers(e).forEach(function(e){t.deletePointer(e.identifier)})},t}(r(146).a)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=9999999999999;function i(e){return e>n?Math.floor(e/1e3):e<0?Math.floor(e+n):Math.floor(e)}},function(e,t,r){"use strict";function n(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var r=e.ownerDocument.documentElement||{};return{top:t.top+window.pageYOffset-r.clientTop,left:t.left+window.pageXOffset-r.clientLeft}}return t}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=1,i=function(e){function t(r,i,o){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,r,i,o));return a._elementMouseDownHandler=function(e){a.options.isSimulatedMouseEvents(e)||a.isDeactivated()||(a.options.activeHandler=a,a.saveTargetElementOffset(),a.savePointer(n,e.pageX,e.pageY,e.timeStamp),a.saveInitialPinchDistance(),a.fireGestureStart(),a.registerTapHandlers(),a.targetElement.ownerDocument.addEventListener("mousemove",a._ownerDocumentMouseMoveHandler,!1),a.targetElement.ownerDocument.addEventListener("mouseup",a._ownerDocumentMouseUpHandler,!1))},a._ownerDocumentMouseMoveHandler=function(e){a.savePointer(n,e.pageX,e.pageY,e.timeStamp),a.saveInitialGestureIfUndefined(),a.fireGestureChange(),a.validateTapHandlers(),a.options.shouldInvokePreventDefault()&&e.preventDefault()},a._ownerDocumentMouseUpHandler=function(e){a.savePointer(n,e.pageX,e.pageY,e.timeStamp),a.fireGestureEnd(),a.executeTapHandlers(),a.deletePointer(n),a.options.shouldInvokePreventDefault()&&e.preventDefault(),a.options.resetInterception(),a._removeEventListenersFromOwnerDocument()},a._elementMouseMoveHandler=function(e){a.options.isSimulatedMouseEvents(e)||a.fireMouseMove(e)},a._elementMouseEnterHandler=function(e){a.options.isSimulatedMouseEvents(e)||a.fireMouseEnter(e)},a._elementMouseLeaveHandler=function(e){a.options.isSimulatedMouseEvents(e)||a.fireMouseLeave(e)},a.targetElement.addEventListener("mousedown",a._elementMouseDownHandler,!1),a.targetElement.addEventListener("mousemove",a._elementMouseMoveHandler,!1),a.targetElement.addEventListener("mouseenter",a._elementMouseEnterHandler,!1),a.targetElement.addEventListener("mouseleave",a._elementMouseLeaveHandler,!1),a}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener("mousedown",this._elementMouseDownHandler,!1),this.targetElement.removeEventListener("mousemove",this._elementMouseMoveHandler,!1),this.targetElement.removeEventListener("mouseenter",this._elementMouseEnterHandler,!1),this.targetElement.removeEventListener("mouseleave",this._elementMouseLeaveHandler,!1),this._removeEventListenersFromOwnerDocument()},t.prototype.reset=function(){e.prototype.reset.call(this),this._removeEventListenersFromOwnerDocument()},t.prototype._removeEventListenersFromOwnerDocument=function(){this.targetElement.ownerDocument.removeEventListener("mousemove",this._ownerDocumentMouseMoveHandler,!1),this.targetElement.ownerDocument.removeEventListener("mouseup",this._ownerDocumentMouseUpHandler,!1)},t}(r(146).a)},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(0),i=r.n(n),o=r(112),a=r(45),s=r.n(a),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){window.ISSUU_READER_PAGE_SLIDER=this.refs.pageSlider},t.prototype.shouldComponentUpdate=function(e,t){return!(s()(this.props,e)&&s()(this.state,t))},t.prototype.render=function(){return i.a.createElement("div",{className:"page-controls"},i.a.createElement("span",{className:"page-controls__page-numbers"},this.props.currentPageNumbers," / ",this.props.pageCount),i.a.createElement("div",{className:"page-controls__slider"},i.a.createElement(o.a,{ref:"pageSlider",value:this.props.currentPageSliderPosition,onChange:this.props.pageSliderOnChange,onChangeStart:this.props.pageSliderOnChangeStart,onChangeEnd:this.props.pageSliderOnChangeEnd,locked:1===this.props.pageCount,segments:this.props.segments,markers:this.props.resultMarkers})))},t}(n.Component);u.displayName="PageControls"},function(e,t,r){"use strict";r.d(t,"a",function(){return P});var n=r(0),i=r.n(n),o=r(34),a=r(27),s=r.n(a),u=r(45),c=r.n(u),l=r(24),d=r.n(l),p=r(18),h=r(55),f=r(441),m=r(433),g=r(430),v=r(429),_=r(82),b=r(39),y=r(17),T=r(9),E=r(12),w=r(6),C=r(112),x=r(16),S=r(114),O=r(22),R=r(8),I=r(426),A=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.onReadOnIssuuClick=function(){var e=n.props.issuuBrandingFeature&&n.props.issuuBrandingFeature.openInNewTab?"_blank":"_self";window.open("https://issuu.com"+Object(p.c)("logo",n.props.issuuLinkTrackingQuery),e),n.props.dispatch(E.a()),n.props.featureTracker.usage(R.a.BUTTON_LOGO)},n.onToggleFullscreenClick=function(){n.props.toggleFullscreen(),n.props.featureTracker.usage(R.a.BUTTON_FULLSCREEN),n.props.dispatch(E.a())},n.onSliderActivityStart=function(){n.props.dispatch(T.n(!0)),n.props.dispatch(E.f())},n.onSliderActivityChange=function(){n.props.dispatch(E.f())},n.onSliderActivityEnd=function(){n.props.dispatch(T.n(!1)),n.props.dispatch(E.f())},n.handlePageSliderOnChangeStart=function(){n.props.canvasApi&&n.props.canvasApi.setSnapping(!1),n.onSliderActivityStart(),n._percentBeforeSlider=n.props.currentPageSliderPosition},n.handlePageSliderOnChange=function(e){n.onSliderActivityChange(),n.props.canvasApi&&n.props.canvasApi.jumpToPositionByPercent(e)},n.handlePageSliderOnChangeEnd=function(e){n.props.canvasApi&&n.props.canvasApi.setSnapping(!0),n.onSliderActivityEnd(),n.props.currentPageSliderPosition!==n._percentBeforeSlider&&n.props.featureTracker.usage(R.a.SLIDER_PAGES)},n.handleZoomSliderOnChangeStart=function(){n.onSliderActivityStart()},n.handleZoomSliderOnChange=function(e){n.onSliderActivityChange(),n.props.canvasApi&&n.props.canvasApi.zoomCurrentView(e)},n.handleZoomSliderOnChangeEnd=function(){n.onSliderActivityEnd()},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.inputHandler=new _.a(s.a.findDOMNode(this.refs.controlsContainer),{onMouseEnter:function(t){e.props.visible&&e.props.dispatch(T.l(!0))},onMouseLeave:function(t){e.props.dispatch(T.l(!1))}}),this.props.featureTracker.opportunity(R.a.SLIDER_PAGES)},t.prototype.shouldComponentUpdate=function(e,t){var r=this.props.visible!==e.visible;return e.visible&&(r=r||!(c()(this.props,e)&&c()(this.state,t))),r},t.prototype.componentWillUnmount=function(){this.inputHandler&&this.inputHandler.destroy()},t.prototype.render=function(){var e=this,t=void 0;this.props.showIssuuBranding&&(t=i.a.createElement("div",{className:"controls__read-on-issuu"},i.a.createElement("div",{className:"controls__read-on-issuu-button","data-tooltip":"See more on Issuu"},i.a.createElement(h.a,{className:"svg-btn logo-icon",onClick:this.onReadOnIssuuClick,content:I.a}))),this.props.featureTracker.opportunity(R.a.BUTTON_LOGO));var r=null;if(this.props.fullscreenFeature){var n=!1;switch(this.props.fullscreenFeature.showButtons){case O.FULLSCREEN_BUTTON.ALWAYS:n=!0;break;case O.FULLSCREEN_BUTTON.HIDE:n=this.props.fullscreenIsSupported}n&&(r=i.a.createElement(g.a,{fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.onToggleFullscreenClick}),this.props.featureTracker.opportunity(R.a.BUTTON_FULLSCREEN))}var o=d()("controls",{"controls--hidden":!this.props.visible});return i.a.createElement("div",{className:o,ref:"controlsContainer"},i.a.createElement("div",{className:"controls__background"}),i.a.createElement("div",{className:"controls__part controls__part--page-controls"},i.a.createElement(f.a,{currentPageSliderPosition:this.props.currentPageSliderPosition,currentPageNumbers:this.props.currentPageNumbers,pageCount:this.props.pageCount,pageSliderOnChangeStart:this.handlePageSliderOnChangeStart,pageSliderOnChange:this.handlePageSliderOnChange,pageSliderOnChangeEnd:this.handlePageSliderOnChangeEnd,segments:this.props.pageSegments,resultMarkers:this.props.resultMarkers})),this.props.zoomFeature&&i.a.createElement("div",{className:"controls__part controls__part--zoom-controls"},i.a.createElement(m.a,{currentZoomLevel:this.props.zoomLevel,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,segments:this.props.zoomSegments,zoomSliderOnChangeStart:this.handleZoomSliderOnChangeStart,zoomSliderOnChange:this.handleZoomSliderOnChange,zoomSliderOnChangeEnd:this.handleZoomSliderOnChangeEnd})),t&&i.a.createElement("div",{className:"controls__part"},t),this.props.enableFind&&i.a.createElement("div",{className:"controls__part"},i.a.createElement(b.b.FindButton,{featureTracker:this.props.featureTracker})),this.props.largeViewState!==S.c&&!this.props.fullscreenEnabled&&i.a.createElement("div",{className:"controls__part"},i.a.createElement(v.a,{featureTracker:this.props.featureTracker,largeViewPromoted:this.props.largeViewPromoted,largeViewEngaged:this.props.largeViewState===S.b,handleClick:function(){e.props.dispatch(T.d())}})),r&&i.a.createElement("div",{className:"controls__part controls__part--fullscreen-controls"},r))},t}(n.Component);A.displayName="Controls";var P=Object(o.b)(function(e){return{showIssuuBranding:w.F(e),canvasApi:e.canvasApi,enableFind:e.features.enableFind,currentPageNumbers:w.j(e).join("-"),currentPageSliderPosition:w.k(e),featureTracker:e.featureTracker,fullscreenEnabled:Object(y.d)(e),fullscreenIsSupported:e.fullscreen.supported,issuuBrandingFeature:w.q(e),issuuLinkTrackingQuery:w.r(e),pageCount:Object(x.d)(e).pageCount,pageSegments:Object(C.b)(e),resultMarkers:b.d.selectResultMarkers(e),fullscreenFeature:Object(y.e)(e),zoomFeature:w.G(e),zoomLevel:e.reader.zoomLevel,zoomSegments:Object(C.c)(e),largeViewPromoted:e.reader.largeViewPromoted,largeViewState:e.reader.largeViewState}},void 0,void 0,{pure:!1})(A)},function(e,t,r){"use strict";r.d(t,"a",function(){return O});var n=r(0),i=r.n(n),o=r(34),a=r(442),s=r(184),u=r(418),c=r(380),l=r(379),d=r(378),p=r(17),h=r(111),f=r(39),m=r(132),g=r(9),v=r(12),_=r(6),b=r(149),y=r(106),T=r(38),E=r(65),w=r(8),C=r(373),x=r(82),S=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.onNextSpreadButtonClick=function(e){e.preventDefault(),n.props.featureTracker.usage(w.a.BUTTON_ARROW_FORWARD),n.props.dispatch(v.a()),n.nextSpread()},n.onPreviousSpreadButtonClick=function(e){e.preventDefault(),n.props.featureTracker.usage(w.a.BUTTON_ARROW_BACKWARD),n.props.dispatch(v.a()),n.previousSpread()},n.trackOpportunities=function(){n.props.featureTracker.opportunity(w.a.FULLSCREEN_MORE),n.props.isLeftArrowVisible&&n.props.featureTracker.opportunity(w.a.BUTTON_ARROW_BACKWARD),n.props.isRightArrowVisible&&n.props.featureTracker.opportunity(w.a.BUTTON_ARROW_FORWARD)},n.nextSpread=function(){n.props.dispatch(g.e())},n.previousSpread=function(){n.props.dispatch(g.f())},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.refs.canvas.getWrappedInstance();window.ISSUU_READER_DOCUMENTCANVAS=t,this.interactionDetector=new C.a(this.refs.mainReader,function(){e.props.interactedWithReader||window.setTimeout(function(){e.props.dispatch(g.m())},500)}),this.inputHandler=new x.a(this.refs.mainReader,{onMouseMove:function(t,r,n){e.props.dispatch(v.j())},onMouseEnter:function(t){e.props.dispatch(v.h())},onMouseLeave:function(t){e.props.dispatch(v.i())}}),this.trackOpportunities()},t.prototype.componentDidUpdate=function(e){this.props.renderReadmore&&this.props.exitedFullscreen&&this.props.moreContentContainerIsVisible&&this.props.moreContentContainerIsVisible!==e.moreContentContainerIsVisible&&this.props.featureTracker.usage(w.a.FULLSCREEN_MORE),this.trackOpportunities()},t.prototype.componentWillUnmount=function(){this.interactionDetector&&this.interactionDetector.destroy()},t.prototype.render=function(){var e=void 0;e=this.props.showCTAOverlay?i.a.createElement(l.a,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.props.toggleFullscreen,visible:this.props.isControlsVisible}):i.a.createElement(a.a,{toggleFullscreen:this.props.toggleFullscreen,visible:this.props.isControlsVisible});var t={backgroundImage:this.props.logo?"url('"+this.props.logo.url+"')":"none"};return i.a.createElement("div",{ref:"mainReader",tabIndex:"1",className:"reader",style:t},i.a.createElement("div",{className:"reader__layout"},i.a.createElement(s.a,null),this.props.enableFind&&!this.props.showCTAOverlay&&i.a.createElement(f.b.FindOverlay,{featureTracker:this.props.featureTracker,enableIncrementalSearch:!E.a.isIOS()}),i.a.createElement("div",{className:"reader__canvas-container"},i.a.createElement(u.a,{ref:"canvas",loadStatsTracker:this.props.loadStatsTracker,metrics:this.props.metrics,withStencilBuffer:this.props.enableFind}),i.a.createElement(c.a,{leftArrowVisible:this.props.isLeftArrowVisible,rightArrowVisible:this.props.isRightArrowVisible,onClickLeftArrow:this.onPreviousSpreadButtonClick,onClickRightArrow:this.onNextSpreadButtonClick})),e,this.props.renderReadmore&&i.a.createElement(d.a,{dispatch:this.props.dispatch,visible:this.props.moreContentContainerIsVisible,showAsOverlay:this.props.showReadmoreAsOverlay,readerSizeInPixels:this.props.readerSizeInPixels},this.props.readMorePlugin.render(this.props.config,this.props.debugMode,this.props.exitedFullscreen,this.props.moreContentContainerIsVisible,this.props.showReadmoreAsOverlay)),this.props.renderPaywallOverlay&&i.a.createElement(h.a,null),this.props.renderVideoOverlay&&i.a.createElement(m.a,{metrics:this.props.metrics})))},t}(n.Component);S.displayName="Reader";var O=Object(o.b)(function(e){return{debugMode:e.reader.debugMode,exitedFullscreen:e.readmore.exitedFullscreen,featureTracker:e.featureTracker,interactedWithReader:e.reader.interactedWithReader,readMorePlugin:e.readMorePlugin,enableFind:e.features.enableFind,showReadmoreAsOverlay:y.d(e),fullscreenEnabled:Object(p.d)(e),isControlsVisible:_.a(e),logo:_.u(e),isLeftArrowVisible:b.a(e),isRightArrowVisible:b.b(e),moreContentContainerIsVisible:_.e(e),readerSizeInPixels:_.C(e),renderReadmore:y.b(e),renderPaywallOverlay:Object(T.a)(e),showCTAOverlay:_.E(e),renderVideoOverlay:Object(m.c)(e)}},void 0,void 0,{pure:!0})(S)},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),i=r.n(n),o=r(104),a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement("div",{className:"loading"},i.a.createElement("div",{className:"loading__spinner"},i.a.createElement(o.a,{type:o.a.SPINNER_TYPE_ALTERNATE})))},t}(n.Component);a.displayName="Loading"},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(64),i=r(103);function o(e,t,r){var o=e+"/"+t+"/"+r+"/reader3_4.json";return Object(i.a)(o).then(function(e){var i=e.status,o=e.document;if(0!==i||!o)throw new n.a("The document could not be loaded.",i);return babelHelpers.extends({username:t,documentName:r},o)})}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(103);function i(e,t){return Object(n.a)(e+"/call/reader/api/links-purchased/"+t,{withCredentials:!0}).catch(function(e){return new Error("Links for Protected Document could not be loaded.")})}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(103);function i(e,t,r){var i=e+"/call/reader/api/paywall-preview/"+t;return Object(n.a)(i,{withCredentials:!0,readerSessionHeader:r}).then(function(e){var r=e.status,n=e.document;if("ok"!==r||!n)throw new Error("The paywall preview could not be loaded. status: "+r+", fileId: "+t);return n})}},function(e,t,r){"use strict";var n=r(0),i=r.n(n),o=function(e){var t=e.color,r=e.size,n=babelHelpers.objectWithoutProperties(e,["color","size"]);return i.a.createElement("svg",babelHelpers.extends({xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))};o.defaultProps={color:"currentColor",size:"24"},t.a=o},function(e,t,r){"use strict";var n=r(0),i=r.n(n),o=function(e){var t=e.color,r=e.size,n=babelHelpers.objectWithoutProperties(e,["color","size"]);return i.a.createElement("svg",babelHelpers.extends({xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))};o.defaultProps={color:"currentColor",size:"24"},t.a=o},function(e,t,r){"use strict";r.d(t,"a",function(){return h});var n=r(37),i=r.n(n),o=r(0),a=r.n(o),s=r(12),u=r(55),c=r(131),l=r(104),d=r(83),p=r(99),h=function(e){function t(){var r,n,o;babelHelpers.classCallCheck(this,t);for(var h=arguments.length,f=Array(h),m=0;m<h;m++)f[m]=arguments[m];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(f))),n.onOpenAnywayHandler=function(){window.open(n.props.videoUrl,"_blank"),n.props.dispatch(s.a())},n.onBackgroundClick=function(){n.props.dispatch(Object(d.b)())},n.onCloseButtonClick=function(){n.props.dispatch(Object(d.b)()),n.props.dispatch(s.a())},n.getVideoEmbedUrl=function(){switch(n.props.service){case"youtube":var e=new i.a(n.props.videoUrl),t=["autoplay=1"];return["rel","start","end","loop"].forEach(function(r){e.hasQueryParam(r)&&t.push(r+"="+e.getQueryParamValue(r))}),"https://www.youtube.com/embed/"+n.props.videoId+"?"+t.join("&");case"vimeo":return"https://player.vimeo.com/video/"+n.props.videoId+"?autoplay=1";default:return""}},n.renderContent=function(){var e=n.props,t=e.videoInfo,r=e.service;if(!e.checkIfVideoExplicit||t===d.a.SAFE)return a.a.createElement("div",{className:"video-overlay__content"},a.a.createElement("iframe",{className:"video-overlay__player",src:n.getVideoEmbedUrl(),frameBorder:"0",allowFullScreen:!0}),a.a.createElement(u.a,{className:"svg-btn video-overlay__close-button",content:c.a,onClick:n.onCloseButtonClick}));switch(t){case d.a.EXPLICIT:return a.a.createElement("div",{className:"video-overlay__error-content"},a.a.createElement(p.c,{onSubmit:function(){return n.onOpenAnywayHandler()},onClose:function(){return n.onCloseButtonClick()},service:r}));case d.a.UNKNOWN:return a.a.createElement("div",{className:"video-overlay__content"},a.a.createElement("div",{className:"video-overlay__loading"},a.a.createElement(l.a,null)),a.a.createElement(u.a,{className:"svg-btn video-overlay__close-button",content:c.a,onClick:n.onCloseButtonClick}));case d.a.ERROR:return a.a.createElement("div",{className:"video-overlay__error-content"},a.a.createElement(p.b,{onSubmit:function(){return n.onOpenAnywayHandler()},onClose:function(){return n.onCloseButtonClick()},service:r}));default:throw new Error("The video info is not a valid value: "+t)}},o=r,babelHelpers.possibleConstructorReturn(n,o)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.service,r=e.videoId,n=e.videoInfo;e.checkIfVideoExplicit&&n===d.a.UNKNOWN&&this.props.dispatch(Object(d.c)(t,r,this.props.metrics))},t.prototype.render=function(){return a.a.createElement("div",{className:"video-overlay"},a.a.createElement("div",{className:"video-overlay__background",onClick:this.onBackgroundClick}),this.renderContent())},t}(o.Component);h.displayName="VideoOverlay"},function(e,t,r){"use strict";r.d(t,"a",function(){return x});var n=r(42),i=r(0),o=r.n(i),a=r(27),s=r.n(a),u=r(34),c=r(69),l=r(17),d=r(187),p=r(22),h=r(134),f=r(135),m=r(6),g=r(176),v=r(444),_=r(443),b=r(193),y=r(369),T=r(23),E=r(97),w=r(99),C=function(e){function t(){var r,n,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.reloadDocument=function(){n.props.documentConnector.reset(),n.loadDocument()},n.loadDocument=function(){return n.props.loadReaderData(n.props.documentConnector,function(){var e=Object(T.a)();return[n.container.clientWidth*e,n.container.clientHeight*e]},n.props.readMorePlugin)},n.listenToVisibilityChangeEvent=function(){Object(f.b)()&&Object(f.c)(function(){n.props.onVisibilityChange()})},n.toggleFullscreen=function(){return n.props.toggleFullscreen(n.props.documentUrlWithPageNumber)},i=r,babelHelpers.possibleConstructorReturn(n,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.container=s.a.findDOMNode(this.refs.main),this.loadDocument(),this.listenToVisibilityChangeEvent()},t.prototype.shouldComponentUpdate=function(e){return this.props.loading.status!==e.loading.status||this.props.adSize.join(",")!==e.adSize.join(",")||this.props.backgroundColor!==e.backgroundColor||this.props.backgroundImage!==e.backgroundImage||this.props.adSmallLayout!==e.adSmallLayout},t.prototype.render=function(){var e=["reader-container"];document.documentMode&&10===document.documentMode&&e.push("ie10");var t=this.props.adSize,r=!0,n=Object(E.a)(t);n||(t[0]<t[1]?(r=!1,e.push("reader-container--ad-on-left")):e.push("reader-container--ad-on-bottom"));var i=null;switch(this.props.loading.status){case h.a.FAILED:i=o.a.createElement(g.a,{sessionId:this.props.sessionId,reloadDocument:this.reloadDocument,error:this.props.loading.error});break;case h.a.SUCCESS:i=o.a.createElement(y.a,{featureTracker:this.props.featureTracker,toggleFullscreen:this.toggleFullscreen},o.a.createElement(_.a,{config:this.props.config,toggleFullscreen:this.toggleFullscreen,metrics:this.props.metrics,loadStatsTracker:this.props.loadStatsTracker}));break;case h.a.INITIALIZED:case h.a.LOADING:default:i=o.a.createElement(v.a,null)}this.props.backgroundImage&&(this.props.backgroundImage.style===p.BACKGROUND_IMAGE_STYLE.TOP_LEFT?e.push("reader-container--background-image-top-left"):this.props.backgroundImage.style===p.BACKGROUND_IMAGE_STYLE.STRETCH&&e.push("reader-container--background-image-stretch"));var a={width:"100%",height:"100%",backgroundColor:this.props.backgroundColor,backgroundImage:this.props.backgroundImage?"url('"+this.props.backgroundImage.url+"')":"none"};return o.a.createElement("div",{ref:"main",id:"ird3-main",className:e.join(" "),style:a},this.props.enableCookieConsent&&o.a.createElement(w.a,null),i,!n&&o.a.createElement(b.a,{adSize:t,horizontalLayout:r,metrics:this.props.metrics,smallLayout:this.props.adSmallLayout}))},t}(i.Component);C.displayName="Main";var x=Object(u.b)(function(e){return{backgroundColor:m.f(e),backgroundImage:m.g(e),config:e.config,documentUrlWithPageNumber:m.o(e),enableCookieConsent:!!e.features.enableCookieConsent,loading:e.loading,readMorePlugin:e.readMorePlugin,sessionId:e.config.sessionId,adSize:Object(b.b)(e),adSmallLayout:Object(b.c)(e)}},function(e){return{toggleFullscreen:Object(c.b)(l.f,e),loadReaderData:Object(c.b)(n.d,e),onVisibilityChange:Object(c.b)(d.a,e)}},void 0,{pure:!1})(C)},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),i=r.n(n),o=r(45),a=r.n(o),s=function(e){function t(r){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return n.redraw=n.redraw.bind(n),n.resize=n.resize.bind(n),n}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.resize),requestAnimationFrame(this.redraw)},t.prototype.shouldComponentUpdate=function(e){return!a()(this.props,e)},t.prototype.componentDidUpdate=function(e){requestAnimationFrame(this.redraw)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resize)},t.prototype.resize=function(){requestAnimationFrame(this.redraw)},t.prototype.redraw=function(){var e=this.props.markers,t=this.refs.canvas;if(t){var r=t.getContext("2d");if(r){var n=t.width=t.clientWidth;r.clearRect(0,0,n,1),r.fillStyle="yellow",e.forEach(function(e){r.fillRect(Math.round(e*(n-3)),0,3,1)})}}},t.prototype.render=function(){return i.a.createElement("canvas",{ref:"canvas",className:"slider-markers",height:1})},t}(n.Component)},function(e,t,r){"use strict";t.a='<svg width="100%" height="100%" viewBox="-9 -9 34 34" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="shadow" fill-rule="evenodd" />\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="icon" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(0),i=r.n(n),o=r(24),a=r.n(o),s=r(453),u=function(e){function t(r){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return n.onClick=n.onClick.bind(n),n}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.props.featureTracker.opportunity("BUTTON_OPEN_FIND")},t.prototype.onClick=function(){this.props.featureTracker.usage("BUTTON_OPEN_FIND"),this.props.onClick()},t.prototype.render=function(){var e=this.props.findAvailable,t=e?"Find":"Find is not available";return i.a.createElement("div",{className:a()("controls__find-button",{"controls__find-button--disabled":!e}),"data-tooltip":t},i.a.createElement("button",{type:"button",className:a()("find-button svg-btn",{"svg-btn--disabled":!e}),onClick:this.onClick,dangerouslySetInnerHTML:{__html:s.a},disabled:!e}))},t}(n.Component)},function(e,t,r){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.052 16c.243 0 .484-.092.67-.275.37-.367.37-.963 0-1.33L6.284 8l6.438-6.395c.37-.368.37-.963 0-1.33-.37-.367-.97-.367-1.338 0l-7.108 7.06c-.37.366-.37.962 0 1.33l7.106 7.06c.185.183.427.275.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,r){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4.948 16c-.243 0-.484-.092-.67-.275-.37-.367-.37-.963 0-1.33L10.716 8 4.277 1.604c-.37-.368-.37-.963 0-1.33.37-.367.97-.367 1.338 0l7.108 7.06c.37.366.37.962 0 1.33l-7.106 7.06c-.185.183-.427.275-.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,r){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.446 8L.322 14.124c-.43.43-.43 1.126 0 1.555.215.213.496.32.777.32.28 0 .562-.107.776-.32L8 9.554l6.124 6.124c.214.213.496.32.777.32.282 0 .563-.107.778-.32.43-.43.43-1.126 0-1.556L9.554 8l6.124-6.124c.43-.43.43-1.125 0-1.554-.43-.43-1.125-.43-1.554 0L8 6.446 1.876.322c-.43-.43-1.125-.43-1.554 0-.43.43-.43 1.125 0 1.554L6.446 8z" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(0),i=r.n(n),o=r(24),a=r.n(o),s=r(457),u=r(456),c=r(455),l=function(e){function t(r){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return n.state={timerId:null},n.handleKeyDown=n.handleKeyDown.bind(n),n.next=n.next.bind(n),n.previous=n.previous.bind(n),n.close=n.close.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleInputBlur=n.handleInputBlur.bind(n),n}return babelHelpers.inherits(t,e),t.prototype.handleVisibilityChanged=function(e,t){!e&&t?(this.refs.input.focus(),this.props.featureTracker.opportunity("FIND_QUERY"),this.props.featureTracker.opportunity("FIND_NEXT"),this.props.featureTracker.opportunity("FIND_PREV"),this.props.featureTracker.opportunity("FIND_CLOSE"),this.props.featureTracker.opportunity("FIND_CLOSE_BLUR")):!t&&e&&this.refs.input.blur()},t.prototype.componentDidMount=function(){this.handleVisibilityChanged(!1,this.props.isVisible)},t.prototype.componentDidUpdate=function(e,t){this.handleVisibilityChanged(e.isVisible,this.props.isVisible)},t.prototype.handleKeyDown=function(e){var t="MacIntel"===window.navigator.platform;if(71===e.keyCode&&t&&e.metaKey||!t&&e.ctrlKey)e.preventDefault(),e.shiftKey?this.previous():this.next();else if("Enter"===e.key){if(e.preventDefault(),this.props.isNewQuery?(this.state.timerId&&clearTimeout(this.state.timerId),this.search(this.props.inputFieldValue)):e.shiftKey?this.previous():this.next(),this.props.isMobile)e.target.blur()}},t.prototype.handleInputChange=function(e){var t=this;this.state.timerId&&clearTimeout(this.state.timerId),this.props.inputFieldChanged(e);var r=null;this.props.enableIncrementalSearch&&(r=setTimeout(function(){t.search(t.props.inputFieldValue)},500)),this.setState({timerId:r})},t.prototype.handleInputBlur=function(e){this.props.inputFieldValue||(this.props.featureTracker.usage("FIND_CLOSE_BLUR"),this.props.onCloseButtonClick())},t.prototype.next=function(){this.props.featureTracker.usage("FIND_NEXT"),this.props.onNextButtonClick()},t.prototype.previous=function(){this.props.featureTracker.usage("FIND_PREV"),this.props.onPreviousButtonClick()},t.prototype.search=function(e){this.props.featureTracker.usage("FIND_QUERY"),this.props.onSearch(e,this.props.currentPage)},t.prototype.close=function(){this.props.featureTracker.usage("FIND_CLOSE"),this.props.onCloseButtonClick()},t.prototype.render=function(){var e=this.props,t=e.isVisible,r=e.currentResult,n=e.numberOfResults,o=e.isMobile,l=e.Spinner,d=e.inputFieldValue,p=e.isLoading,h=e.onRetryClick;return i.a.createElement("div",{className:a()("find-widget",{"find-widget--hidden":!t})},i.a.createElement("button",{className:"find-widget__button find-widget__close-button",type:"button",dangerouslySetInnerHTML:{__html:s.a},onClick:this.close}),i.a.createElement("form",{className:"find-widget__input-wrapper",action:"javascript:void(0)"},i.a.createElement("input",{className:a()("find-widget__input",{"find-widget__input--large-font":o}),ref:"input",type:"search",onKeyDown:this.handleKeyDown,placeholder:"Find in publication...",value:d,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),i.a.createElement("div",{className:"find-widget__results-wrapper"},"READY"===p&&"number"==typeof n&&i.a.createElement("span",{className:"find-widget__results"},r," of ",n),"FAILED"===p&&i.a.createElement("button",{type:"button",onClick:h,className:"find-widget__retry-button"},"retry"),"LOADING"===p&&i.a.createElement(l,{size:l.SPINNER_SIZE_TINY}))),i.a.createElement("button",{className:a()("find-widget__button","find-widget__previous-button",{"find-widget__button--disabled":!n}),dangerouslySetInnerHTML:{__html:c.a},type:"button",onKeyDown:this.handleKeyDown,onClick:this.previous,disabled:!n}),i.a.createElement("button",{className:a()("find-widget__button","find-widget__next-button",{"find-widget__button--disabled":!n}),dangerouslySetInnerHTML:{__html:u.a},type:"button",onKeyDown:this.handleKeyDown,onClick:this.next,disabled:!n}),"FAILED"===p&&i.a.createElement("span",{className:"find-widget__error-message"},"Oops, something went wrong"))},t}(i.a.Component)},,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(34),i=r(458),o=r(454),a=r(452),s=r(105),u=r(31);function c(e){var t=e.Spinner,r=e.isMobile,c=e.jumpToPageNumber,l=e.pageNumberToSpreadIndex,d=e.resetZoom,p=e.selectCurrentPageNumber,h=(e.selectPageCount,e.selectReadMode),f=e.selectSpreadCount,m=Object(u.d)(s.a),g=function(e,t){return function(r,n){return r(m(e,t)).then(function(){var e=n(),t=Object(u.h)(e);t&&c(e,t.pageNo)})}},v=function(){return function(e,t){return e(Object(u.g)()).then(function(){var r=t(),n=Object(u.m)(r),i=p(r);return e(g(n,i))}),d(t()),Promise.resolve()}},_=Object(n.b)(function(e){return{isVisible:Object(u.f)(e),findAvailable:Object(u.k)(e)}},{closeFindDialog:u.a,openFindDialog:v},function(e,t,r){return Object.assign({},r,e,{onClick:e.isVisible?t.closeFindDialog:t.openFindDialog,findAvailable:e.findAvailable})})(o.a),b={onCloseButtonClick:u.a,onSearch:g,setCurrentResultIdx:function(e){return function(t,r){return t(Object(u.t)(e)).then(function(){var e=r(),t=Object(u.h)(e);t&&c(e,t.pageNo)})}},triggerLoadTextInfo:function(){return function(e,t){var r=t(),n=Object(u.m)(r),i=p(r);e(g(n,i))}},inputFieldChanged:u.e},y=Object(n.b)(function(e){return{isMobile:r,isVisible:Object(u.f)(e),currentResult:Object(u.i)(e),numberOfResults:Object(u.p)(e),currentPage:p(e),nextResultIdx:Object(u.o)(e),previousResultIdx:Object(u.q)(e),inputFieldValue:Object(u.j)(e),isLoading:Object(u.n)(e),isNewQuery:Object(u.l)(e),Spinner:t}},b,function(e,t,r){return Object.assign({},r,e,t,{onNextButtonClick:function(){return t.setCurrentResultIdx(e.nextResultIdx)},onPreviousButtonClick:function(){return t.setCurrentResultIdx(e.previousResultIdx)},onRetryClick:t.triggerLoadTextInfo})})(i.a);return{actions:{setTextInfoUrl:u.u,openFindDialog:v,closeFindDialog:u.a},components:{FindOverlay:y,FindButton:_,SliderMarkers:a.a},createReducer:u.b,selectors:{isVisible:u.f,selectResults:u.r,selectCurrentResult:u.h,selectTextInfoPageModels:u.s,selectIsAvailable:u.k,selectResultMarkers:Object(u.c)(u.f,f,h,l)}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(476);r.n(n).a.polyfill()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){r(2),r(41),r(25),e.exports=r(522)}]]);
//# sourceMappingURL=http://sourcemaps.issuu.com/static.issuu.com/issuu-reader3/1577/reader.js.c0040a03.map